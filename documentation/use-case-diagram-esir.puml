@startuml eSIR Use Case Diagram

!define RECTANGLE class

title Use Case Diagram - Sistem eSIR (Emergency System Information & Referral)

left to right direction

' Actors
actor "Admin" as admin
actor "Dokter" as dokter
actor "Pasien" as pasien
actor "Ambulans Driver" as ambulance
actor "Faskes" as faskes
actor "Sistem Notifikasi" as notif

' System Boundary
rectangle "Sistem eSIR" {
  
  ' Authentication & User Management
  usecase "Login" as UC1
  usecase "Logout" as UC2
  usecase "Refresh Token" as UC3
  usecase "Kelola User" as UC4
  usecase "Reset Password" as UC5
  
  ' Patient Management
  usecase "Daftar Pasien" as UC6
  usecase "Tambah Pasien" as UC7
  usecase "Edit Pasien" as UC8
  usecase "Hapus Pasien" as UC9
  usecase "Cari Pasien" as UC10
  
  ' Referral Management
  usecase "Buat Rujukan" as UC11
  usecase "Lihat Rujukan" as UC12
  usecase "Update Status Rujukan" as UC13
  usecase "Cancel Rujukan" as UC14
  usecase "Tracking Rujukan" as UC15
  
  ' Document Management
  usecase "Upload Dokumen" as UC16
  usecase "Download Dokumen" as UC17
  usecase "Lihat Dokumen" as UC18
  usecase "Hapus Dokumen" as UC19
  
  ' Bed Management
  usecase "Kelola Tempat Tidur" as UC20
  usecase "Cek Ketersediaan Bed" as UC21
  usecase "Update Status Bed" as UC22
  
  ' Facility Management
  usecase "Kelola Faskes" as UC23
  usecase "Tambah Faskes" as UC24
  usecase "Edit Faskes" as UC25
  
  ' Reporting
  usecase "Generate Laporan" as UC26
  usecase "Lihat Statistik" as UC27
  usecase "Export Data" as UC28
  
  ' Notification System
  usecase "Kirim Notifikasi" as UC29
  usecase "Terima Notifikasi" as UC30
  usecase "Update Status Notifikasi" as UC31
  
  ' Real-time Features
  usecase "Real-time Tracking" as UC32
  usecase "Live Chat" as UC33
  usecase "GPS Tracking" as UC34
  
  ' Search & Analytics
  usecase "Pencarian Lanjutan" as UC35
  usecase "Analisis Data" as UC36
  usecase "Filter Data" as UC37
}

' Admin Relationships
admin --> UC1
admin --> UC2
admin --> UC4
admin --> UC5
admin --> UC6
admin --> UC7
admin --> UC8
admin --> UC9
admin --> UC23
admin --> UC24
admin --> UC25
admin --> UC26
admin --> UC27
admin --> UC28
admin --> UC29

' Doctor Relationships
dokter --> UC1
dokter --> UC2
dokter --> UC6
dokter --> UC10
dokter --> UC11
dokter --> UC12
dokter --> UC13
dokter --> UC16
dokter --> UC17
dokter --> UC18
dokter --> UC20
dokter --> UC21
dokter --> UC22
dokter --> UC30
dokter --> UC31
dokter --> UC32
dokter --> UC35

' Patient Relationships
pasien --> UC1
pasien --> UC2
pasien --> UC12
pasien --> UC15
pasien --> UC17
pasien --> UC18
pasien --> UC30
pasien --> UC31
pasien --> UC32
pasien --> UC33

' Ambulance Driver Relationships
ambulance --> UC1
ambulance --> UC2
ambulance --> UC15
ambulance --> UC32
ambulance --> UC34
ambulance --> UC30
ambulance --> UC31

' Facility Relationships
faskes --> UC1
faskes --> UC2
faskes --> UC12
faskes --> UC20
faskes --> UC21
faskes --> UC22
faskes --> UC30
faskes --> UC31

' Notification System Relationships
notif --> UC29
notif --> UC30
notif --> UC31

' Include Relationships
UC11 ..> UC6 : <<include>>
UC11 ..> UC20 : <<include>>
UC11 ..> UC29 : <<include>>
UC13 ..> UC29 : <<include>>
UC14 ..> UC29 : <<include>>
UC16 ..> UC6 : <<include>>
UC26 ..> UC6 : <<include>>
UC26 ..> UC12 : <<include>>
UC32 ..> UC34 : <<include>>

' Extend Relationships
UC35 ..> UC6 : <<extend>>
UC35 ..> UC12 : <<extend>>
UC36 ..> UC26 : <<extend>>
UC37 ..> UC35 : <<extend>>

' Notes
note right of UC1 : Menggunakan JWT authentication
note right of UC11 : Membutuhkan validasi ketersediaan bed
note right of UC16 : Support berbagai format file
note right of UC32 : Real-time menggunakan WebSocket
note right of UC34 : GPS tracking untuk ambulans

@enduml
