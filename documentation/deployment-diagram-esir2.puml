@startuml Deployment Diagram - eSIR 2.0 System

!define RECTANGLE class

skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam roundcorner 20

title Deployment Diagram - eSIR 2.0 Emergency Referral System

' ===== NODES =====
node "Client Devices" as client {
  artifact "Web Browser" as browser
  artifact "Mobile App" as mobile
  artifact "Admin Dashboard" as admin
}

node "Web Server (Apache/Nginx)" as webserver {
  artifact "Static Files" as static
  artifact "SSL Certificate" as ssl
}

node "Frontend Server" as frontend {
  artifact "React App" as react
  artifact "Build Files" as build
  artifact "Public Assets" as assets
}

node "Backend Server" as backend {
  artifact "Node.js Runtime" as nodejs
  artifact "Express.js Server" as express
  artifact "Socket.io" as socketio
  artifact "JWT Middleware" as jwt
  artifact "CORS Middleware" as cors
  artifact "Multer Upload" as multer
  artifact "Nodemailer" as email
}

node "Database Server" as database {
  artifact "MySQL Database" as mysql
  artifact "Database Schema" as schema
  artifact "User Data" as userdata
  artifact "Referral Data" as referraldata
  artifact "Hospital Data" as hospitaldata
}

node "File Storage" as storage {
  artifact "Upload Directory" as uploads
  artifact "Document Files" as docs
  artifact "Image Files" as images
}

node "Email Server" as emailserver {
  artifact "SMTP Server" as smtp
  artifact "Email Templates" as templates
}

node "Network Infrastructure" as network {
  artifact "Load Balancer" as lb
  artifact "Firewall" as firewall
  artifact "VPN" as vpn
}

' ===== DEPLOYMENTS =====
client --> webserver : HTTPS (Port 443)
client --> frontend : HTTP (Port 3000)
frontend --> backend : HTTP (Port 3001)
backend --> database : MySQL (Port 3306)
backend --> storage : File System
backend --> emailserver : SMTP (Port 587)
webserver --> frontend : Proxy
network --> webserver : Load Balance
network --> frontend : Load Balance
network --> backend : Load Balance

' ===== ARTIFACT DEPLOYMENTS =====
react :::deploy--> frontend
express :::deploy--> backend
mysql :::deploy--> database
static :::deploy--> webserver

' ===== TECHNOLOGIES =====
note right of frontend
  **Frontend Technologies:**
  - React 19.1.1
  - React Router DOM
  - Leaflet Maps
  - Socket.io Client
  - Axios HTTP Client
end note

note right of backend
  **Backend Technologies:**
  - Node.js
  - Express.js 4.18.2
  - Socket.io 4.7.4
  - MySQL2 3.6.5
  - JWT Authentication
  - Multer File Upload
  - Nodemailer
end note

note right of database
  **Database:**
  - MySQL Database
  - Port: 3306
  - Database: esirv2
  - Tables: users, referrals,
    hospitals, documents
end note

note right of network
  **Network Security:**
  - HTTPS/SSL
  - Firewall Protection
  - Load Balancing
  - VPN Access
end note

' ===== ENVIRONMENT NOTES =====
note bottom of client
  **Development Environment:**
  - Frontend: http://localhost:3000
  - Backend: http://localhost:3001
  - Database: localhost:3306
end note

note bottom of backend
  **Production Considerations:**
  - Environment Variables
  - Process Management (PM2)
  - Logging & Monitoring
  - Backup Strategies
end note

@enduml
