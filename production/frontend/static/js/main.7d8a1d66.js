/*! For license information please see main.7d8a1d66.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var a=n(853),i=n(43),s=n(950);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(r(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case j:return"Suspense";case w:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case b:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var O=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},I=[],D=-1;function B(e){return{current:e}}function F(e){0>D||(e.current=I[D],I[D]=null,D--)}function U(e,t){D++,I[D]=e.current,e.current=t}var Z=B(null),H=B(null),q=B(null),W=B(null);function K(e,t){switch(U(q,t),U(H,e),U(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(Z),U(Z,e)}function V(){F(Z),F(H),F(q)}function G(e){null!==e.memoizedState&&U(W,e);var t=Z.current,n=sd(t,e.type);t!==n&&(U(H,e),U(Z,n))}function J(e){H.current===e&&(F(Z),F(H)),W.current===e&&(F(W),Gd._currentValue=M)}var Q=Object.prototype.hasOwnProperty,Y=a.unstable_scheduleCallback,X=a.unstable_cancelCallback,$=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,ne=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,ie=a.unstable_UserBlockingPriority,se=a.unstable_NormalPriority,re=a.unstable_LowPriority,oe=a.unstable_IdlePriority,le=a.log,ce=a.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?i=ye(a):0!==(r&=o)?i=ye(r):n||0!==(n=o&~e)&&(i=ye(n)):0!==(o=a&~s)?i=ye(o):0!==r?i=ye(r):n||0!==(n=a&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pe(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-pe(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ee(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Le="__reactFiber$"+Ae,Oe="__reactProps$"+Ae,Re="__reactContainer$"+Ae,ze="__reactEvents$"+Ae,Me="__reactListeners$"+Ae,Ie="__reactHandles$"+Ae,De="__reactResources$"+Ae,Be="__reactMarker$"+Ae;function Fe(e){delete e[Le],delete e[Oe],delete e[ze],delete e[Me],delete e[Ie]}function Ue(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_d(e);null!==e;){if(n=e[Le])return n;e=_d(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Le]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function qe(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Be]=!0}var Ke=new Set,Ve={};function Ge(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ve[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call($e,i)&&(Xe.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function it(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Ye}var st=!1;function rt(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var a=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){a=s}e.call(n.prototype)}}else{try{throw Error()}catch(r){a=r}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var l=r.split("\n"),c=o.split("\n");for(i=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===l.length||i===c.length)for(a=l.length-1,i=c.length-1;1<=a&&0<=i&&l[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==c[i]){if(1!==a||1!==i)do{if(a--,0>--i||l[a]!==c[i]){var u="\n"+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ut(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,a,i,s,r,o){e.name="",null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r?e.type=r:e.removeAttribute("type"),null!=t?"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==r&&"reset"!==r||e.removeAttribute("value"),null!=t?yt(e,r,ct(t)):null!=n?yt(e,r,ct(n)):null!=a&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,a,i,s,r,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:i)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.name=r)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(a&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function bt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(O(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&wt(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&wt(e,s,t[s])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Rt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Oe]||null;if(!i)throw Error(r(90));gt(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ht(a)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var zt=!1;function Mt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Lt||null!==Ot)&&(Uc(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Oe]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Dt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Dt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Oh){Bt=!1}var Ut=null,Zt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Zt,a=n.length,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(e=0;e<a&&n[e]===i[e];e++);var r=a-e;for(t=1;t<=r&&n[a-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Vt(){return!1}function Gt(e){function t(t,n,a,i,s){for(var r in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(i):i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Vt,this.isPropagationStopped=Vt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Gt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Jt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Jt=0,Yt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),an=Gt(nn),sn=Gt(h({},nn,{dataTransfer:0})),rn=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Gt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(h({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],kn=Dt&&"CompositionEvent"in window,jn=null;Dt&&"documentMode"in document&&(jn=document.documentMode);var wn=Dt&&"TextEvent"in window&&!jn,Nn=Dt&&(!kn||jn&&8<jn&&11>=jn),Sn=String.fromCharCode(32),Cn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var En=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function On(e,t,n,a){Lt?Ot?Ot.push(a):Ot=[a]:Lt=a,0<(t=qu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Rn=null,zn=null;function Mn(e){Mu(e,0)}function In(e){if(ht(He(e)))return e}function Dn(e,t){if("change"===e)return t}var Bn=!1;if(Dt){var Fn;if(Dt){var Un="oninput"in document;if(!Un){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Un="function"===typeof Zn.oninput}Fn=Un}else Fn=!1;Bn=Fn&&(!document.documentMode||9<document.documentMode)}function Hn(){Rn&&(Rn.detachEvent("onpropertychange",qn),zn=Rn=null)}function qn(e){if("value"===e.propertyName&&In(zn)){var t=[];On(t,zn,e,At(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),zn=n,(Rn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return In(zn)}function Vn(e,t){if("click"===e)return In(t)}function Gn(e,t){if("input"===e||"change"===e)return In(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Q.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,a=Yn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yn(a)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ea(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=Dt&&"documentMode"in document&&11>=document.documentMode,aa=null,ia=null,sa=null,ra=!1;function oa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ra||null==aa||aa!==pt(a)||("selectionStart"in(a=aa)&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},sa&&Qn(sa,a)||(sa=a,0<(a=qu(ia,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},ua={},da={};function ha(e){if(ua[e])return ua[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in da)return ua[e]=n[t];return e}Dt&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var pa=ha("animationend"),fa=ha("animationiteration"),ma=ha("animationstart"),ga=ha("transitionrun"),va=ha("transitionstart"),ya=ha("transitioncancel"),_a=ha("transitionend"),xa=new Map,ba="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){xa.set(e,t),Ge(t,[e])}ba.push("scrollEnd");var ja=new WeakMap;function wa(e,t){if("object"===typeof e&&null!==e){var n=ja.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},ja.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Na=[],Sa=0,Ca=0;function Pa(){for(var e=Sa,t=Ca=Sa=0;t<e;){var n=Na[t];Na[t++]=null;var a=Na[t];Na[t++]=null;var i=Na[t];Na[t++]=null;var s=Na[t];if(Na[t++]=null,null!==a&&null!==i){var r=a.pending;null===r?i.next=i:(i.next=r.next,r.next=i),a.pending=i}0!==s&&La(n,i,s)}}function Ta(e,t,n,a){Na[Sa++]=e,Na[Sa++]=t,Na[Sa++]=n,Na[Sa++]=a,Ca|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ea(e,t,n,a){return Ta(e,t,n,a),Oa(e)}function Aa(e,t){return Ta(e,null,null,t),Oa(e)}function La(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(a=s.alternate)&&(a.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(a=(e=s.hiddenUpdates)[i])?e[i]=[t]:a.push(t),t.lane=536870912|n),s):null}function Oa(e){if(50<Lc)throw Lc=0,Oc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ra={};function za(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,n,a){return new za(e,t,n,a)}function Ia(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Da(e,t){var n=e.alternate;return null===n?((n=Ma(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ba(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fa(e,t,n,a,i,s){var o=0;if(a=e,"function"===typeof e)Ia(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ma(31,n,t,i)).elementType=C,e.lanes=s,e;case g:return Ua(n.children,i,s,t);case v:o=8,i|=24;break;case y:return(e=Ma(12,n,t,2|i)).elementType=y,e.lanes=s,e;case j:return(e=Ma(13,n,t,i)).elementType=j,e.lanes=s,e;case w:return(e=Ma(19,n,t,i)).elementType=w,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case b:o=10;break e;case x:o=9;break e;case k:o=11;break e;case N:o=14;break e;case S:o=16,a=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Ma(o,n,t,i)).elementType=e,t.type=a,t.lanes=s,t}function Ua(e,t,n,a){return(e=Ma(7,e,a,t)).lanes=n,e}function Za(e,t,n){return(e=Ma(6,e,null,t)).lanes=n,e}function Ha(e,t,n){return(t=Ma(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qa=[],Wa=0,Ka=null,Va=0,Ga=[],Ja=0,Qa=null,Ya=1,Xa="";function $a(e,t){qa[Wa++]=Va,qa[Wa++]=Ka,Ka=e,Va=t}function ei(e,t,n){Ga[Ja++]=Ya,Ga[Ja++]=Xa,Ga[Ja++]=Qa,Qa=e;var a=Ya;e=Xa;var i=32-pe(a)-1;a&=~(1<<i),n+=1;var s=32-pe(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,Ya=1<<32-pe(t)+i|n<<i|a,Xa=s+e}else Ya=1<<s|n<<i|a,Xa=e}function ti(e){null!==e.return&&($a(e,1),ei(e,1,0))}function ni(e){for(;e===Ka;)Ka=qa[--Wa],qa[Wa]=null,Va=qa[--Wa],qa[Wa]=null;for(;e===Qa;)Qa=Ga[--Ja],Ga[Ja]=null,Xa=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null}var ai=null,ii=null,si=!1,ri=null,oi=!1,li=Error(r(519));function ci(e){throw mi(wa(Error(r(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Le]=e,t[Oe]=a,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Iu(Ru[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),vt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),bt(t,a.value,a.defaultValue,a.children),dt(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Qu(t.textContent,n)?(null!=a.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=a.onScroll&&Iu("scroll",t),null!=a.onScrollEnd&&Iu("scrollend",t),null!=a.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ci(e)}function di(e){for(ai=e.return;ai;)switch(ai.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ai=ai.return}}function hi(e){if(e!==ai)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||rd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ai?vd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ai=null,si=!1}function fi(){var e=ri;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),ri=null),e}function mi(e){null===ri?ri=[e]:ri.push(e)}var gi=B(null),vi=null,yi=null;function _i(e,t,n){U(gi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=gi.current,F(gi)}function bi(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,a){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),bi(s.return,n,e),a||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),bi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ji(e,t,n,a){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&ki(t,e,n,a),t.flags|=262144}function wi(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Si(e){return Pi(vi,e)}function Ci(e,t){return null===vi&&Ni(e),Pi(e,t)}function Pi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(r(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Ti="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ei=a.unstable_scheduleCallback,Ai=a.unstable_NormalPriority,Li={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ti,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Ei(Ai,function(){e.controller.abort()})}var zi=null,Mi=0,Ii=0,Di=null;function Bi(){if(0===--Mi&&null!==zi){null!==Di&&(Di.status="fulfilled");var e=zi;zi=null,Ii=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Fi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Mi=0,Ii=Tu(),Di={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Bi,Bi)}(0,t),null!==Fi&&Fi(e,t)};var Ui=B(null);function Zi(){var e=Ui.current;return null!==e?e:ac.pooledCache}function Hi(e,t){U(Ui,null===t?Ui.current:t.pool)}function qi(){var e=Zi();return null===e?null:{parent:Li._currentValue,pool:e}}var Wi=Error(r(460)),Ki=Error(r(474)),Vi=Error(r(542)),Gi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function $i(){if(null===Xi)throw Error(r(459));var e=Xi;return Xi=null,e}function es(e){if(e===Wi||e===Vi)throw Error(r(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function as(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&nc)){var i=a.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Oa(e),La(e,null,n),t}return Ta(e,a,t,n),Oa(e)}function rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function os(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=r:s=s.next=r,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Di)throw Di}}function us(e,t,n,a){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==r&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(r=0,u=c=l=null,o=s;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(sc&p)===p:(a&p)===p){0!==p&&p===Ii&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:ts=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,r|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),pc|=r,e.lanes=r,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(r(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var ps=B(null),fs=B(0);function ms(e,t){U(fs,e=dc),U(ps,t),dc=e|t.baseLanes}function gs(){U(fs,dc),U(ps,ps.current)}function vs(){dc=fs.current,F(ps),F(fs)}var ys=0,_s=null,xs=null,bs=null,ks=!1,js=!1,ws=!1,Ns=0,Ss=0,Cs=null,Ps=0;function Ts(){throw Error(r(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function As(e,t,n,a,i,s){return ys=s,_s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wr:Kr,ws=!1,s=n(a,i),ws=!1,js&&(s=Os(t,n,a,i)),Ls(e),s}function Ls(e){R.H=qr;var t=null!==xs&&null!==xs.next;if(ys=0,bs=xs=_s=null,ks=!1,Ss=0,Cs=null,t)throw Error(r(300));null===e||Co||null!==(e=e.dependencies)&&wi(e)&&(Co=!0)}function Os(e,t,n,a){_s=e;var i=0;do{if(js&&(Cs=null),Ss=0,js=!1,25<=i)throw Error(r(301));if(i+=1,bs=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Vr,s=t(n,a)}while(js);return s}function Rs(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Fs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(_s.flags|=1024),t}function zs(){var e=0!==Ns;return Ns=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Is(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}ys=0,bs=xs=_s=null,js=!1,Ss=Ns=0,Cs=null}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bs?_s.memoizedState=bs=e:bs=bs.next=e,bs}function Bs(){if(null===xs){var e=_s.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===bs?_s.memoizedState:bs.next;if(null!==t)bs=t,xs=e;else{if(null===e){if(null===_s.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===bs?_s.memoizedState=bs=e:bs=bs.next=e}return bs}function Fs(e){var t=Ss;return Ss+=1,null===Cs&&(Cs=[]),e=Yi(Cs,e,t),t=_s,null===(null===bs?t.memoizedState:bs.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wr:Kr),e}function Us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fs(e);if(e.$$typeof===b)return Si(e)}throw Error(r(438,String(e)))}function Zs(e){var t=null,n=_s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=_s.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=P;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Ws(Bs(),xs,e)}function Ws(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(ys&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ii&&(d=!0);else{if((ys&p)===p){u=u.next,p===Ii&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,_s.lanes|=p,pc|=p}h=u.action,ws&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,_s.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Jn(s,e.memoizedState)&&(Co=!0,d&&null!==(n=Di)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return null===i&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ks(e){var t=Bs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Jn(s,t.memoizedState)||(Co=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Vs(e,t,n){var a=_s,i=Bs(),s=si;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Jn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,Co=!0),i=i.queue,gr(2048,8,Qs.bind(null,a,i,e),[e]),i.getSnapshot!==t||o||null!==bs&&1&bs.memoizedState.tag){if(a.flags|=2048,pr(9,{destroy:void 0,resource:void 0},Js.bind(null,a,i,n,t),null),null===ac)throw Error(r(349));s||0!==(124&ys)||Gs(a,t,n)}return n}function Gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,a){t.value=n,t.getSnapshot=a,Ys(t)&&Xs(e)}function Qs(e,t,n){return n(function(){Ys(t)&&Xs(e)})}function Ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(a){return!0}}function Xs(e){var t=Aa(e,2);null!==t&&Mc(t,e,2)}function $s(e){var t=Ds();if("function"===typeof e){var n=e;if(e=n(),ws){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function er(e,t,n,a){return e.baseState=n,Ws(e,xs,"function"===typeof a?a:Hs)}function tr(e,t,n,a,i){if(Ur(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,a(s),null===(n=t.pending)?(s.next=t.pending=s,nr(t,s)):(s.next=n.next,t.pending=n.next=s)}}function nr(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=R.T,r={};R.T=r;try{var o=n(i,a),l=R.S;null!==l&&l(r,o),ar(e,t,o)}catch(c){sr(e,t,c)}finally{R.T=s}}else try{ar(e,t,s=n(i,a))}catch(u){sr(e,t,u)}}function ar(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ir(e,t,n)},function(n){return sr(e,t,n)}):ir(e,t,n)}function ir(e,t,n){t.status="fulfilled",t.value=n,rr(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,nr(e,n)))}function sr(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,rr(t),t=t.next}while(t!==a)}e.action=null}function rr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function or(e,t){return t}function lr(e,t){if(si){var n=ac.formState;if(null!==n){e:{var a=_s;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vd(i.nextSibling),a="F!"===i.data;break e}}ci(a)}a=!1}a&&(t=n[0])}}return(n=Ds()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},n.queue=a,n=Dr.bind(null,_s,a),a.dispatch=n,a=$s(!1),s=Fr.bind(null,_s,!1,a.queue),i={state:t,dispatch:null,action:e,pending:null},(a=Ds()).queue=i,n=tr.bind(null,_s,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function cr(e){return ur(Bs(),xs,e)}function ur(e,t,n){if(t=Ws(e,t,or)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=Fs(t)}catch(r){if(r===Wi)throw Vi;throw r}else a=t;var i=(t=Bs()).queue,s=i.dispatch;return n!==t.memoizedState&&(_s.flags|=2048,pr(9,{destroy:void 0,resource:void 0},dr.bind(null,i,n),null)),[a,s,e]}function dr(e,t){e.action=t}function hr(e){var t=Bs(),n=xs;if(null!==n)return ur(t,n,e);Bs(),t=t.memoizedState;var a=(n=Bs()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function pr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=_s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function fr(){return Bs().memoizedState}function mr(e,t,n,a){var i=Ds();a=void 0===a?null:a,_s.flags|=e,i.memoizedState=pr(1|t,{destroy:void 0,resource:void 0},n,a)}function gr(e,t,n,a){var i=Bs();a=void 0===a?null:a;var s=i.memoizedState.inst;null!==xs&&null!==a&&Es(a,xs.memoizedState.deps)?i.memoizedState=pr(t,s,n,a):(_s.flags|=e,i.memoizedState=pr(1|t,s,n,a))}function vr(e,t){mr(8390656,8,e,t)}function yr(e,t){gr(2048,8,e,t)}function _r(e,t){return gr(4,2,e,t)}function xr(e,t){return gr(4,4,e,t)}function br(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function kr(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gr(4,4,br.bind(null,t,e),n)}function jr(){}function wr(e,t){var n=Bs();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Es(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Nr(e,t){var n=Bs();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Es(t,a[1]))return a[0];if(a=e(),ws){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[a,t],a}function Sr(e,t,n){return void 0===n||0!==(1073741824&ys)?e.memoizedState=t:(e.memoizedState=n,e=zc(),_s.lanes|=e,pc|=e,n)}function Cr(e,t,n,a){return Jn(n,t)?n:null!==ps.current?(e=Sr(e,n,a),Jn(e,t)||(Co=!0),e):0===(42&ys)?(Co=!0,e.memoizedState=n):(e=zc(),_s.lanes|=e,pc|=e,t)}function Pr(e,t,n,a,i){var s=z.p;z.p=0!==s&&8>s?s:8;var r=R.T,o={};R.T=o,Fr(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Br(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(l,a),Rc());else Br(e,t,a,Rc())}catch(u){Br(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{z.p=s,R.T=r}}function Tr(){}function Er(e,t,n,a){if(5!==e.tag)throw Error(r(476));var i=Ar(e).queue;Pr(e,i,t,M,null===n?Tr:function(){return Lr(e),n(a)})}function Ar(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Lr(e){Br(e,Ar(e).next.queue,{},Rc())}function Or(){return Si(Gd)}function Rr(){return Bs().memoizedState}function zr(){return Bs().memoizedState}function Mr(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),a=ss(t,e=is(n),n);return null!==a&&(Mc(a,t,n),rs(a,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function Ir(e,t,n){var a=Rc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?Zr(t,n):null!==(n=Ea(e,t,n,a))&&(Mc(n,e,a),Hr(n,t,a))}function Dr(e,t,n){Br(e,t,n,Rc())}function Br(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))Zr(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=s(r,n);if(i.hasEagerState=!0,i.eagerState=o,Jn(o,r))return Ta(e,t,i,0),null===ac&&Pa(),!1}catch(l){}if(null!==(n=Ea(e,t,i,a)))return Mc(n,e,a),Hr(n,t,a),!0}return!1}function Fr(e,t,n,a){if(a={lane:2,revertLane:Tu(),action:a,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(r(479))}else null!==(t=Ea(e,n,a,2))&&Mc(t,e,2)}function Ur(e){var t=e.alternate;return e===_s||null!==t&&t===_s}function Zr(e,t){js=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hr(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qr={readContext:Si,use:Us,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useLayoutEffect:Ts,useInsertionEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useSyncExternalStore:Ts,useId:Ts,useHostTransitionStatus:Ts,useFormState:Ts,useActionState:Ts,useOptimistic:Ts,useMemoCache:Ts,useCacheRefresh:Ts},Wr={readContext:Si,use:Us,useCallback:function(e,t){return Ds().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:vr,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mr(4194308,4,br.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mr(4194308,4,e,t)},useInsertionEffect:function(e,t){mr(4,2,e,t)},useMemo:function(e,t){var n=Ds();t=void 0===t?null:t;var a=e();if(ws){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ds();if(void 0!==n){var i=n(t);if(ws){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Ir.bind(null,_s,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Ds().memoizedState=e},useState:function(e){var t=(e=$s(e)).queue,n=Dr.bind(null,_s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jr,useDeferredValue:function(e,t){return Sr(Ds(),e,t)},useTransition:function(){var e=$s(!1);return e=Pr.bind(null,_s,e.queue,!0,!1),Ds().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=_s,i=Ds();if(si){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));0!==(124&sc)||Gs(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,vr(Qs.bind(null,a,s,e),[e]),a.flags|=2048,pr(9,{destroy:void 0,resource:void 0},Js.bind(null,a,s,n,t),null),n},useId:function(){var e=Ds(),t=ac.identifierPrefix;if(si){var n=Xa;t="\xab"+t+"R"+(n=(Ya&~(1<<32-pe(Ya)-1)).toString(32)+n),0<(n=Ns++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ps++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Or,useFormState:lr,useActionState:lr,useOptimistic:function(e){var t=Ds();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fr.bind(null,_s,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zs,useCacheRefresh:function(){return Ds().memoizedState=Mr.bind(null,_s)}},Kr={readContext:Si,use:Us,useCallback:wr,useContext:Si,useEffect:yr,useImperativeHandle:kr,useInsertionEffect:_r,useLayoutEffect:xr,useMemo:Nr,useReducer:qs,useRef:fr,useState:function(){return qs(Hs)},useDebugValue:jr,useDeferredValue:function(e,t){return Cr(Bs(),xs.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:Fs(e),t]},useSyncExternalStore:Vs,useId:Rr,useHostTransitionStatus:Or,useFormState:cr,useActionState:cr,useOptimistic:function(e,t){return er(Bs(),0,e,t)},useMemoCache:Zs,useCacheRefresh:zr},Vr={readContext:Si,use:Us,useCallback:wr,useContext:Si,useEffect:yr,useImperativeHandle:kr,useInsertionEffect:_r,useLayoutEffect:xr,useMemo:Nr,useReducer:Ks,useRef:fr,useState:function(){return Ks(Hs)},useDebugValue:jr,useDeferredValue:function(e,t){var n=Bs();return null===xs?Sr(n,e,t):Cr(n,xs.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:Fs(e),t]},useSyncExternalStore:Vs,useId:Rr,useHostTransitionStatus:Or,useFormState:hr,useActionState:hr,useOptimistic:function(e,t){var n=Bs();return null!==xs?er(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zs,useCacheRefresh:zr},Gr=null,Jr=0;function Qr(e){var t=Jr;return Jr+=1,null===Gr&&(Gr=[]),Yi(Gr,e,t)}function Yr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xr(e,t){if(t.$$typeof===p)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $r(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Da(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Za(n,e.mode,a)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===S&&$r(s)===t.type)?(Yr(t=i(t,n.props),n),t.return=e,t):(Yr(t=Fa(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ha(n,e.mode,a)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,a,s){return null===t||7!==t.tag?((t=Ua(n,e.mode,a,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Za(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Yr(n=Fa(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Ha(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||E(t))return(t=Ua(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Qr(t),n);if(t.$$typeof===b)return h(e,Ci(e,t),n);Xr(e,t)}return null}function p(e,t,n,a){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,a):null;case m:return n.key===i?u(e,t,n,a):null;case S:return p(e,t,n=(i=n._init)(n._payload),a)}if(O(n)||E(n))return null!==i?null:d(e,t,n,a,null);if("function"===typeof n.then)return p(e,t,Qr(n),a);if(n.$$typeof===b)return p(e,t,Ci(e,n),a);Xr(e,n)}return null}function v(e,t,n,a,i){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return l(t,e=e.get(n)||null,""+a,i);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,i);case m:return u(t,e=e.get(null===a.key?n:a.key)||null,a,i);case S:return v(e,t,n,a=(0,a._init)(a._payload),i)}if(O(a)||E(a))return d(t,e=e.get(n)||null,a,i,null);if("function"===typeof a.then)return v(e,t,n,Qr(a),i);if(a.$$typeof===b)return v(e,t,n,Ci(t,a),i);Xr(t,a)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===S&&$r(_)===c.type){n(l,c.sibling),Yr(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ua(u.props.children,l.mode,d,u.key)).return=l,l=d):(Yr(d=Fa(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Ha(u,l.mode,d)).return=l,l=d}return o(l);case S:return y(l,c,u=(_=u._init)(u._payload),d)}if(O(u))return function(i,r,o,l){for(var c=null,u=null,d=r,f=r=0,m=null;null!==d&&f<o.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(i,d,o[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),r=s(g,r,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===o.length)return n(i,d),si&&$a(i,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(i,o[f],l))&&(r=s(d,r,f),null===u?c=d:u.sibling=d,u=d);return si&&$a(i,f),c}for(d=a(d);f<o.length;f++)null!==(m=v(d,i,f,o[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),r=s(m,r,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),si&&$a(i,f),c}(l,c,u,d);if(E(u)){if("function"!==typeof(_=E(u)))throw Error(r(150));return function(i,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,f=o,m=o=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var _=p(i,f,y.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(i,f),o=s(_,o,m),null===d?u=_:d.sibling=_,d=_,f=g}if(y.done)return n(i,f),si&&$a(i,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,m),null===d?u=y:d.sibling=y,d=y);return si&&$a(i,m),u}for(f=a(f);!y.done;m++,y=l.next())null!==(y=v(f,i,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),o=s(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(i,e)}),si&&$a(i,m),u}(l,c,u=_.call(u),d)}if("function"===typeof u.then)return y(l,c,Qr(u),d);if(u.$$typeof===b)return y(l,c,Ci(l,u),d);Xr(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Za(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,a){try{Jr=0;var i=y(e,t,n,a);return Gr=null,i}catch(r){if(r===Wi||r===Vi)throw r;var s=Ma(29,r,null,e.mode);return s.lanes=a,s.return=e,s}}}var to=eo(!0),no=eo(!1),ao=B(null),io=null;function so(e){var t=e.alternate;U(co,1&co.current),U(ao,e),null===io&&(null===t||null!==ps.current||null!==t.memoizedState)&&(io=e)}function ro(e){if(22===e.tag){if(U(co,co.current),U(ao,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){U(co,co.current),U(ao,ao.current)}function lo(e){F(ao),io===e&&(io=null),F(co)}var co=B(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Rc(),i=is(a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,a))&&(Mc(t,e,a),rs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Rc(),i=is(a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,a))&&(Mc(t,e,a),rs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),a=is(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=ss(e,a,n))&&(Mc(t,e,n),rs(t,e,n))}};function fo(e,t,n,a,i,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,a)||!Qn(i,s))}function mo(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function _o(e){console.error(e)}function xo(e){vo(e)}function bo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function jo(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){bo(e,t)},n}function wo(e){return(e=is(e)).tag=3,e}function No(e,t,n,a){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){ko(t,n,a)}}var r=n.stateNode;null!==r&&"function"===typeof r.componentDidCatch&&(e.callback=function(){ko(t,n,a),"function"!==typeof i&&(null===wc?wc=new Set([this]):wc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var So=Error(r(461)),Co=!1;function Po(e,t,n,a){t.child=null===e?no(t,null,n,a):to(t,e.child,n,a)}function To(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var o in a)"ref"!==o&&(r[o]=a[o])}else r=a;return Ni(t),a=As(e,t,n,r,s,i),o=zs(),null===e||Co?(si&&o&&ti(t),t.flags|=1,Po(e,t,a,i),t.child):(Ms(e,t,i),Jo(e,t,i))}function Eo(e,t,n,a,i){if(null===e){var s=n.type;return"function"!==typeof s||Ia(s)||void 0!==s.defaultProps||null!==n.compare?((e=Fa(n.type,null,a,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,a,i))}if(s=e.child,!Qo(e,i)){var r=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(r,a)&&e.ref===t.ref)return Jo(e,t,i)}return t.flags|=1,(e=Da(s,a)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,a,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,a)&&e.ref===t.ref){if(Co=!1,t.pendingProps=a=s,!Qo(e,i))return t.lanes=e.lanes,Jo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return zo(e,t,n,a,i)}function Lo(e,t,n){var a=t.pendingProps,i=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Oo(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ro(t)}else null!==s?(Hi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),gs(),oo());return Po(e,t,i,n),t.child}function Oo(e,t,n,a){var i=Zi();return i=null===i?null:{parent:Li._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),gs(),ro(t),null!==e&&ji(e,t,a,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,a,i){return Ni(t),n=As(e,t,n,a,void 0,i),a=zs(),null===e||Co?(si&&a&&ti(t),t.flags|=1,Po(e,t,n,i),t.child):(Ms(e,t,i),Jo(e,t,i))}function Mo(e,t,n,a,i,s){return Ni(t),t.updateQueue=null,n=Os(t,a,n,i),Ls(e),a=zs(),null===e||Co?(si&&a&&ti(t),t.flags|=1,Po(e,t,n,s),t.child):(Ms(e,t,s),Jo(e,t,s))}function Io(e,t,n,a,i){if(Ni(t),null===t.stateNode){var s=Ra,r=n.contextType;"object"===typeof r&&null!==r&&(s=Si(r)),s=new n(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},ns(t),r=n.contextType,s.context="object"===typeof r&&null!==r?Si(r):Ra,s.state=t.memoizedState,"function"===typeof(r=n.getDerivedStateFromProps)&&(ho(t,n,r,a),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(r=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),r!==s.state&&po.enqueueReplaceState(s,s.state,null),us(t,a,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;r=Ra,"object"===typeof u&&null!==u&&(r=Si(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==r)&&mo(t,s,a,r),ts=!1;var h=t.memoizedState;s.state=h,us(t,a,s,i),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,n,d,a),c=t.memoizedState),(l=ts||fo(t,n,l,a,h,c,r))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=r,a=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,as(e,t),u=go(n,r=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Ra,"object"===typeof c&&null!==c&&(l=Si(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(r!==d||h!==l)&&mo(t,s,a,l),ts=!1,h=t.memoizedState,s.state=h,us(t,a,s,i),cs();var p=t.memoizedState;r!==d||h!==p||ts||null!==e&&null!==e.dependencies&&wi(e.dependencies)?("function"===typeof o&&(ho(t,n,o,a),p=t.memoizedState),(u=ts||fo(t,n,u,a,h,p,l)||null!==e&&null!==e.dependencies&&wi(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=u):("function"!==typeof s.componentDidUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ro(e,t),a=0!==(128&t.flags),s||a?(s=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Po(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Jo(e,t,i),e}function Do(e,t,n,a){return pi(),t.flags|=256,Po(e,t,n,a),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(e){return{baseLanes:e,cachePool:qi()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Zo(e,t,n){var a,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),a&&(s=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qa?{id:Ya,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},(l=Ma(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ai=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=qo({mode:"hidden",children:c},s=t.mode),i=Ua(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Fo(n),s.childLanes=Uo(e,a,n),t.memoizedState=Bo,i):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(s=Ua(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Fo(n),i.childLanes=Uo(e,a,n),t.memoizedState=Bo,t=s);else if(so(t),gd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(i=Error(r(419))).stack="",i.digest=a,mi({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(Co||ji(e,t,n,!1),a=0!==(n&e.childLanes),Co||a){if(null!==(a=ac)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Pe(i))&(a.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Aa(e,i),Mc(a,e,i),So;"$?"===c.data||Vc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ai=t,si=!0,ri=null,oi=!1,null!==e&&(Ga[Ja++]=Ya,Ga[Ja++]=Xa,Ga[Ja++]=Qa,Ya=e.id,Xa=e.overflow,Qa=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Da(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Da(u,s):(s=Ua(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Fo(n):(null!==(l=c.cachePool)?(u=Li._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Uo(e,a,n),t.memoizedState=Bo,i):(so(t),e=(n=e.child).sibling,(n=Da(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Ma(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),bi(e.return,t,n)}function Vo(e,t,n,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i)}function Go(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(Po(e,t,a.children,n),0!==(2&(a=co.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(U(co,a),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ji(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Da(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Da(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!wi(e))}function Yo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Qo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),_i(0,Li,e.memoizedState.cache),pi();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(so(t),null!==(e=Jo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(ji(e,t,n,!1),a=0!==(n&t.childLanes)),i){if(a)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(co,co.current),a)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,n);case 24:_i(0,Li,e.memoizedState.cache)}return Jo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,si&&0!==(1048576&t.flags)&&ei(t,Va,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((i=a.$$typeof)===k){t.tag=11,t=To(null,t,a,e,n);break e}if(i===N){t.tag=14,t=Eo(null,t,a,e,n);break e}}throw t=L(a)||a,Error(r(306,t,""))}Ia(a)?(e=go(a,e),t.tag=1,t=Io(null,t,a,e,n)):(t.tag=0,t=zo(null,t,a,e,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Io(e,t,a=t.type,i=go(a,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,as(e,t),us(t,a,null,n);var o=t.memoizedState;if(a=o.cache,_i(0,Li,a),a!==s.cache&&ki(t,[Li],n,!0),cs(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Do(e,t,a,n);break e}if(a!==i){mi(i=wa(Error(r(424)),t)),t=Do(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ai=t,si=!0,ri=null,oi=!0,n=no(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),a===i){t=Jo(e,t,n);break e}Po(e,t,a,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(a=ad(q.current).createElement(n))[Le]=t,a[Oe]=e,ed(a,n,e),We(a),t.stateNode=a):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&si&&(a=t.stateNode=xd(t.type,t.pendingProps,q.current),ai=t,oi=!0,i=ii,pd(t.type)?(yd=i,ii=vd(a.firstChild)):ii=i),Po(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=a=ii)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,oi))?(t.stateNode=a,ai=t,ii=vd(a.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,rd(i,s)?a=null:null!==o&&rd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=As(e,t,Rs,null,null,n),Gd._currentValue=i),Ro(e,t),Po(e,t,a,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ai=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Zo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=to(t,null,a,n):Po(e,t,a,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_i(0,t.type,a.value),Po(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Ni(t),a=a(i=Si(i)),t.flags|=1,Po(e,t,a,n),t.child;case 14:return Eo(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=qo(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Da(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Lo(e,t,n);case 24:return Ni(t),a=Si(Li),null===e?(null===(i=Zi())&&(i=ac,s=Oi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},ns(t),_i(0,Li,i)):(0!==(e.lanes&n)&&(as(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Li,a)):(a=s.cache,_i(0,Li,a),a!==i.cache&&ki(t,[Li],n,!0))),Po(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Xo(e){e.flags|=4}function $o(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ao.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Xi=Gi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=65011712&i.subtreeFlags,a|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function al(e,t,n){var a=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xi(Li),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),$o(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),$o(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==a&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return nl(t),null}e=Z.current,hi(t)?ui(t):(e=xd(i,a,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return nl(t),null}if(e=Z.current,hi(t))ui(t);else{switch(i=ad(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?i.createElement(n,{is:a.is}):i.createElement(n)}}e[Le]=t,e[Oe]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Xo(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(i=ai))switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Qu(e.nodeValue,n)))||ci(t)}else(e=ad(e).createTextNode(a))[Le]=t,t.stateNode=e}return nl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Le]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(i=a.alternate.memoizedState.cachePool.pool);var s=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return V(),null===e&&Fu(t.stateNode.containerInfo),nl(t),null;case 10:return xi(t.type),nl(t),null;case 19:if(F(co),null===(i=t.memoizedState))return nl(t),null;if(a=0!==(128&t.flags),null===(s=i.rendering))if(a)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ba(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,a=!0,tl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=uo(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,a=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,a?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vs(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&F(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Li),nl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Li),V(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(co),null;case 4:return V(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),vs(),null!==e&&F(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Li),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:xi(Li),V();break;case 26:case 27:case 5:J(t);break;case 4:V();break;case 13:lo(t);break;case 19:F(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),vs(),null!==e&&F(Ui);break;case 24:xi(Li)}}function rl(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var a=t.updateQueue,i=null!==a?a.lastEffect:null;if(null!==i){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,o=r.destroy;if(void 0!==o){r.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}a=a.next}while(a!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(a){uu(e,e.return,a)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){uu(e,t,a)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function pl(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(f)||Xu(e,t,f,null,a,h)}}for(var p in a){var f=a[p];if(h=n[p],a.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:f!==h&&Xu(e,t,p,f,a,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in f=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(s)||Xu(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=n[i],a.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xu(e,t,i,s,a,c)}return t=l,n=o,a=f,void(null!=p?_t(e,!!n,p,!1):!!a!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,a,i)}for(o in a)if(i=a[o],s=n[o],a.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==s&&Xu(e,t,o,i,a,s)}return void xt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!a.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,a,p);for(c in a)if(p=a[c],f=n[c],a.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xu(e,t,c,p,a,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&Xu(e,t,g,null,a,p);for(u in a)if(p=a[u],f=n[u],a.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:Xu(e,t,u,p,a,f)}return;default:if(St(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!a.hasOwnProperty(v)&&$u(e,t,v,void 0,a,p);for(d in a)p=a[d],f=n[d],!a.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||$u(e,t,d,p,a,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!a.hasOwnProperty(y)&&Xu(e,t,y,null,a,p);for(h in a)p=a[h],f=n[h],!a.hasOwnProperty(h)||p===f||null==p&&null==f||Xu(e,t,h,p,a,f)}(a,e.type,n,t),a[Oe]=t}catch(i){uu(e,e.return,i)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==a&&(27===a&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,a,n),t[Le]=e,t[Oe]=n}catch(s){uu(e,e.return,s)}}var _l=!1,xl=!1,bl=!1,kl="function"===typeof WeakSet?WeakSet:Set,jl=null;function wl(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Il(e,n),4&a&&rl(5,n);break;case 1:if(Il(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(r){uu(n,n.return,r)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&a&&ll(n),512&a&&ul(n,n.return);break;case 3:if(Il(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(r){uu(n,n.return,r)}}break;case 27:null===t&&4&a&&yl(n);case 26:case 5:Il(e,n),null===t&&4&a&&hl(n),512&a&&ul(n,n.return);break;case 12:Il(e,n);break;case 13:Il(e,n),4&a&&El(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=fu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||xl,i=_l;var s=xl;_l=a,(xl=t)&&!s?Bl(e,n,0!==(8772&n.subtreeFlags)):Il(e,n),_l=i,xl=s}break;case 30:break;default:Il(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,Cl=!1;function Pl(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||dl(n,t),Pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var a=Sl,i=Cl;pd(n.type)&&(Sl=n.stateNode,Cl=!1),Pl(e,t,n),bd(n.stateNode),Sl=a,Cl=i;break;case 5:xl||dl(n,t);case 6:if(a=Sl,i=Cl,Sl=null,Pl(e,t,n),Cl=i,null!==(Sl=a))if(Cl)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(r){uu(n,t,r)}else try{Sl.removeChild(n.stateNode)}catch(r){uu(n,t,r)}break;case 18:null!==Sl&&(Cl?(fd(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):fd(Sl,n.stateNode));break;case 4:a=Sl,i=Cl,Sl=n.stateNode.containerInfo,Cl=!0,Pl(e,t,n),Sl=a,Cl=i;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Pl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&cl(n,t,a)),Pl(e,t,n);break;case 21:Pl(e,t,n);break;case 22:xl=(a=xl)||null!==n.memoizedState,Pl(e,t,n),xl=a;break;default:Pl(e,t,n)}}function El(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var a=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Ll(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Sl=l.stateNode,Cl=!1;break e}break;case 5:Sl=l.stateNode,Cl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Sl)throw Error(r(160));Tl(s,o,i),Sl=null,Cl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Ol=null;function Rl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),zl(e),4&a&&(ol(3,e,e.return),rl(3,e),ol(5,e,e.return));break;case 1:Ll(t,e),zl(e),512&a&&(xl||null===n||dl(n,n.return)),64&a&&_l&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var i=Ol;if(Ll(t,e),zl(e),512&a&&(xl||null===n||dl(n,n.return)),4&a){var s=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Be]||s[Le]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),ed(s,a,n),s[Le]=e,We(s),a=s;break e;case"link":var o=Bd("link","href",i).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(s=i.createElement(a),a,n),i.head.appendChild(s);break;case"meta":if(o=Bd("meta","content",i).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(s=i.createElement(a),a,n),i.head.appendChild(s);break;default:throw Error(r(468,a))}s[Le]=e,We(s),a=s}e.stateNode=a}else Fd(i,e.type,e.stateNode);else e.stateNode=Rd(i,a,e.memoizedProps);else s!==a?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===a?Fd(i,e.type,e.stateNode):Rd(i,a,e.memoizedProps)):null===a&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ll(t,e),zl(e),512&a&&(xl||null===n||dl(n,n.return)),null!==n&&4&a&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ll(t,e),zl(e),512&a&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(f){uu(e,e.return,f)}}4&a&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&a&&(bl=!0);break;case 6:if(Ll(t,e),zl(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){uu(e,e.return,f)}}break;case 3:if(Dd=null,i=Ol,Ol=wd(t.containerInfo),Ll(t,e),Ol=i,zl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(f){uu(e,e.return,f)}bl&&(bl=!1,Ml(e));break;case 4:a=Ol,Ol=wd(e.stateNode.containerInfo),Ll(t,e),zl(e),Ol=a;break;case 12:default:Ll(t,e),zl(e);break;case 13:Ll(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Al(e,a)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,d=xl;if(_l=u||i,xl=d||c,Ll(t,e),xl=d,_l=u,zl(e),8192&a)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||xl||Dl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Al(e,n))));break;case 19:Ll(t,e),zl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Al(e,a)));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(fl(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),vl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(r(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)wl(e,t.alternate,t),t=t.sibling}function Dl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Dl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Dl(t);break;case 27:bd(t.stateNode);case 26:case 5:dl(t,t.return),Dl(t);break;case 22:null===t.memoizedState&&Dl(t);break;default:Dl(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Bl(i,s,n),rl(4,s);break;case 1:if(Bl(i,s,n),"function"===typeof(i=(a=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(a,a.return,c)}if(null!==(i=(a=s).updateQueue)){var o=a.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){uu(a,a.return,c)}}n&&64&r&&ll(s),ul(s,s.return);break;case 27:yl(s);case 26:case 5:Bl(i,s,n),n&&null===a&&4&r&&hl(s),ul(s,s.return);break;case 12:Bl(i,s,n);break;case 13:Bl(i,s,n),n&&4&r&&El(i,s);break;case 22:null===s.memoizedState&&Bl(i,s,n),ul(s,s.return);break;case 30:break;default:Bl(i,s,n)}t=t.sibling}}function Fl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function Zl(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,a),t=t.sibling}function Hl(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,a),2048&i&&rl(9,t);break;case 1:case 13:default:Zl(e,t,n,a);break;case 3:Zl(e,t,n,a),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){Zl(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,o=s.onPostCommit;"function"===typeof o&&o(r,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Zl(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,a):Wl(e,t):2&s._visibility?Zl(e,t,n,a):(s._visibility|=2,ql(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&i&&Fl(r,t);break;case 24:Zl(e,t,n,a),2048&i&&Ul(t.alternate,t)}}function ql(e,t,n,a,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,r=t,o=n,l=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:ql(s,r,o,l,i),rl(8,r);break;case 23:break;case 22:var u=r.stateNode;null!==r.memoizedState?2&u._visibility?ql(s,r,o,l,i):Wl(s,r):(u._visibility|=2,ql(s,r,o,l,i)),i&&2048&c&&Fl(r.alternate,r);break;case 24:ql(s,r,o,l,i),i&&2048&c&&Ul(r.alternate,r);break;default:ql(s,r,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Wl(n,a),2048&i&&Fl(a.alternate,a);break;case 24:Wl(n,a),2048&i&&Ul(a.alternate,a);break;default:Wl(n,a)}t=t.sibling}}var Kl=8192;function Vl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Vl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Zd)throw Error(r(475));var a=Zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Td(n.href),s=e.querySelector(Ed(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=qd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Ad(n),(i=kd.get(i))&&Md(n,i),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",n),t.instance=s}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=qd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Vl(e);break;case 3:case 4:var t=Ol;Ol=wd(e.stateNode.containerInfo),Vl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Vl(e),Kl=t):Vl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];jl=a,$l(a,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Ql(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];jl=a,$l(a,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function $l(e,t){for(;null!==jl;){var n=jl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,jl=a;else e:for(n=e;null!==jl;){var i=(a=jl).sibling,s=a.return;if(Nl(a),a===n){jl=null;break e}if(null!==i){i.return=s,jl=i;break e}jl=s}}}var ec={getCacheForType:function(e){var t=Si(Li),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ac=null,ic=null,sc=0,rc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,_c=null,xc=!1,bc=0,kc=1/0,jc=null,wc=null,Nc=0,Sc=null,Cc=null,Pc=0,Tc=0,Ec=null,Ac=null,Lc=0,Oc=null;function Rc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==Ii?Ii:Tu()}return Ee()}function zc(){0===gc&&(gc=0===(536870912&sc)||si?ke():536870912);var e=ao.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==ac||2!==rc&&9!==rc)&&null===e.cancelPendingCommit||(Hc(e,0),Fc(e,sc,gc,!1)),Ne(e,n),0!==(2&nc)&&e===ac||(e===ac&&(0===(2&nc)&&(fc|=n),4===hc&&Fc(e,sc,gc,!1)),ku(e))}function Ic(e,t,n){if(0!==(6&nc))throw Error(r(327));for(var a=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=a?function(e,t){var n=nc;nc|=2;var a=Wc(),i=Kc();ac!==e||sc!==t?(jc=null,kc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==rc&&null!==ic){t=ic;var s=oc;t:switch(rc){case 1:rc=0,oc=null,$c(e,t,s,1);break;case 2:case 9:if(Ji(s)){rc=0,oc=null,Xc(t);break}t=function(){2!==rc&&9!==rc||ac!==e||(rc=7),ku(e)},s.then(t,t);break e;case 3:rc=7;break e;case 4:rc=5;break e;case 7:Ji(s)?(rc=0,oc=null,Xc(t)):(rc=0,oc=null,$c(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Ud(o)){rc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}rc=0,oc=null,$c(e,t,s,5);break;case 6:rc=0,oc=null,$c(e,t,s,6);break;case 8:Zc(),hc=6;break e;default:throw Error(r(462))}}Qc();break}catch(d){qc(e,d)}return yi=vi=null,R.H=a,R.A=i,nc=n,null!==ic?0:(ac=null,sc=0,Pa(),hc)}(e,t):Gc(e,t,!0),s=a;;){if(0===i){cc&&!a&&Fc(e,t,0,!1);break}if(n=e.current.alternate,!s||Bc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,fc|=s,i=4;break e}s=_c,_c=i,null!==s&&(null===_c?_c=s:_c.push.apply(_c,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hc(e,0),Fc(e,t,0,!0);break}e:{switch(a=e,s=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Fc(a,t,gc,!lc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=bc+300-te())){if(Fc(a,t,gc,!lc),0!==_e(a,0,!0))break e;a.timeoutHandle=ld(Dc.bind(null,a,n,_c,jc,xc,t,gc,fc,vc,lc,s,2,-0,0),i)}else Dc(a,n,_c,jc,xc,t,gc,fc,vc,lc,s,0,-0,0)}break}i=Gc(e,t,!1),s=!1}ku(e)}function Dc(e,t,n,a,i,s,o,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Zd={stylesheets:null,count:0,unsuspend:Hd},Gl(t),null!==(h=function(){if(null===Zd)throw Error(r(475));var e=Zd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,s,n,a,i,o,l,c,d,1,p,f)),void Fc(e,s,o,!u);nu(e,t,s,n,a,i,o,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(r){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,a){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-pe(i),r=1<<s;a[s]=-1,i&=~r}0!==n&&Se(e,n,t)}function Uc(){return 0!==(6&nc)||(ju(0,!1),!1)}function Zc(){if(null!==ic){if(0===rc)var e=ic.return;else yi=vi=null,Is(e=ic),Gr=null,Jr=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Zc(),ac=e,ic=n=Da(e.current,null),sc=t,rc=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=mc=fc=pc=hc=0,_c=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var i=31-pe(a),s=1<<i;t|=e[i],a&=~s}return dc=t,Pa(),n}function qc(e,t){_s=null,R.H=qr,t===Wi||t===Vi?(t=$i(),rc=3):t===Ki?(t=$i(),rc=4):rc=t===So?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,bo(e,wa(t,e.current)))}function Wc(){var e=R.H;return R.H=qr,null===e?qr:e}function Kc(){var e=R.A;return R.A=ec,e}function Vc(){hc=4,lc||(4194048&sc)!==sc&&null!==ao.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===ac||Fc(ac,sc,gc,!1)}function Gc(e,t,n){var a=nc;nc|=2;var i=Wc(),s=Kc();ac===e&&sc===t||(jc=null,Hc(e,t)),t=!1;var r=hc;e:for(;;)try{if(0!==rc&&null!==ic){var o=ic,l=oc;switch(rc){case 8:Zc(),r=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=rc;if(rc=0,oc=null,$c(e,o,l,c),n&&cc){r=0;break e}break;default:c=rc,rc=0,oc=null,$c(e,o,l,c)}}Jc(),r=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=a,R.H=i,R.A=s,null===ic&&(ac=null,sc=0,Pa()),r}function Jc(){for(;null!==ic;)Yc(ic)}function Qc(){for(;null!==ic&&!$();)Yc(ic)}function Yc(e){var t=Yo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Is(t);default:sl(n,t),t=Yo(n,t=ic=Ba(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function $c(e,t,n,a){yi=vi=null,Is(t),Gr=null,Jr=0;var i=t.return;try{if(function(e,t,n,a,i){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&ji(t,n,i,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===io?Vc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),du(e,a,i)),!1;case 22:return n.flags|=65536,a===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),du(e,a,i)),!1}throw Error(r(435,n.tag))}return du(e,a,i),Vc(),!1}if(si)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==li&&mi(wa(e=Error(r(422),{cause:a}),n))):(a!==li&&mi(wa(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,a=wa(a,n),os(e,i=jo(e.stateNode,a,i)),4!==hc&&(hc=2)),!1;var s=Error(r(520),{cause:a});if(s=wa(s,n),null===yc?yc=[s]:yc.push(s),4!==hc&&(hc=2),null===t)return!0;a=wa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=jo(n.stateNode,a,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===wc||!wc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,No(i=wo(i),e,n,a),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return hc=1,bo(e,wa(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return hc=1,bo(e,wa(n,e.current)),void(ic=null)}32768&t.flags?(si||1===a?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=ao.current)&&13===a.tag&&(a.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=al(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,a,i,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Nc);if(0!==(6&nc))throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==a&&Se(e,a,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(r&~t))}(e,n,s|=Ca,o,l,c),e===ac&&(ic=ac=null,sc=0),Cc=t,Sc=e,Pc=n,Tc=s,Ec=i,Ac=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=R.T,R.T=null,i=z.p,z.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ta(e=ea(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++d===a&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(s=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(m,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{nc=o,z.p=i,R.T=a}}Nc=1,au(),iu(),su()}}function au(){if(1===Nc){Nc=0;var e=Sc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var a=z.p;z.p=2;var i=nc;nc|=4;try{Rl(t,e);var s=nd,r=ea(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&$n(o.ownerDocument.documentElement,o)){if(null!==l&&ta(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(r=g,g=m,m=r);var v=Xn(o,m),y=Xn(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var _=d.createRange();_.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(_),p.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),p.addRange(_))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=i,z.p=a,R.T=n}}e.current=t,Nc=2}}function iu(){if(2===Nc){Nc=0;var e=Sc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var a=z.p;z.p=2;var i=nc;nc|=4;try{wl(e,t.alternate,t)}finally{nc=i,z.p=a,R.T=n}}Nc=3}}function su(){if(4===Nc||3===Nc){Nc=0,ee();var e=Sc,t=Cc,n=Pc,a=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,Cc=Sc=null,ru(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(wc=null),Te(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==a){t=R.T,i=z.p,z.p=2,R.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var o=a[r];s(o.value,{componentStack:o.stack})}}finally{R.T=t,z.p=i}}0!==(3&Pc)&&ou(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Lc++:(Lc=0,Oc=e):Lc=0,ju(0,!1)}}function ru(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function ou(e){return au(),iu(),su(),lu()}function lu(){if(5!==Nc)return!1;var e=Sc,t=Tc;Tc=0;var n=Te(Pc),a=R.T,i=z.p;try{z.p=32>n?32:n,R.T=null,n=Ec,Ec=null;var s=Sc,o=Pc;if(Nc=0,Cc=Sc=null,Pc=0,0!==(6&nc))throw Error(r(331));var l=nc;if(nc|=4,Yl(s.current),Hl(s,s.current,o,n),nc=l,ju(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{z.p=i,R.T=a,ru(e,t)}}function cu(e,t,n){t=wa(n,t),null!==(e=ss(e,t=jo(e.stateNode,t,2),2))&&(Ne(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===wc||!wc.has(a))){e=wa(n,e),null!==(a=ss(t,n=wo(2),2))&&(No(n,a,t,e),Ne(a,2),ku(a));break}}t=t.return}}function du(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var i=new Set;a.set(t,i)}else void 0===(i=a.get(t))&&(i=new Set,a.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-bc?0===(2&nc)&&Hc(e,0):mc|=n,vc===sc&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=je()),null!==(e=Aa(e,t))&&(Ne(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,_u=!1,xu=!1,bu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),_u=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?Y(ae,wu):Nu()}))}function ju(e,t){if(!xu&&_u){xu=!0;do{for(var n=!1,a=gu;null!==a;){if(!t)if(0!==e){var i=a.pendingLanes;if(0===i)var s=0;else{var r=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=i&~(r&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Pu(a,s))}else s=sc,0===(3&(s=_e(a,a===ac?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||xe(a,s)||(n=!0,Pu(a,s));a=a.next}}while(n);xu=!1}}function wu(){Nu()}function Nu(){_u=yu=!1;var e=0;0!==bu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=bu),bu=0);for(var t=te(),n=null,a=gu;null!==a;){var i=a.next,s=Su(a,t);0===s?(a.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=a,(0!==e||0!==(3&s))&&(_u=!0)),a=i}ju(e,!1)}function Su(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var r=31-pe(s),o=1<<r,l=i[r];-1===l?0!==(o&n)&&0===(o&a)||(i[r]=be(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=_e(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===rc||9===rc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&X(a),Te(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return a=Cu.bind(null,e),n=Y(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var a=sc;return 0===(a=_e(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ic(e,a,t),Su(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Pu(e,t){if(ou())return null;Ic(e,t,!0)}function Tu(){return 0===bu&&(bu=ke()),bu}function Eu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Lu=0;Lu<ba.length;Lu++){var Ou=ba[Lu];ka(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}ka(pa,"onAnimationEnd"),ka(fa,"onAnimationIteration"),ka(ma,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(ga,"onTransitionRun"),ka(va,"onTransitionStart"),ka(ya,"onTransitionCancel"),ka(_a,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var o=a[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){vo(u)}i.currentTarget=null,s=l}else for(r=0;r<a.length;r++){if(l=(o=a[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){vo(u)}i.currentTarget=null,s=l}}}}function Iu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var a=e+"__bubble";n.has(a)||(Uu(t,e,2,!1),n.add(a))}function Du(e,t,n){var a=0;t&&(a|=4),Uu(n,e,a,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(zu.has(t)||Du(t,!1,e),Du(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Du("selectionchange",!1,t))}}function Uu(e,t,n,a){switch(ch(t)){case 2:var i=ah;break;case 8:i=ih;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),a?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zu(e,t,n,a,i){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var o=a.stateNode.containerInfo;if(o===i)break;if(4===r)for(r=a.return;null!==r;){var c=r.tag;if((3===c||4===c)&&r.stateNode.containerInfo===i)return;r=r.return}for(;null!==o;){if(null===(r=Ue(o)))return;if(5===(c=r.tag)||6===c||26===c||27===c){a=s=r;continue e}o=o.parentNode}}a=a.return}Mt(function(){var a=s,i=At(n),r=[];e:{var o=xa.get(e);if(void 0!==o){var c=$t,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=rn;break;case"focusout":u="blur",c=rn;break;case"beforeblur":case"afterblur":c=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pa:case fa:case ma:c=on;break;case _a:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=a;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=It(m,p))&&d.push(Hu(m,g,f)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Et||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:He(c),f=null==u?o:He(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=f,g=null,Ue(i)===a&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Wu(f))m++;for(f=0,g=p;g;g=Wu(g))f++;for(;0<m-f;)d=Wu(d),m--;for(;0<f-m;)p=Wu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Wu(d),p=Wu(p)}d=null}else d=null;null!==c&&Ku(r,o,c,d,!1),null!==u&&null!==h&&Ku(r,h,u,d,!0)}if("select"===(c=(o=a?He(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Dn;else if(Ln(o))if(Bn)v=Gn;else{v=Kn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&St(a.elementType)&&(v=Dn):v=Vn;switch(v&&(v=v(e,a))?On(r,v,n,i):(y&&y(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&yt(o,"number",o.value)),y=a?He(a):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(aa=y,ia=a,sa=null);break;case"focusout":sa=ia=aa=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,oa(r,n,i);break;case"selectionchange":if(na)break;case"keydown":case"keyup":oa(r,n,i)}var _;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else En?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Nn&&"ko"!==n.locale&&(En||"onCompositionStart"!==x?"onCompositionEnd"===x&&En&&(_=qt()):(Zt="value"in(Ut=i)?Ut.value:Ut.textContent,En=!0)),0<(y=qu(a,x)).length&&(x=new cn(x,e,null,n,i),r.push({event:x,listeners:y}),_?x.data=_:null!==(_=Tn(n))&&(x.data=_))),(_=wn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(En)return"compositionend"===e||!kn&&Pn(e,t)?(e=qt(),Ht=Zt=Ut=null,En=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qu(a,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),r.push({event:y,listeners:x}),y.data=_)),function(e,t,n,a,i){if("submit"===t&&n&&n.stateNode===i){var s=Eu((i[Oe]||null).action),r=a.submitter;r&&null!==(t=(t=r[Oe]||null)?Eu(t.formAction):r.getAttribute("formAction"))&&(s=t,r=null);var o=new $t("action","action",null,a,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==bu){var e=r?Au(i,r):new FormData(i);Er(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=r?Au(i,r):new FormData(i),Er(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(r,e,a,n,i)}Mu(r,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",a=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=It(e,n))&&a.unshift(Hu(e,i,s)),null!=(i=It(e,t))&&a.push(Hu(e,i,s))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,a,i){for(var s=t._reactName,r=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=It(n,s))&&r.unshift(Hu(n,c,l)):i||null!=(c=It(n,s))&&r.push(Hu(n,c,l))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Vu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Gu,"")}function Qu(e,t){return t=Ju(t),Ju(e)===t}function Yu(){}function Xu(e,t,n,a,i,s){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||kt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&kt(e,""+a);break;case"className":nt(e,"class",a);break;case"tabIndex":nt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,a);break;case"style":Nt(e,a,s);break;case"data":if("object"!==t){nt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Tt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,a)}}function $u(e,t,n,a,i,s){switch(n){case"style":Nt(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"===typeof a?kt(e,a):("number"===typeof a||"bigint"===typeof a)&&kt(e,""+a);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):tt(e,n,a):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var a,i=!1,s=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xu(e,t,a,o,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var l=a=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:Xu(e,t,i,d,n,null)}}return vt(e,a,l,c,u,o,s,!1),void dt(e);case"select":for(s in Iu("invalid",e),i=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=a,n=o,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(o in Iu("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:Xu(e,t,o,l,n,null)}return bt(e,i,s,a),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Iu("beforetoggle",e),Iu("toggle",e),Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(i=0;i<Ru.length;i++)Iu(Ru[i],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&$u(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function rd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,a=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<a&&8>a){n=a;var r=e.ownerDocument;if(1&n&&bd(r.documentElement),2&n&&bd(r.body),4&n)for(bd(n=r.head),r=n.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=o}}if(0===i)return e.removeChild(s),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Fe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var kd=new Map,jd=new Set;function wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=z.d;z.d={f:function(){var e=Nd.f(),t=Uc();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?Lr(t):Nd.r(e)},D:function(e){Nd.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var a=Sd;if(a&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Td(e);break;case"script":s=Ld(e)}kd.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(s,e),null!==a.querySelector(i)||"style"===t&&a.querySelector(Ed(s))||"script"===t&&a.querySelector(Od(s))||(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=Sd;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(a)+'"][href="'+mt(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ld(e)}if(!kd.has(s)&&(e=h({rel:"modulepreload",href:e},t),kd.set(s,e),null===n.querySelector(i))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(s)))return}ed(a=n.createElement("link"),"link",e),We(a),n.head.appendChild(a)}}},X:function(e,t){Nd.X(e,t);var n=Sd;if(n&&e){var a=qe(n).hoistableScripts,i=Ld(e),s=a.get(i);s||((s=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Id(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}},S:function(e,t,n){Nd.S(e,t,n);var a=Sd;if(a&&e){var i=qe(a).hoistableStyles,s=Td(e);t=t||"default";var r=i.get(s);if(!r){var o={loading:0,preload:null};if(r=a.querySelector(Ed(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(s))&&Md(e,n);var l=r=a.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zd(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:o},i.set(s,r)}}},M:function(e,t){Nd.M(e,t);var n=Sd;if(n&&e){var a=qe(n).hoistableScripts,i=Ld(e),s=a.get(i);s||((s=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Id(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}};var Sd="undefined"===typeof document?null:document;function Cd(e,t,n){var a=Sd;if(a&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),jd.has(i)||(jd.add(i),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(i)&&(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}}function Pd(e,t,n,a){var i,s,o,l,c=(c=q.current)?wd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Td(n.href),(a=(n=qe(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Td(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ed(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",o),We(s),i.head.appendChild(s))))),t&&null===a)throw Error(r(528,""));return d}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ld(n),(a=(n=qe(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Td(e){return'href="'+mt(e)+'"'}function Ed(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ld(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(a)return t.instance=a,We(a),a;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(a=(e.ownerDocument||e).createElement("style")),ed(a,"style",i),zd(a,n.precedence,e),t.instance=a;case"stylesheet":i=Td(n.href);var s=e.querySelector(Ed(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;a=Ad(n),(i=kd.get(i))&&Md(a,i),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",a),t.state.loading|=4,zd(s,n.precedence,e),t.instance=s;case"script":return s=Ld(n.src),(i=e.querySelector(Od(s)))?(t.instance=i,We(i),i):(a=n,(i=kd.get(s))&&Id(a=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,zd(a,n.precedence,e));return t.instance}function zd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var o=a[r];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Bd(e,t,n){if(null===Dd){var a=new Map,i=Dd=new Map;i.set(n,a)}else(a=(i=Dd).get(n))||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Be]||s[Le]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var r=s.getAttribute(t)||"";r=e+r;var o=a.get(r);o?o.push(s):a.set(r,[s])}}return a}function Fd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Zd=null;function Hd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Vd,e),Wd=null,qd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];"LINK"!==r.nodeName&&"not all"===r.getAttribute("media")||(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}r=(i=t.instance).getAttribute("data-precedence"),(s=n.get(r)||a)===a&&n.set(null,i),n.set(r,i),this.count++,a=qd.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:b,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Jd(e,t,n,a,i,s,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qd(e,t,n,a,i,s,r,o,l,c,u,d){return e=new Jd(e,t,n,r,o,l,c,d),t=1,!0===s&&(t|=24),s=Ma(3,null,null,t),e.current=s,s.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},ns(s),e}function Yd(e){return e?e=Ra:Ra}function Xd(e,t,n,a,i,s){i=Yd(i),null===a.context?a.context=i:a.pendingContext=i,(a=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(n=ss(e,a,t))&&(Mc(n,0,t),rs(n,e,t))}function $d(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function th(e){if(13===e.tag){var t=Aa(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function ah(e,t,n,a){var i=R.T;R.T=null;var s=z.p;try{z.p=2,sh(e,t,n,a)}finally{z.p=s,R.T=i}}function ih(e,t,n,a){var i=R.T;R.T=null;var s=z.p;try{z.p=8,sh(e,t,n,a)}finally{z.p=s,R.T=i}}function sh(e,t,n,a){if(nh){var i=rh(a);if(null===i)Zu(e,t,a,oh,n),yh(e,a);else if(function(e,t,n,a,i){switch(t){case"focusin":return dh=_h(dh,e,t,n,a,i),!0;case"dragenter":return hh=_h(hh,e,t,n,a,i),!0;case"mouseover":return ph=_h(ph,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return fh.set(s,_h(fh.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,_h(mh.get(s)||null,e,t,n,a,i)),!0}return!1}(i,e,t,n,a))a.stopPropagation();else if(yh(e,a),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var r=ye(s.pendingLanes);if(0!==r){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-pe(r);o.entanglements[1]|=l,r&=~l}ku(s),0===(6&nc)&&(kc=te()+500,ju(0,!1))}}break;case 13:null!==(o=Aa(s,2))&&Mc(o,0,2),Uc(),eh(s,2)}if(null===(s=rh(a))&&Zu(e,t,a,oh,n),s===i)break;i=s}null!==i&&a.stopPropagation()}else Zu(e,t,a,null,n)}}function rh(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ae:return 2;case ie:return 8;case se:case re:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function _h(e,t,n,a,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&th(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Pe(e);var t=Aa(n,e);null!==t&&Mc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&th(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Et=a,n.target.dispatchEvent(a),Et=null,t.shift()}return!0}function kh(e,t,n){bh(e)&&n.delete(t)}function jh(){uh=!1,null!==dh&&bh(dh)&&(dh=null),null!==hh&&bh(hh)&&(hh=null),null!==ph&&bh(ph)&&(ph=null),fh.forEach(kh),mh.forEach(kh)}function wh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jh)))}var Nh=null;function Sh(e){Nh!==e&&(Nh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if("function"!==typeof a){if(null===lh(a||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,Er(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ch(e){function t(t){return wh(t,e)}null!==dh&&wh(dh,e),null!==hh&&wh(hh,e),null!==ph&&wh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var a=gh[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[Oe]||null;if("function"===typeof s)r||Sh(n);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[Oe]||null)o=r.formAction;else if(null!==lh(i))continue}else o=r.action;"function"===typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Sh(n)}}}function Ph(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Xd(t.current,Rc(),e,t,null,null)},Th.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Uc(),t[Re]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ee();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Eh=i.version;if("19.1.1"!==Eh)throw Error(r(527,Eh,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(a=i.return)){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===a)return u(i),t;s=s.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{ue=Lh.inject(Ah),de=Lh}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,a="",i=yo,s=_o,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,a,i,s,l,0,null),e[Re]=t.current,Fu(e),new Ph(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var a=!1,i="",s=yo,l=_o,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,a,i,s,l,c,0,u)).context=Yd(null),n=t.current,(i=is(a=Pe(a=Rc()))).callback=null,ss(n,i,a),n=a,t.current.lanes=n,Ne(t,n),ku(t),e[Re]=t.current,Fu(e),new Th(t)},t.version="19.1.1"},24:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},43:(e,t,n)=>{"use strict";e.exports=n(288)},71:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v,hideToast:()=>l,showErrorToast:()=>d,showInfoToast:()=>p,showRujukanToast:()=>f,showStatusToast:()=>m,showSuccessToast:()=>u,showToast:()=>o,showTrackingToast:()=>g,showWarningToast:()=>h,toastTypes:()=>c});var a=n(555),i=n(43),s=n(579);const r=e=>{let{notification:t,onClose:n,position:a="top-right"}=e;const[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),u=(0,i.useCallback)(()=>{c(!0),setTimeout(()=>{n()},300)},[n]);(0,i.useEffect)(()=>{const e=setTimeout(()=>{o(!0)},100),t=setTimeout(()=>{u()},5e3);return()=>{clearTimeout(e),clearTimeout(t)}},[u]);return(0,s.jsxs)("div",{className:"toast-notification ".concat((e=>{switch(e){case"rujukan-baru":return"toast-rujukan";case"status-update":return"toast-status";case"tracking-update":return"toast-tracking";case"system":return"toast-system";case"warning":return"toast-warning";case"error":return"toast-error";case"success":return"toast-success";default:return"toast-default"}})(t.type)," ").concat(a," ").concat(r?"show":""," ").concat(l?"exit":""),onClick:u,children:[(0,s.jsxs)("div",{className:"toast-header",children:[(0,s.jsx)("div",{className:"toast-icon",children:(e=>{switch(e){case"rujukan-baru":return"\ud83d\udccb";case"status-update":return"\ud83d\udd04";case"tracking-update":return"\ud83d\ude91";case"system":return"\u2699\ufe0f";case"warning":return"\u26a0\ufe0f";case"error":return"\u274c";case"success":return"\u2705";default:return"\ud83d\udd14"}})(t.type)}),(0,s.jsx)("div",{className:"toast-title",children:t.title}),(0,s.jsx)("button",{className:"toast-close",onClick:e=>{e.stopPropagation(),u()},children:"\xd7"})]}),(0,s.jsx)("div",{className:"toast-message",children:t.message}),(0,s.jsxs)("div",{className:"toast-footer",children:[(0,s.jsx)("span",{className:"toast-time",children:(e=>{const t=new Date,n=new Date(e),a=Math.floor((t-n)/6e4);return a<1?"Baru saja":a<60?"".concat(a,"m yang lalu"):a<1440?"".concat(Math.floor(a/60),"j yang lalu"):"".concat(Math.floor(a/1440),"d yang lalu")})(t.timestamp)}),t.data&&(0,s.jsx)("button",{className:"toast-action",onClick:e=>{e.stopPropagation(),"rujukan-baru"===t.type||"status-update"===t.type?window.location.href="/rujukan":"tracking-update"===t.type&&(window.location.href="/tracking")},children:"Lihat Detail"})]}),(0,s.jsx)("div",{className:"toast-progress",children:(0,s.jsx)("div",{className:"toast-progress-bar"})})]})},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();window.dispatchEvent(new CustomEvent("show-toast",{detail:{notification:e,toastId:t}}))},l=e=>{window.dispatchEvent(new CustomEvent("hide-toast",{detail:{toastId:e}}))},c={success:function(e){return{type:"success",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Berhasil",message:e}},error:function(e){return{type:"error",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error",message:e}},warning:function(e){return{type:"warning",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Peringatan",message:e}},info:function(e){return{type:"system",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Informasi",message:e}},rujukanBaru:function(e){return{type:"rujukan-baru",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rujukan Baru",message:e}},statusUpdate:function(e){return{type:"status-update",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Status Diperbarui",message:e}},trackingUpdate:function(e){return{type:"tracking-update",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Tracking Diperbarui",message:e}}},u=(e,t)=>{o(c.success(e,t))},d=(e,t)=>{o(c.error(e,t))},h=(e,t)=>{o(c.warning(e,t))},p=(e,t)=>{o(c.info(e,t))},f=(e,t)=>{o(c.rujukanBaru(e,t))},m=(e,t)=>{o(c.statusUpdate(e,t))},g=(e,t)=>{o(c.trackingUpdate(e,t))},v=e=>{let{position:t="top-right",maxToasts:n=5}=e;const[o,l]=(0,i.useState)([]),c=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();l(i=>[{id:t,notification:(0,a.A)((0,a.A)({},e),{},{timestamp:e.timestamp||new Date})},...i].slice(0,n))},[n]),u=(0,i.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]);(0,i.useEffect)(()=>{const e=e=>{const{notification:t,toastId:n}=e.detail;c(t,n)},t=e=>{const{toastId:t}=e.detail;u(t)};return window.addEventListener("show-toast",e),window.addEventListener("hide-toast",t),()=>{window.removeEventListener("show-toast",e),window.removeEventListener("hide-toast",t)}},[c,u]);const d=(0,i.useCallback)(e=>{u(e)},[u]);return(0,s.jsx)("div",{className:"toast-container ".concat(t),children:o.map((e,n)=>(0,s.jsx)(r,{notification:e.notification,onClose:()=>d(e.id),position:t,style:{zIndex:9999-n,transform:"translateY(".concat(8*n,"px)")}},e.id))})}},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,a,i;for(n=1,a=arguments.length;n<a;n++)for(t in i=arguments[n])e[t]=i[t];return e}var a=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var a=n.call(arguments,2);return function(){return e.apply(t,a.length?a.concat(n.call(arguments)):arguments)}}var s=0;function r(e){return"_leaflet_id"in e||(e._leaflet_id=++s),e._leaflet_id}function o(e,t,n){var a,i,s,r;return r=function(){a=!1,i&&(s.apply(n,i),i=!1)},s=function(){a?i=arguments:(e.apply(n,arguments),setTimeout(r,t),a=!0)},s}function l(e,t,n){var a=t[1],i=t[0],s=a-i;return e===a&&n?e:((e-i)%s+s)%s+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?a(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var a=[];for(var i in e)a.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+a.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,function(e,n){var a=t[n];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"===typeof a&&(a=a(t)),a})}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function k(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var j=window.requestAnimationFrame||x("RequestAnimationFrame")||k,w=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function N(e,t,n){if(!n||j!==k)return j.call(window,i(e,t));e.call(t)}function S(e){e&&w.call(window,e)}var C={__proto__:null,extend:n,create:a,bind:i,get lastId(){return s},stamp:r,throttle:o,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:j,cancelFn:w,requestAnimFrame:N,cancelAnimFrame:S};function P(){}function T(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,s=a(i);for(var r in s.constructor=t,t.prototype=s,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(t[r]=this[r]);return e.statics&&n(t,e.statics),e.includes&&(T(e.includes),n.apply(null,[s].concat(e.includes))),n(s,e),delete s.statics,delete s.includes,s.options&&(s.options=i.options?a(i.options):{},n(s.options,e.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=s._initHooks.length;e<t;e++)s._initHooks[e].call(this)}},t},P.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},P.mergeOptions=function(e){return n(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var E={on:function(e,t,n){if("object"===typeof e)for(var a in e)this._on(a,e[a],t);else for(var i=0,s=(e=h(e)).length;i<s;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var a in e)this._off(a,e[a],t);else{e=h(e);for(var i=1===arguments.length,s=0,r=e.length;s<r;s++)i?this._off(e[s]):this._off(e[s],t,n)}else delete this._events;return this},_on:function(e,t,n,a){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};a&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var a,i,s;if(this._events&&(a=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var r=this._listens(e,t,n);if(!1!==r){var o=a[r];this._firingCount&&(o.fn=c,this._events[e]=a=a.slice()),a.splice(r,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,s=a.length;i<s;i++)a[i].fn=c;delete this._events[e]}},fire:function(e,t,a){if(!this.listens(e,a))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,o=s.length;r<o;r++){var l=s[r],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return a&&this._propagateEvent(i),this},listens:function(e,t,n,a){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(a=!!t,i=void 0,n=void 0);var s=this._events&&this._events[e];if(s&&s.length&&!1!==this._listens(e,i,n))return!0;if(a)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t,n,a))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var a=this._events[e]||[];if(!t)return!!a.length;n===this&&(n=void 0);for(var i=0,s=a.length;i<s;i++)if(a[i].fn===t&&a[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var a in e)this._on(a,e[a],t,!0);else for(var i=0,s=(e=h(e)).length;i<s;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[r(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[r(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens;var A=P.extend(E);function O(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var R=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function z(e,t,n){return e instanceof O?e:v(e)?new O(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new O(e.x,e.y):new O(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,a=0,i=n.length;a<i;a++)this.extend(n[a])}function I(e,t){return!e||e instanceof M?e:new M(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,a=0,i=n.length;a<i;a++)this.extend(n[a])}function B(e,t){return e instanceof D?e:new D(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function U(e,t,n){return e instanceof F?e:v(e)&&"object"!==typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new O(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new O(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(e){var t=(e=z(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=z(e)).x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},M.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof O||"number"===typeof e[0]||"x"in e)t=n=z(e);else if(t=(e=I(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof O?z(e):I(e))instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=I(e);var t=this.min,n=this.max,a=e.min,i=e.max,s=i.x>=t.x&&a.x<=n.x,r=i.y>=t.y&&a.y<=n.y;return s&&r},overlaps:function(e){e=I(e);var t=this.min,n=this.max,a=e.min,i=e.max,s=i.x>t.x&&a.x<n.x,r=i.y>t.y&&a.y<n.y;return s&&r},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,a=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return I(z(t.x-a,t.y-i),z(n.x+a,n.y+i))},equals:function(e){return!!e&&(e=I(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},D.prototype={extend:function(e){var t,n,a=this._southWest,i=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(U(e)||B(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return a||i?(a.lat=Math.min(t.lat,a.lat),a.lng=Math.min(t.lng,a.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,a=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new D(new F(t.lat-a,t.lng-i),new F(n.lat+a,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof F||"lat"in e?U(e):B(e);var t,n,a=this._southWest,i=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=a.lat&&n.lat<=i.lat&&t.lng>=a.lng&&n.lng<=i.lng},intersects:function(e){e=B(e);var t=this._southWest,n=this._northEast,a=e.getSouthWest(),i=e.getNorthEast(),s=i.lat>=t.lat&&a.lat<=n.lat,r=i.lng>=t.lng&&a.lng<=n.lng;return s&&r},overlaps:function(e){e=B(e);var t=this._southWest,n=this._northEast,a=e.getSouthWest(),i=e.getNorthEast(),s=i.lat>t.lat&&a.lat<n.lat,r=i.lng>t.lng&&a.lng<n.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,U(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var Z={latLngToPoint:function(e,t){var n=this.projection.project(e),a=this.scale(t);return this.transformation._transform(n,a)},pointToLatLng:function(e,t){var n=this.scale(t),a=this.transformation.untransform(e,n);return this.projection.unproject(a)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),a=t.lat-n.lat,i=t.lng-n.lng;if(0===a&&0===i)return e;var s=e.getSouthWest(),r=e.getNorthEast();return new D(new F(s.lat-a,s.lng-i),new F(r.lat-a,r.lng-i))}},H=n({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,a=e.lat*n,i=t.lat*n,s=Math.sin((t.lat-e.lat)*n/2),r=Math.sin((t.lng-e.lng)*n/2),o=s*s+Math.cos(a)*Math.cos(i)*r*r,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,a=Math.max(Math.min(n,e.lat),-n),i=Math.sin(a*t);return new O(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=q*Math.PI;return new M([-e,-e],[e,e])}()};function K(e,t,n,a){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=a}function V(e,t,n,a){return new K(e,t,n,a)}K.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new O((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=n({},H,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return V(e,.5,-e,.5)}()}),J=n({},G,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,a,i,s,r,o,l="";for(n=0,i=e.length;n<i;n++){for(a=0,s=(r=e[n]).length;a<s;a++)l+=(a?"L":"M")+(o=r[a]).x+" "+o.y;l+=t?Me.svg?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=ze("webkit"),ae=ze("android"),ie=ze("android 2")||ze("android 3"),se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=ae&&ze("Google")&&se<537&&!("AudioNode"in window),oe=!!window.opera,le=!te&&ze("chrome"),ce=ze("gecko")&&!ne&&!oe&&!$,ue=!le&&ze("safari"),de=ze("phantom"),he="OTransition"in X,pe=0===navigator.platform.indexOf("Win"),fe=$&&"transition"in X,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in X,ve=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!de,ye="undefined"!==typeof orientation||ze("mobile"),_e=ye&&ne,xe=ye&&me,be=!window.PointerEvent&&window.MSPointerEvent,ke=!(!window.PointerEvent&&!be),je="ontouchstart"in window||!!window.TouchEvent,we=!window.L_NO_TOUCH&&(je||ke),Ne=ye&&oe,Se=ye&&ce,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Te=!!document.createElement("canvas").getContext,Ee=!(!document.createElementNS||!Q("svg").createSVGRect),Ae=!!Ee&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Le=!Ee&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Oe=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function ze(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Me={ie:$,ielt9:ee,edge:te,webkit:ne,android:ae,android23:ie,androidStock:re,opera:oe,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:_e,mobileWebkit3d:xe,msPointer:be,pointer:ke,touch:we,touchNative:je,mobileOpera:Ne,mobileGecko:Se,retina:Ce,passiveEvents:Pe,canvas:Te,svg:Ee,vml:Le,inlineSvg:Ae,mac:Oe,linux:Re},Ie=Me.msPointer?"MSPointerDown":"pointerdown",De=Me.msPointer?"MSPointerMove":"pointermove",Be=Me.msPointer?"MSPointerUp":"pointerup",Fe=Me.msPointer?"MSPointerCancel":"pointercancel",Ue={touchstart:Ie,touchmove:De,touchend:Be,touchcancel:Fe},Ze={touchstart:Xe,touchmove:Ye,touchend:Ye,touchcancel:Ye},He={},qe=!1;function We(e,t,n){return"touchstart"===t&&Qe(),Ze[t]?(n=Ze[t].bind(this,n),e.addEventListener(Ue[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ke(e,t,n){Ue[t]?e.removeEventListener(Ue[t],n,!1):console.warn("wrong event specified:",t)}function Ve(e){He[e.pointerId]=e}function Ge(e){He[e.pointerId]&&(He[e.pointerId]=e)}function Je(e){delete He[e.pointerId]}function Qe(){qe||(document.addEventListener(Ie,Ve,!0),document.addEventListener(De,Ge,!0),document.addEventListener(Be,Je,!0),document.addEventListener(Fe,Je,!0),qe=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Vt(t),Ye(e,t)}function $e(e){var t,n,a={};for(n in e)t=e[n],a[n]=t&&t.bind?t.bind(e):t;return e=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,a=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Jt(e);if(!i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var s=Date.now();s-a<=et?2===++n&&t($e(e)):n=1,a=s}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var at,it,st,rt,ot,lt=Nt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Nt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function dt(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var a=document.defaultView.getComputedStyle(e,null);n=a?a[t]:null}return"auto"===n?null:n}function pt(e,t,n){var a=document.createElement(e);return a.className=t||"",n&&n.appendChild(a),a}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=kt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=h(t),a=0,i=n.length;a<i;a++)e.classList.add(n[a]);else if(!yt(e,t)){var s=kt(e);bt(e,(s?s+" ":"")+t)}}function xt(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,d((" "+kt(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function kt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function jt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&wt(e,t)}function wt(e,t){var n=!1,a="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(a)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+a+"(opacity="+t+")"}function Nt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function St(e,t,n){var a=t||new O(0,0);e.style[lt]=(Me.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(n?" scale("+n+")":"")}function Ct(e,t){e._leaflet_pos=t,Me.any3d?St(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Pt(e){return e._leaflet_pos||new O(0,0)}if("onselectstart"in document)at=function(){It(window,"selectstart",Vt)},it=function(){Bt(window,"selectstart",Vt)};else{var Tt=Nt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);at=function(){if(Tt){var e=document.documentElement.style;st=e[Tt],e[Tt]="none"}},it=function(){Tt&&(document.documentElement.style[Tt]=st,st=void 0)}}function Et(){It(window,"dragstart",Vt)}function At(){Bt(window,"dragstart",Vt)}function Lt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ot(),rt=e,ot=e.style.outlineStyle,e.style.outlineStyle="none",It(window,"keydown",Ot))}function Ot(){rt&&(rt.style.outlineStyle=ot,rt=void 0,ot=void 0,Bt(window,"keydown",Ot))}function Rt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function zt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Mt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:dt,getStyle:ht,create:pt,remove:ft,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:_t,removeClass:xt,setClass:bt,getClass:kt,setOpacity:jt,testProp:Nt,setTransform:St,setPosition:Ct,getPosition:Pt,get disableTextSelection(){return at},get enableTextSelection(){return it},disableImageDrag:Et,enableImageDrag:At,preventOutline:Lt,restoreOutline:Ot,getSizedParentNode:Rt,getScale:zt};function It(e,t,n,a){if(t&&"object"===typeof t)for(var i in t)Zt(e,i,t[i],n);else for(var s=0,r=(t=h(t)).length;s<r;s++)Zt(e,t[s],n,a);return this}var Dt="_leaflet_events";function Bt(e,t,n,a){if(1===arguments.length)Ft(e),delete e[Dt];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=h(t),2===arguments.length)Ft(e,function(e){return-1!==y(t,e)});else for(var s=0,r=t.length;s<r;s++)Ht(e,t[s],n,a);return this}function Ft(e,t){for(var n in e[Dt]){var a=n.split(/\d/)[0];t&&!t(a)||Ht(e,a,null,null,n)}}var Ut={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zt(e,t,n,a){var i=t+r(n)+(a?"_"+r(a):"");if(e[Dt]&&e[Dt][i])return this;var s=function(t){return n.call(a||e,t||window.event)},o=s;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?s=We(e,t,s):Me.touch&&"dblclick"===t?s=tt(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ut[t]||t,s,!!Me.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,$t(e,t)&&o(t)},e.addEventListener(Ut[t],s,!1)):e.addEventListener(t,o,!1):e.attachEvent("on"+t,s),e[Dt]=e[Dt]||{},e[Dt][i]=s}function Ht(e,t,n,a,i){i=i||t+r(n)+(a?"_"+r(a):"");var s=e[Dt]&&e[Dt][i];if(!s)return this;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?Ke(e,t,s):Me.touch&&"dblclick"===t?nt(e,s):"removeEventListener"in e?e.removeEventListener(Ut[t]||t,s,!1):e.detachEvent("on"+t,s),e[Dt][i]=null}function qt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return Zt(e,"wheel",qt),this}function Kt(e){return It(e,"mousedown touchstart dblclick contextmenu",qt),e._leaflet_disable_click=!0,this}function Vt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Gt(e){return Vt(e),qt(e),this}function Jt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new O(e.clientX,e.clientY);var n=zt(t),a=n.boundingClientRect;return new O((e.clientX-a.left)/n.x-t.clientLeft,(e.clientY-a.top)/n.y-t.clientTop)}var Yt=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return Me.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(a){return!1}return n!==e}var en={__proto__:null,on:It,off:Bt,stopPropagation:qt,disableScrollPropagation:Wt,disableClickPropagation:Kt,preventDefault:Vt,stop:Gt,getPropagationPath:Jt,getMousePosition:Qt,getWheelDelta:Xt,isExternalTarget:$t,addListener:It,removeListener:Bt},tn=A.extend({run:function(e,t,n,a){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Pt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ct(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=A.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(U(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),It(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,a){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(U(e),t,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a&&(void 0!==a.animate&&(a.zoom=n({animate:a.animate},a.zoom),a.pan=n({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,a.zoom):this._tryAnimatedPan(e,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,a.pan&&a.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var a=this.getZoomScale(t),i=this.getSize().divideBy(2),s=(e instanceof O?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/a),r=this.containerPointToLatLng(i.add(s));return this.setView(r,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var n=z(t.paddingTopLeft||t.padding||[0,0]),a=z(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(a));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var s=a.subtract(n).divideBy(2),r=this.project(e.getSouthWest(),i),o=this.project(e.getNorthEast(),i);return{center:this.unproject(r.add(o).divideBy(2).add(s),i),zoom:i}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=z(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Me.any3d)return this.setView(e,t,n);this._stop();var a=this.project(this.getCenter()),i=this.project(e),s=this.getSize(),r=this._zoom;e=U(e),t=void 0===t?r:t;var o=Math.max(s.x,s.y),l=o*this.getZoomScale(r,t),c=i.distanceTo(a)||1,u=1.42,d=u*u;function h(e){var t=(l*l-o*o+(e?-1:1)*d*d*c*c)/(2*(e?l:o)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var g=h(0);function v(e){return o*(f(g)/f(g+u*e))}function y(e){return o*(f(g)*m(g+u*e)-p(g))/d}function _(e){return 1-Math.pow(1-e,1.5)}var x=Date.now(),b=(h(1)-g)/u,k=n.duration?1e3*n.duration:1e3*b*.8;function j(){var n=(Date.now()-x)/k,s=_(n)*b;n<=1?(this._flyToFrame=N(j,this),this._move(this.unproject(a.add(i.subtract(a).multiplyBy(y(s)/c)),r),this.getScaleZoom(o/v(s),r),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),j.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),a=this._limitCenter(n,this._zoom,B(e));return n.equals(a)||this.panTo(a,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=z((t=t||{}).paddingTopLeft||t.padding||[0,0]),a=z(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),s=this.project(e),r=this.getPixelBounds(),o=I([r.min.add(n),r.max.subtract(a)]),l=o.getSize();if(!o.contains(s)){this._enforcingBounds=!0;var c=s.subtract(o.getCenter()),u=o.extend(s).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),s=t.divideBy(2).round(),r=a.divideBy(2).round(),o=s.subtract(r);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),a=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,a,e):navigator.geolocation.getCurrentPosition(t,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),a=this._locateOptions;if(a.setView){var i=this.getBoundsZoom(n);this.setView(t,a.maxZoom?Math.min(i,a.maxZoom):i)}var s={latlng:t,bounds:n,timestamp:e.timestamp};for(var r in e.coords)"number"===typeof e.coords[r]&&(s[r]=e.coords[r]);this.fire("locationfound",s)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=B(e),n=z(n||[0,0]);var a=this.getZoom()||0,i=this.getMinZoom(),s=this.getMaxZoom(),r=e.getNorthWest(),o=e.getSouthEast(),l=this.getSize().subtract(n),c=I(this.project(o,a),this.project(r,a)).getSize(),u=Me.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return a=this.getScaleZoom(p,a),u&&(a=Math.round(a/(u/100))*(u/100),a=t?Math.ceil(a/u)*u:Math.floor(a/u)*u),Math.max(i,Math.min(s,a))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var a=n.zoom(e*n.scale(t));return isNaN(a)?1/0:a},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(U(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(z(e),t)},layerPointToLatLng:function(e){var t=z(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(U(e),U(t))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=dt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");It(t,"scroll",this._onScroll,this),this._containerId=r(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,_t(e,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ct(this._mapPane,new O(0,0));var a=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,a){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),a?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[r(this._container)]=this;var t=e?Bt:It;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,a=[],i="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,o=!1;s;){if((n=this._targets[r(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(s,e))break;if(a.push(n),i)break}if(s===this._container)break;s=s.parentNode}return a.length||o||i||!this.listens(t,!0)||(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Lt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,a){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,a)}var s=this._findEventTargets(e,t);if(a){for(var r=[],o=0;o<a.length;o++)a[o].listens(t,!0)&&r.push(a[o]);s=r.concat(s)}if(s.length){"contextmenu"===t&&Vt(e);var l=s[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(o=0;o<s.length;o++)if(s[o].fire(t,c,!0),c.originalEvent._stopped||!1===s[o].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Pt(this._mapPane)||new O(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var a=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(a)},_latLngBoundsToNewLayerBounds:function(e,t,n){var a=this._getNewPixelOrigin(n,t);return I([this.project(e.getSouthWest(),t)._subtract(a),this.project(e.getNorthWest(),t)._subtract(a),this.project(e.getSouthEast(),t)._subtract(a),this.project(e.getNorthEast(),t)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var a=this.project(e,t),i=this.getSize().divideBy(2),s=new M(a.subtract(i),a.add(i)),r=this._getBoundsOffset(s,n,t);return Math.abs(r.x)<=1&&Math.abs(r.y)<=1?e:this.unproject(a.add(r),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),a=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(a,t))},_getBoundsOffset:function(e,t,n){var a=I(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=a.min.subtract(e.min),s=a.max.subtract(e.max);return new O(this._rebound(i.x,-s.x),this._rebound(i.y,-s.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),a=Me.any3d?this.options.zoomSnap:1;return a&&(e=Math.round(e/a)*a),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=lt,n=this._proxy.style[t];St(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();St(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/a);return!(!0!==n.animate&&!this.getSize().contains(i))&&(N(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,a){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function an(e,t){return new nn(e,t)}var sn=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),a=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?a.insertBefore(t,a.firstChild):a.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),rn=function(e){return new sn(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function a(a,i){var s=t+a+" "+t+i;e[a+i]=pt("div",s,n)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var on=sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,a){return n<a?-1:a<n?1:0}},initialize:function(e,t,n){for(var a in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[a],a);for(a in t)this._addLayer(t[a],a,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return sn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(r(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Kt(t),Wt(t);var a=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),It(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=pt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),It(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Vt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",a),this._separator=pt("div",e+"-separator",a),this._overlaysList=pt("div",e+"-overlays",a),t.appendChild(a)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&r(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,a,i=0;for(n=0;n<this._layers.length;n++)a=this._layers[n],this._addItem(a),t=t||a.overlay,e=e||!a.overlay,i+=a.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(r(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=n,a.firstChild},_addItem:function(e){var t,n=document.createElement("label"),a=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=a):t=this._createRadioElement("leaflet-base-layers_"+r(this),a),this._layerControlInputs.push(t),t.layerId=r(e.layer),It(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(t),s.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,a=[],i=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)e=n[s],t=this._getLayer(e.layerId).layer,e.checked?a.push(t):e.checked||i.push(t);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])&&this._map.removeLayer(i[s]);for(s=0;s<a.length;s++)this._map.hasLayer(a[s])||this._map.addLayer(a[s]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,a=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&a<t.options.minZoom||void 0!==t.options.maxZoom&&a>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,It(e,"click",Vt),this.expand();var t=this;setTimeout(function(){Bt(e,"click",Vt),t._preventClick=!1})}}),ln=function(e,t,n){return new on(e,t,n)},cn=sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,a,i){var s=pt("a",n,a);return s.innerHTML=e,s.href="#",s.title=t,s.setAttribute("role","button"),s.setAttribute("aria-label",t),Kt(s),It(s,"click",Gt),It(s,"click",i,this),It(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";xt(this._zoomInButton,t),xt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))});var un=function(e){return new cn(e)},dn=sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),a=this.options;return this._addScales(a,t+"-line",n),e.on(a.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,a,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(a=this._getRoundNum(i),this._updateScale(this._iScale,a+" ft",a/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new dn(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Kt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new fn).addTo(this)});var mn=function(e){return new fn(e)};sn.Layers=on,sn.Zoom=cn,sn.Scale=dn,sn.Attribution=fn,rn.layers=ln,rn.zoom=un,rn.scale=hn,rn.attribution=mn;var gn=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:E},yn=Me.touch?"touchstart mousedown":"mousedown",_n=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,a){p(this,a),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(It(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Lt(this._element),Et(),at(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Rt(this._element);this._startPoint=new O(t.clientX,t.clientY),this._startPos=Pt(this._element),this._parentScale=zt(n);var a="mousedown"===e.type;It(document,a?"mousemove":"touchmove",this._onMove,this),It(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new O(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Vt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),At(),it();var t=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function xn(e,t,n){var a,i,s,r,o,l,c,u,d,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=On(e[i],t);for(r=0;r<4;r++){for(u=h[r],a=[],i=0,s=(c=e.length)-1;i<c;s=i++)o=e[i],l=e[s],o._code&u?l._code&u||((d=Ln(l,o,u,t,n))._code=On(d,t),a.push(d)):(l._code&u&&((d=Ln(l,o,u,t,n))._code=On(d,t),a.push(d)),a.push(o));e=a}return e}function bn(e,t){var n,a,i,s,r,o,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=U([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=kn(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=U(e[n]);f.push(t.project(U([m.lat-d.lat,m.lng-d.lng])))}for(o=l=c=0,n=0,a=p-1;n<p;a=n++)i=f[n],s=f[a],r=i.y*s.x-s.y*i.x,l+=(i.x+s.x)*r,c+=(i.y+s.y)*r,o+=3*r;u=0===o?f[0]:[l/o,c/o];var g=t.unproject(z(u));return U([g.lat+d.lat,g.lng+d.lng])}function kn(e){for(var t=0,n=0,a=0,i=0;i<e.length;i++){var s=U(e[i]);t+=s.lat,n+=s.lng,a++}return U([t/a,n/a])}var jn,wn={__proto__:null,clipPolygon:xn,polygonCenter:bn,centroid:kn};function Nn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e=En(e,n),n)}function Sn(e,t,n){return Math.sqrt(zn(e,t,n,!0))}function Cn(e,t,n){return zn(e,t,n)}function Pn(e,t){var n=e.length,a=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);a[0]=a[n-1]=1,Tn(e,a,t,0,n-1);var i,s=[];for(i=0;i<n;i++)a[i]&&s.push(e[i]);return s}function Tn(e,t,n,a,i){var s,r,o,l=0;for(r=a+1;r<=i-1;r++)(o=zn(e[r],e[a],e[i],!0))>l&&(s=r,l=o);l>n&&(t[s]=1,Tn(e,t,n,a,s),Tn(e,t,n,s,i))}function En(e,t){for(var n=[e[0]],a=1,i=0,s=e.length;a<s;a++)Rn(e[a],e[i])>t&&(n.push(e[a]),i=a);return i<s-1&&n.push(e[s-1]),n}function An(e,t,n,a,i){var s,r,o,l=a?jn:On(e,n),c=On(t,n);for(jn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;o=On(r=Ln(e,t,s=l||c,n,i),n),s===l?(e=r,l=o):(t=r,c=o)}}function Ln(e,t,n,a,i){var s,r,o=t.x-e.x,l=t.y-e.y,c=a.min,u=a.max;return 8&n?(s=e.x+o*(u.y-e.y)/l,r=u.y):4&n?(s=e.x+o*(c.y-e.y)/l,r=c.y):2&n?(s=u.x,r=e.y+l*(u.x-e.x)/o):1&n&&(s=c.x,r=e.y+l*(c.x-e.x)/o),new O(s,r,i)}function On(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a}function zn(e,t,n,a){var i,s=t.x,r=t.y,o=n.x-s,l=n.y-r,c=o*o+l*l;return c>0&&((i=((e.x-s)*o+(e.y-r)*l)/c)>1?(s=n.x,r=n.y):i>0&&(s+=o*i,r+=l*i)),o=e.x-s,l=e.y-r,a?o*o+l*l:new O(s,r)}function Mn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function In(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(e)}function Dn(e,t){var n,a,i,s,r,o,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=U([0,0]),d=B(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=kn(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=U(e[n]);p.push(t.project(U([f.lat-u.lat,f.lng-u.lng])))}for(n=0,a=0;n<h-1;n++)a+=p[n].distanceTo(p[n+1])/2;if(0===a)c=p[0];else for(n=0,s=0;n<h-1;n++)if(r=p[n],o=p[n+1],(s+=i=r.distanceTo(o))>a){l=(s-a)/i,c=[o.x-l*(o.x-r.x),o.y-l*(o.y-r.y)];break}var m=t.unproject(z(c));return U([m.lat+u.lat,m.lng+u.lng])}var Bn={__proto__:null,simplify:Nn,pointToSegmentDistance:Sn,closestPointOnSegment:Cn,clipSegment:An,_getEdgeIntersection:Ln,_getBitCode:On,_sqClosestPointOnSegment:zn,isFlat:Mn,_flat:In,polylineCenter:Dn},Fn={project:function(e){return new O(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,a=e.lat*t,i=this.R_MINOR/n,s=Math.sqrt(1-i*i),r=s*Math.sin(a),o=Math.tan(Math.PI/4-a/2)/Math.pow((1-r)/(1+r),s/2);return a=-n*Math.log(Math.max(o,1e-10)),new O(e.lng*t*n,a)},unproject:function(e){for(var t,n=180/Math.PI,a=this.R,i=this.R_MINOR/a,s=Math.sqrt(1-i*i),r=Math.exp(-e.y/a),o=Math.PI/2-2*Math.atan(r),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=s*Math.sin(o),t=Math.pow((1-t)/(1+t),s/2),o+=c=Math.PI/2-2*Math.atan(r*t)-o;return new F(o*n,e.x*n/a)}},Zn={__proto__:null,LonLat:Fn,Mercator:Un,SphericalMercator:W},Hn=n({},H,{code:"EPSG:3395",projection:Un,transformation:function(){var e=.5/(Math.PI*Un.R);return V(e,.5,-e,.5)}()}),qn=n({},H,{code:"EPSG:4326",projection:Fn,transformation:V(1/180,1,-1/180,.5)}),Wn=n({},Z,{projection:Fn,transformation:V(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,a=t.lat-e.lat;return Math.sqrt(n*n+a*a)},infinite:!0});Z.Earth=H,Z.EPSG3395=Hn,Z.EPSG3857=G,Z.EPSG900913=J,Z.EPSG4326=qn,Z.Simple=Wn;var Kn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[r(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[r(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=r(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=r(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return r(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[r(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=r(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var a in this._zoomBoundLayers){var i=this._zoomBoundLayers[a].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vn=Kn.extend({initialize:function(e,t){var n,a;if(p(this,t),this._layers={},e)for(n=0,a=e.length;n<a;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,a=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,a);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return r(e)}}),Gn=function(e,t){return new Vn(e,t)},Jn=Vn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Vn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Vn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Qn=function(e,t){return new Jn(e,t)},Yn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(a,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),a},_setIconStyles:function(e,t){var n=this.options,a=n[t+"Size"];"number"===typeof a&&(a=[a,a]);var i=z(a),s=z("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Me.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Yn(e)}var $n=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var a=t.exec(e);return a&&a[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ea=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,a=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,s=Pt(t._icon),r=n.getPixelBounds(),o=n.getPixelOrigin(),l=I(r.min._subtract(o).add(i),r.max._subtract(o).subtract(i));if(!l.contains(s)){var c=z((Math.max(l.max.x,s.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(a);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ct(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=N(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,a=Pt(t._icon),i=t._map.layerPointToLatLng(a);n&&Ct(n,a),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ta=Kn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),a=!1;n!==this._icon&&(this._icon&&this._removeIcon(),a=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),s=!1;i!==this._shadow&&(this._removeShadow(),s=!0),i&&(_t(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&s&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ea)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ea(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&jt(this._icon,e),this._shadow&&jt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?z(t.iconSize):z(0,0),a=t.iconAnchor?z(t.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:n.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function na(e,t){return new ta(e,t)}var aa=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ia=aa.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return aa.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),a=[e+n,t+n];this._pxBounds=new M(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sa(e,t){return new ia(e,t)}var ra=ia.extend({initialize:function(e,t,a){if("number"===typeof t&&(t=n({},a,{radius:t})),p(this,t),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:aa.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,a=n.options.crs;if(a.distance===H.distance){var i=Math.PI/180,s=this._mRadius/H.R/i,r=n.project([t+s,e]),o=n.project([t-s,e]),l=r.add(o).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(s*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=s/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-r.y}else{var d=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function oa(e,t,n){return new ra(e,t,n)}var la=aa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,a=1/0,i=null,s=zn,r=0,o=this._parts.length;r<o;r++)for(var l=this._parts[r],c=1,u=l.length;c<u;c++){var d=s(e,t=l[c-1],n=l[c],!0);d<a&&(a=d,i=s(e,t,n))}return i&&(i.distance=Math.sqrt(a)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=U(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Mn(e),a=0,i=e.length;a<i;a++)n?(t[a]=U(e[a]),this._bounds.extend(t[a])):t[a]=this._convertLatLngs(e[a]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new O(e,e);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var a,i,s=e[0]instanceof F,r=e.length;if(s){for(i=[],a=0;a<r;a++)i[a]=this._map.latLngToLayerPoint(e[a]),n.extend(i[a]);t.push(i)}else for(a=0;a<r;a++)this._projectLatlngs(e[a],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,a,i,s,r,o,l=this._parts;for(t=0,a=0,i=this._rings.length;t<i;t++)for(n=0,s=(o=this._rings[t]).length;n<s-1;n++)(r=An(o[n],o[n+1],e,n,!0))&&(l[a]=l[a]||[],l[a].push(r[0]),r[1]===o[n+1]&&n!==s-2||(l[a].push(r[1]),a++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,a=e.length;n<a;n++)e[n]=Nn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,a,i,s,r,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,s=this._parts.length;n<s;n++)for(a=0,i=(r=(o=this._parts[n]).length)-1;a<r;i=a++)if((t||0!==a)&&Sn(e,o[i],o[a])<=l)return!0;return!1}});function ca(e,t){return new la(e,t)}la._flat=In;var ua=la.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=la.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){la.prototype._setLatLngs.call(this,e),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new O(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var a,i=0,s=this._rings.length;i<s;i++)(a=xn(this._rings[i],e,!0)).length&&this._parts.push(a)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,a,i,s,r,o,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,o=this._parts.length;i<o;i++)for(s=0,r=(l=(t=this._parts[i]).length)-1;s<l;r=s++)n=t[s],a=t[r],n.y>e.y!==a.y>e.y&&e.x<(a.x-n.x)*(e.y-n.y)/(a.y-n.y)+n.x&&(c=!c);return c||la.prototype._containsPoint.call(this,e,!0)}});function da(e,t){return new ua(e,t)}var ha=Jn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,a,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((a=i[t]).geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var s=this.options;if(s.filter&&!s.filter(e))return this;var r=pa(e,s);return r?(r.feature=xa(e),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(e,r),this.addLayer(r)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pa(e,t){var n,a,i,s,r="Feature"===e.type?e.geometry:e,o=r?r.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||ma;if(!o&&!r)return null;switch(r.type){case"Point":return fa(c,e,n=u(o),t);case"MultiPoint":for(i=0,s=o.length;i<s;i++)n=u(o[i]),l.push(fa(c,e,n,t));return new Jn(l);case"LineString":case"MultiLineString":return a=ga(o,"LineString"===r.type?0:1,u),new la(a,t);case"Polygon":case"MultiPolygon":return a=ga(o,"Polygon"===r.type?1:2,u),new ua(a,t);case"GeometryCollection":for(i=0,s=r.geometries.length;i<s;i++){var d=pa({geometry:r.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Jn(l);case"FeatureCollection":for(i=0,s=r.features.length;i<s;i++){var h=pa(r.features[i],t);h&&l.push(h)}return new Jn(l);default:throw new Error("Invalid GeoJSON object.")}}function fa(e,t,n,a){return e?e(t,n):new ta(n,a&&a.markersInheritOptions&&a)}function ma(e){return new F(e[1],e[0],e[2])}function ga(e,t,n){for(var a,i=[],s=0,r=e.length;s<r;s++)a=t?ga(e[s],t-1,n):(n||ma)(e[s]),i.push(a);return i}function va(e,t){return void 0!==(e=U(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function ya(e,t,n,a){for(var i=[],s=0,r=e.length;s<r;s++)i.push(t?ya(e[s],Mn(e[s])?0:t-1,n,a):va(e[s],a));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function _a(e,t){return e.feature?n({},e.feature,{geometry:t}):xa(t)}function xa(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var ba={toGeoJSON:function(e){return _a(this,{type:"Point",coordinates:va(this.getLatLng(),e)})}};function ka(e,t){return new ha(e,t)}ta.include(ba),ra.include(ba),ia.include(ba),la.include({toGeoJSON:function(e){var t=!Mn(this._latlngs);return _a(this,{type:(t?"Multi":"")+"LineString",coordinates:ya(this._latlngs,t?1:0,!1,e)})}}),ua.include({toGeoJSON:function(e){var t=!Mn(this._latlngs),n=t&&!Mn(this._latlngs[0]),a=ya(this._latlngs,n?2:t?1:0,!0,e);return t||(a=[a]),_a(this,{type:(n?"Multi":"")+"Polygon",coordinates:a})}}),Vn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),_a(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,a=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)a.push(i.geometry);else{var s=xa(i);"FeatureCollection"===s.type?a.push.apply(a,s.features):a.push(s)}}}),n?_a(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});var ja=ka,wa=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=B(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;St(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ct(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Na=function(e,t,n){return new wa(e,t,n)},Sa=wa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),a=[],s=0;s<n.length;s++)a.push(n[s].src);this._url=n.length>0?a:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var o=pt("source");o.src=this._url[r],t.appendChild(o)}}}});function Ca(e,t,n){return new Sa(e,t,n)}var Pa=wa.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ta(e,t,n){return new Pa(e,t,n)}var Ea=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||v(e))?(this._latlng=U(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(i(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Jn){t=null;var n=this._source._layers;for(var a in n)if(n[a]._map){t=n[a];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=z(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(n)):t=t.add(e).add(n);var a=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=a+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,a){var i=t;return i instanceof e||(i=new e(a).setContent(t)),n&&i.setLatLng(n),i}}),Kn.include({_initOverlay:function(e,t,n,a){var i=n;return i instanceof e?(p(i,a),i._source=this):(i=t&&!a?t:new e(a,this)).setContent(n),i}});var Aa=Ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ea.prototype.openOn.call(this,e)},onAdd:function(e){Ea.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof aa||this._source.on("preclick",qt))},onRemove:function(e){Ea.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof aa||this._source.off("preclick",qt))},getEvents:function(){var e=Ea.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Kt(t),Wt(this._contentNode),It(t,"contextmenu",qt),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=pt("a",e+"-close-button",t);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',It(a,"click",function(e){Vt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var a=e.offsetHeight,i=this.options.maxHeight,s="leaflet-popup-scrolled";i&&a>i?(t.height=i+"px",_t(e,s)):xt(e,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ct(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,a=this._containerWidth,i=new O(this._containerLeft,-n-this._containerBottom);i._add(Pt(this._container));var s=e.layerPointToContainerPoint(i),r=z(this.options.autoPanPadding),o=z(this.options.autoPanPaddingTopLeft||r),l=z(this.options.autoPanPaddingBottomRight||r),c=e.getSize(),u=0,d=0;s.x+a+l.x>c.x&&(u=s.x+a-c.x+l.x),s.x-u-o.x<0&&(u=s.x-o.x),s.y+n+l.y>c.y&&(d=s.y+n-c.y+l.y),s.y-d-o.y<0&&(d=s.y-o.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),La=function(e,t){return new Aa(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Aa,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Kn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Aa,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Gt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof aa?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Oa=Ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ea.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ea.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ea.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+r(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,a=this._map,i=this._container,s=a.latLngToContainerPoint(a.getCenter()),r=a.layerPointToContainerPoint(e),o=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=z(this.options.offset),d=this._getAnchor();"top"===o?(t=l/2,n=c):"bottom"===o?(t=l/2,n=0):"center"===o?(t=l/2,n=c/2):"right"===o?(t=0,n=c/2):"left"===o?(t=l,n=c/2):r.x<s.x?(o="right",t=0,n=c/2):(o="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(z(t,n,!0)).add(u).add(d),xt(i,"leaflet-tooltip-right"),xt(i,"leaflet-tooltip-left"),xt(i,"leaflet-tooltip-top"),xt(i,"leaflet-tooltip-bottom"),_t(i,"leaflet-tooltip-"+o),Ct(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&jt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ra=function(e,t){return new Oa(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Oa,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Kn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oa,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(It(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),It(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,a=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),a=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(a)}});var za=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var a=z(n.bgPos);t.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Ma(e){return new za(e)}Yn.Default=$n;var Ia=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof O?e:new O(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,a=-e(-1/0,1/0),i=0,s=n.length;i<s;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(a=e(a,+t));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){jt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var a in this._tiles){var i=this._tiles[a];if(i.current&&i.loaded){var s=Math.min(1,(e-i.loaded)/200);jt(i.el,s),s<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(S(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var a=this._levels[e],i=this._map;return a||((a=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=t,a.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),a.zoom=e,this._setZoomTransform(a,i.getCenter(),i.getZoom()),c(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var a=t.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,a){var i=Math.floor(e/2),s=Math.floor(t/2),r=n-1,o=new O(+i,+s);o.z=+r;var l=this._tileCoordsToKey(o),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>a&&this._retainParent(i,s,r,a))},_retainChildren:function(e,t,n,a){for(var i=2*e;i<2*e+2;i++)for(var s=2*t;s<2*t+2;s++){var r=new O(i,s);r.z=n+1;var o=this._tileCoordsToKey(r),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<a&&this._retainChildren(i,s,n+1,a))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,a){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var s=this.options.updateWhenZooming&&i!==this._tileZoom;a&&!s||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var a=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(t,n)).round();Me.any3d?St(e.el,i,a):Ct(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),a=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],a).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],a).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],a).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],a).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),a=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),s=t.getSize().divideBy(2*a);return new M(i.subtract(s),i.add(s))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var a=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(a),s=i.getCenter(),r=[],o=this.options.keepBuffer,l=new M(i.getBottomLeft().subtract([o,-o]),i.getTopRight().add([o,-o]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new O(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var h=i.min.x;h<=i.max.x;h++){var p=new O(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:r.push(p)}}if(r.sort(function(e,t){return e.distanceTo(s)-t.distanceTo(s)}),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<r.length;h++)this._addTile(r[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(a)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),a=e.scaleBy(n),i=a.add(n);return[t.unproject(a,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new O(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Me.ielt9&&this.options.opacity<1&&jt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),a=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&N(i(this._tileReady,this,e,null,s)),Ct(s,n),this._tiles[a]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var a=this._tileCoordsToKey(e);(n=this._tiles[a])&&(n.loaded=+new Date,this._map._fadeAnimated?(jt(n.el,0),S(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new O(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Da(e){return new Ia(e)}var Ba=Ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Me.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return It(n,"load",i(this._tileOnLoad,this,t,n)),It(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Me.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=a),t["-y"]=a}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Me.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var a=this.options.errorTileUrl;a&&t.getAttribute("src")!==a&&(t.src=a),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),Ia.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Ia.prototype._tileReady.call(this,e,t,n)}});function Fa(e,t){return new Ba(e,t)}var Ua=Ba.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var a=n({},this.defaultWmsParams);for(var i in t)i in this.options||(a[i]=t[i]);var s=(t=p(this,t)).detectRetina&&Me.retina?2:1,r=this.getTileSize();a.width=r.x*s,a.height=r.y*s,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ba.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,a=I(n.project(t[0]),n.project(t[1])),i=a.min,s=a.max,r=(this._wmsVersion>=1.3&&this._crs===qn?[i.y,i.x,s.y,s.x]:[i.x,i.y,s.x,s.y]).join(","),o=Ba.prototype.getTileUrl.call(this,e);return o+f(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Za(e,t){return new Ua(e,t)}Ba.WMS=Ua,Fa.wms=Za;var Ha=Kn.extend({options:{padding:.1},initialize:function(e){p(this,e),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),s=a.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Me.any3d?St(this._container,s,n):Ct(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qa=Ha.extend({options:{tolerance:0},getEvents:function(){var e=Ha.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ha.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");It(e,"mousemove",this._onMouseMove,this),It(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),It(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,ft(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ha.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),a=Me.retina?2:1;Ct(t,e.min),t.width=a*n.x,t.height=a*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ha.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[r(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,a=t.prev;n?n.prev=a:this._drawLast=a,a?a.next=n:this._drawFirst=n,delete e._order,delete this._layers[r(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,a=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<a.length;n++){if(t=Number(a[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)e=a.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,a,i,s,r=e._parts,o=r.length,l=this._ctx;if(o){for(l.beginPath(),n=0;n<o;n++){for(a=0,i=r[n].length;a<i;a++)s=r[n][a],l[a?"lineTo":"moveTo"](s.x,s.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,a=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||a)/a;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,a,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,a=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(a)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(xt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,a,s=this._drawFirst;s;s=s.next)(n=s.layer).options.interactive&&n._containsPoint(t)&&(a=n);a!==this._hoveredLayer&&(this._handleMouseOut(e),a&&(_t(this._container,"leaflet-interactive"),this._fireEvent([a],e,"mouseover"),this._hoveredLayer=a)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,a=t.prev;n&&(n.prev=a,a?a.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,a=t.prev;a&&(a.next=n,n?n.prev=a:a&&(this._drawLast=a),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Wa(e){return Me.canvas?new qa(e):null}var Ka=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Va={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ha.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Ka("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Ka("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[r(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,a=e.options,i=e._container;i.stroked=!!a.stroke,i.filled=!!a.fill,a.stroke?(t||(t=e._stroke=Ka("stroke")),i.appendChild(t),t.weight=a.weight+"px",t.color=a.color,t.opacity=a.opacity,a.dashArray?t.dashStyle=v(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=a.lineCap.replace("butt","flat"),t.joinstyle=a.lineJoin):t&&(i.removeChild(t),e._stroke=null),a.fill?(n||(n=e._fill=Ka("fill")),i.appendChild(n),n.color=a.fillColor||a.color,n.opacity=a.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),a=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+a+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Ga=Me.vml?Ka:Q,Ja=Ha.extend({_initContainer:function(){this._container=Ga("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ga("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ha.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ct(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ga("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[r(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),a="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+a+2*n+",0 "+a+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Qa(e){return Me.svg||Me.vml?new Ja(e):null}Me.vml&&Ja.include(Va),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Wa(e)||Qa(e)}});var Ya=ua.extend({initialize:function(e,t){ua.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xa(e,t){return new Ya(e,t)}Ja.create=Ga,Ja.pointsToPath=Y,ha.geometryToLayer=pa,ha.coordsToLatLng=ma,ha.coordsToLatLngs=ga,ha.latLngToCoords=va,ha.latLngsToCoords=ya,ha.getFeature=_a,ha.asFeature=xa,nn.mergeOptions({boxZoom:!0});var $a=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),at(),Et(),this._startPoint=this._map.mouseEventToContainerPoint(e),It(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();Ct(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),xt(this._container,"leaflet-crosshair")),it(),At(),Bt(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$a),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),a=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-a:n+a;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,a=this._draggable._newPos.x,i=(a-t+n)%e+t-n,s=(a+t+n)%e-t-n,r=Math.abs(i+n)<Math.abs(s+n)?i:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(e){var t=this._map,n=t.options,a=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),a)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=n.easeLinearity,o=i.multiplyBy(r/s),l=o.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=o.multiplyBy(c/l),d=c/(n.inertiaDeceleration*r),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),N(function(){t.panBy(h,{duration:d,easeLinearity:r,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),It(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,a=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(a,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,a=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)a[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)a[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)a[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)a[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,a=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)a[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)a[i.zoomOut[t]]=-e},_addHooks:function(){It(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,a=this._map;if(n in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=z(t).multiplyBy(3)),a.options.maxBounds&&(t=a._limitOffset(z(t),a.options.maxBounds)),a.options.worldCopyJump){var i=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(t)));a.panTo(i)}else a.panBy(t)}else if(n in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!a._popup||!a._popup.options.closeOnEscapeKey)return;a.closePopup()}Gt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ai=gn.extend({addHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var a=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),a),Gt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var a=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,s=n?Math.ceil(i/n)*n:i,r=e._limitZoom(t+(this._delta>0?s:-s))-t;this._delta=0,this._startTime=null,r&&("center"===e.options.scrollWheelZoom?e.setZoom(t+r):e.setZoomAround(this._lastMousePos,t+r))}});nn.addInitHook("addHandler","scrollWheelZoom",ai);var ii=600;nn.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var si=gn.extend({addHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new O(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(It(document,"touchend",Vt),It(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ii),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Bt(document,"touchend",Vt),Bt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new O(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",si),nn.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var ri=gn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),a=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(a)._divideBy(2))),this._startDist=n.distanceTo(a),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),Vt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),a=t.mouseEventToContainerPoint(e.touches[1]),s=n.distanceTo(a)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(a)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var o=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(o,this,!0),Vt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ri),nn.BoxZoom=$a,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ai,nn.TapHold=si,nn.TouchZoom=ri,e.Bounds=M,e.Browser=Me,e.CRS=Z,e.Canvas=qa,e.Circle=ra,e.CircleMarker=ia,e.Class=P,e.Control=sn,e.DivIcon=za,e.DivOverlay=Ea,e.DomEvent=en,e.DomUtil=Mt,e.Draggable=_n,e.Evented=A,e.FeatureGroup=Jn,e.GeoJSON=ha,e.GridLayer=Ia,e.Handler=gn,e.Icon=Yn,e.ImageOverlay=wa,e.LatLng=F,e.LatLngBounds=D,e.Layer=Kn,e.LayerGroup=Vn,e.LineUtil=Bn,e.Map=nn,e.Marker=ta,e.Mixin=vn,e.Path=aa,e.Point=O,e.PolyUtil=wn,e.Polygon=ua,e.Polyline=la,e.Popup=Aa,e.PosAnimation=tn,e.Projection=Zn,e.Rectangle=Ya,e.Renderer=Ha,e.SVG=Ja,e.SVGOverlay=Pa,e.TileLayer=Ba,e.Tooltip=Oa,e.Transformation=K,e.Util=C,e.VideoOverlay=Sa,e.bind=i,e.bounds=I,e.canvas=Wa,e.circle=oa,e.circleMarker=sa,e.control=rn,e.divIcon=Ma,e.extend=n,e.featureGroup=Qn,e.geoJSON=ka,e.geoJson=ja,e.gridLayer=Da,e.icon=Xn,e.imageOverlay=Na,e.latLng=U,e.latLngBounds=B,e.layerGroup=Gn,e.map=an,e.marker=na,e.point=z,e.polygon=da,e.polyline=ca,e.popup=La,e.rectangle=Xa,e.setOptions=p,e.stamp=r,e.svg=Qa,e.svgOverlay=Ta,e.tileLayer=Fa,e.tooltip=Ra,e.transformation=V,e.version=t,e.videoOverlay=Ca;var oi=window.L;e.noConflict=function(){return window.L=oi,this},window.L=e}(t)},249:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=_.prototype=new y;x.constructor=_,m(x,v.prototype),x.isPureReactComponent=!0;var b=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function w(e,t,a,i,s,r){return a=r.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function T(e,t,i,s,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case h:return T((u=e._init)(e._payload),t,i,s,r)}}if(u)return r=r(e),u=""===s?"."+C(e,0):s,b(r)?(i="",null!=u&&(i=u.replace(S,"$&/")+"/"),T(r,t,i,"",function(e){return e})):null!=r&&(N(r)&&(l=r,c=i+(null==r.key||e&&e.key===r.key?"":(""+r.key).replace(S,"$&/")+"/")+u,r=w(l.type,c,void 0,0,0,l.props)),t.push(r)),1;u=0;var d,f=""===s?".":s+":";if(b(e))for(var m=0;m<e.length;m++)u+=T(s=e[m],t,i,o=f+C(s,m),r);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,o=f+C(s,m++),r);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function E(e,t,n){if(null==e)return e;var a=[],i=0;return T(e,a,"","",function(e){return t.call(n,e,i++)}),a}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=r,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!j.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(a[s]=t[s]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];a.children=r}return w(e.type,i,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var a,i={},s=null;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)j.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(i[a]=t[a]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===i[a]&&(i[a]=r[a]);return w(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var a=e(),i=k.S;null!==i&&i(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(O,L)}catch(s){L(s)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var a=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var a=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=r.p;try{if(l.T=null,r.p=2,e)return e()}finally{l.T=t,r.p=n,r.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&r.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);r.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},t.requestFormReset=function(e){r.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(e,t,a){var i=null;if(void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in a={},t)"key"!==s&&(a[s]=t[s]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,i=e[a];if(!(0<s(i,t)))break e;e[a]=t,e[n]=i,n=a}}function a(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,i=e.length,r=i>>>1;a<r;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<i&&0>s(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function k(e){if(g=!1,b(e),!m)if(null!==a(c))m=!0,w||(w=!0,j());else{var t=a(u);null!==t&&L(k,t.startTime-e)}}var j,w=!1,N=-1,S=5,C=-1;function P(){return!!v||!(t.unstable_now()-C<S)}function T(){if(v=!1,w){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(N),N=-1),f=!0;var s=p;try{t:{for(b(e),h=a(c);null!==h&&!(h.expirationTime>e&&P());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var o=r(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,b(e),n=!0;break t}h===a(c)&&i(c),b(e)}else i(c);h=a(c)}if(null!==h)n=!0;else{var l=a(u);null!==l&&L(k,l.startTime-e),n=!1}}break e}finally{h=null,p=s,f=!1}n=void 0}}finally{n?j():w=!1}}}if("function"===typeof x)j=function(){x(T)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,A=E.port2;E.port1.onmessage=T,j=function(){A.postMessage(null)}}else j=function(){y(T,0)};function L(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(e.sortIndex=s,n(u,e),null===a(c)&&e===a(u)&&(g?(_(N),N=-1):g=!0,L(k,s-r))):(e.sortIndex=o,n(c,e),m||f||(m=!0,w||(w=!0,j()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>r[e]=()=>a[e]);return r.default=()=>a,n.d(s,r),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".670e15c7.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(a,i,s,r)=>{if(e[a])e[a].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=a),e[a]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var s=new Promise((n,a)=>i=e[t]=[n,a]);a.push(i[2]=s);var r=n.p+n.u(t),o=new Error;n.l(r,a=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,i[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var i,s,r=a[0],o=a[1],l=a[2],c=0;if(r.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(a);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkfrontend=self.webpackChunkfrontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Bt,hasStandardBrowserEnv:()=>Ut,hasStandardBrowserWebWorkerEnv:()=>Zt,navigator:()=>Ft,origin:()=>Ht});var t={};n.r(t),n.d(t,{Decoder:()=>Ni,Encoder:()=>ji,PacketType:()=>ki,protocol:()=>bi});var a,i=n(43),s=n.t(i,2),r=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,a){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=a.Pop,h=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=a.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:x.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let x={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),h=e,()=>{s.removeEventListener(u,y),h=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let i=f(x.location,e,t);n&&n(i,e),g=v()+1;let c=p(i,g),u=x.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}r&&h&&h({action:l,location:x.location,delta:1})},replace:function(e,t){l=a.Replace;let i=f(x.location,e,t);n&&n(i,e),g=v();let s=p(i,g),c=x.createHref(i);o.replaceState(s,"",c),r&&h&&h({action:l,location:x.location,delta:0})},go:e=>o.go(e)};return x}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,a){let i=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let r=null;for(let o=0;null==r&&o<s.length;++o){let e=O(i);r=A(s[o],e,a)}return r}function b(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let i=(e,i,s)=>{let r={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};r.relativePath.startsWith("/")&&(d(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let o=B([a,r.relativePath]),l=n.concat(r);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of k(e.path))i(e,t,a);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return i?[s,""]:[s];let r=k(a.join("/")),o=[];return o.push(...r.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...r),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,w=3,N=2,S=1,C=10,P=-2,T=e=>"*"===e;function E(e,t){let n=e.split("/"),a=n.length;return n.some(T)&&(a+=P),t&&(a+=N),n.filter(e=>!T(e)).reduce((e,t)=>e+(j.test(t)?w:""===t?S:C),a)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,i={},s="/",r=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!a[a.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),r.push({params:i,pathname:B([s,u.pathname]),pathnameBase:F(B([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=B([s,u.pathnameBase]))}return r}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],r=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=a.reduce((e,t,n)=>{let{paramName:a,isOptional:i}=t;if("*"===a){let e=o[n]||"";r=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:r,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function z(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,a){let i;void 0===a&&(a=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),z("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),z("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),z("#","search","hash",i)));let s,r=""===e||""===i.pathname,o=r?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(a),hash:Z(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),h=(r||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(this,arguments)}const V=i.createContext(null);const G=i.createContext(null);const J=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function $(){return null!=i.useContext(Q)}function ee(){return $()||d(!1),i.useContext(Q).location}function te(e){i.useContext(J).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(de.UseNavigateStable),n=i.useRef(!1);return te(()=>{n.current=!0}),i.useCallback(function(a,i){void 0===i&&(i={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,K({fromRouteId:t},i)))},[e,t])}():function(){$()||d(!1);let e=i.useContext(V),{basename:t,future:n,navigator:a}=i.useContext(J),{matches:s}=i.useContext(Y),{pathname:r}=ee(),o=JSON.stringify(I(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void a.go(n);let s=D(n,JSON.parse(o),r,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(i.replace?a.replace:a.push)(s,i.state,i)},[t,a,o,r,e])}()}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=i.useContext(J),{matches:s}=i.useContext(Y),{pathname:r}=ee(),o=JSON.stringify(I(s,a.v7_relativeSplatPath));return i.useMemo(()=>D(e,JSON.parse(o),r,"path"===n),[e,o,r,n])}function ie(e,t,n,s){$()||d(!1);let{navigator:r}=i.useContext(J),{matches:o}=i.useContext(Y),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=ee();if(t){var f;let e="string"===typeof t?g(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),h=e}else h=p;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=_(e,{pathname:v});let x=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&x?i.createElement(Q.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},x):x}function se(){let e=function(){var e;let t=i.useContext(X),n=pe(de.UseRouteError),a=fe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const re=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:a}=e,s=i.useContext(V);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},a)}function ce(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var r;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(r=a)&&r.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:a}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let r,d=!1,h=null,p=null;var f;n&&(r=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||re,c&&(u<0&&0===s?(f="route-fallback",!1||me[f]||(me[f]=!0),d=!0,p=null):u===s&&(d=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=r?h:d?p:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:e,i.createElement(le,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:r,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(V);return t||d(!1),t}function pe(e){let t=i.useContext(G);return t||d(!1),t}function fe(e){let t=function(){let e=i.useContext(Y);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ve(e){let{to:t,replace:n,state:a,relative:s}=e;$()||d(!1);let{future:r,static:o}=i.useContext(J),{matches:l}=i.useContext(Y),{pathname:c}=ee(),u=ne(),h=D(t,I(l,r.v7_relativeSplatPath),c,"path"===s),p=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(p),{replace:n,state:a,relative:s}),[u,p,s,n,a]),null}function ye(e){d(!1)}function _e(e){let{basename:t="/",children:n=null,location:s,navigationType:r=a.Pop,navigator:o,static:l=!1,future:c}=e;$()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:p="/",search:f="",hash:m="",state:v=null,key:y="default"}=s,_=i.useMemo(()=>{let e=R(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:v,key:y},navigationType:r}},[u,p,f,m,v,y,r]);return null==_?null:i.createElement(J.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:_}))}function xe(e){let{children:t,location:n}=e;return ie(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,a)=>{if(!i.isValidElement(e))return;let s=[...t,a];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=be(e.props.children,s)),n.push(r)}),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ke.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function we(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(e=>[n,e]):[[n,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Xs){}new Map;const Se=s.startTransition;l.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:a,window:s}=e,r=i.useRef();var o;null==r.current&&(r.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:a,hash:i}=e.location;return f("",{pathname:n,search:a,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=r.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},h=i.useCallback(e=>{d&&Se?Se(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>ge(a),[a]),i.createElement(_e,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=i.forwardRef(function(e,t){let n,{onClick:a,relative:s,reloadDocument:r,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=je(e,Ne),{basename:g}=i.useContext(J),v=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Xs){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$()||d(!1);let{basename:a,navigator:s}=i.useContext(J),{hash:r,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==a&&(c="/"===o?a:B([a,o])),s.createHref({pathname:c,search:l,hash:r})}(u,{relative:s}),_=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:r,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ae(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[u,c,d,a,s,n,e,r,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:p});return i.createElement("a",ke({},f,{href:n||y,onClick:v||r?a:function(e){a&&a(e),e.defaultPrevented||_(e)},ref:t,target:c}))});var Ae,Le;function Oe(e){let t=i.useRef(we(e)),n=i.useRef(!1),a=ee(),s=i.useMemo(()=>function(e,t){let n=we(e);return t&&t.forEach((e,a)=>{n.has(a)||t.getAll(a).forEach(e=>{n.append(a,e)})}),n}(a.search,n.current?null:t.current),[a.search]),r=ne(),o=i.useCallback((e,t)=>{const a=we("function"===typeof e?e(s):e);n.current=!0,r("?"+a,t)},[r,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));function Re(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Me}=Object,{iterator:Ie,toStringTag:De}=Symbol,Be=(e=>t=>{const n=ze.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fe=e=>(e=e.toLowerCase(),t=>Be(t)===e),Ue=e=>t=>typeof t===e,{isArray:Ze}=Array,He=Ue("undefined");function qe(e){return null!==e&&!He(e)&&null!==e.constructor&&!He(e.constructor)&&Ve(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const We=Fe("ArrayBuffer");const Ke=Ue("string"),Ve=Ue("function"),Ge=Ue("number"),Je=e=>null!==e&&"object"===typeof e,Qe=e=>{if("object"!==Be(e))return!1;const t=Me(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(De in e)&&!(Ie in e)},Ye=Fe("Date"),Xe=Fe("File"),$e=Fe("Blob"),et=Fe("FileList"),tt=Fe("URLSearchParams"),[nt,at,it,st]=["ReadableStream","Request","Response","Headers"].map(Fe);function rt(e,t){let n,a,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ze(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(qe(e))return;const a=i?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let r;for(n=0;n<s;n++)r=a[n],t.call(null,e[r],r,e)}}function ot(e,t){if(qe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,i=n.length;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const lt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ct=e=>!He(e)&&e!==lt;const ut=(dt="undefined"!==typeof Uint8Array&&Me(Uint8Array),e=>dt&&e instanceof dt);var dt;const ht=Fe("HTMLFormElement"),pt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ft=Fe("RegExp"),mt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};rt(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(a[i]=s||n)}),Object.defineProperties(e,a)};const gt=Fe("AsyncFunction"),vt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],lt.addEventListener("message",e=>{let{source:t,data:i}=e;t===lt&&i===n&&a.length&&a.shift()()},!1),e=>{a.push(e),lt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ve(lt.postMessage)),yt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(lt):"undefined"!==typeof process&&process.nextTick||vt,_t={isArray:Ze,isArrayBuffer:We,isBuffer:qe,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ve(e.append)&&("formdata"===(t=Be(e))||"object"===t&&Ve(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&We(e.buffer),t},isString:Ke,isNumber:Ge,isBoolean:e=>!0===e||!1===e,isObject:Je,isPlainObject:Qe,isEmptyObject:e=>{if(!Je(e)||qe(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Xs){return!1}},isReadableStream:nt,isRequest:at,isResponse:it,isHeaders:st,isUndefined:He,isDate:Ye,isFile:Xe,isBlob:$e,isRegExp:ft,isFunction:Ve,isStream:e=>Je(e)&&Ve(e.pipe),isURLSearchParams:tt,isTypedArray:ut,isFileList:et,forEach:rt,merge:function e(){const{caseless:t}=ct(this)&&this||{},n={},a=(a,i)=>{const s=t&&ot(n,i)||i;Qe(n[s])&&Qe(a)?n[s]=e(n[s],a):Qe(a)?n[s]=e({},a):Ze(a)?n[s]=a.slice():n[s]=a};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&rt(arguments[i],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rt(t,(t,a)=>{n&&Ve(t)?e[a]=Re(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let i,s,r;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)r=i[s],a&&!a(r,e,t)||o[r]||(t[r]=e[r],o[r]=!0);e=!1!==n&&Me(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Be,kindOfTest:Fe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Ze(e))return e;let t=e.length;if(!Ge(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ie]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:ht,hasOwnProperty:pt,hasOwnProp:pt,reduceDescriptors:mt,freezeMethods:e=>{mt(e,(t,n)=>{if(Ve(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ve(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Ze(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ot,global:lt,isContextDefined:ct,isSpecCompliantForm:function(e){return!!(e&&Ve(e.append)&&"FormData"===e[De]&&e[Ie])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Je(e)){if(t.indexOf(e)>=0)return;if(qe(e))return e;if(!("toJSON"in e)){t[a]=e;const i=Ze(e)?[]:{};return rt(e,(e,t)=>{const s=n(e,a+1);!He(s)&&(i[t]=s)}),t[a]=void 0,i}}return e};return n(e,0)},isAsyncFn:gt,isThenable:e=>e&&(Je(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),setImmediate:vt,asap:yt,isIterable:e=>null!=e&&Ve(e[Ie])};function xt(e,t,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}_t.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const bt=xt.prototype,kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kt[e]={value:e}}),Object.defineProperties(xt,kt),Object.defineProperty(bt,"isAxiosError",{value:!0}),xt.from=(e,t,n,a,i,s)=>{const r=Object.create(bt);return _t.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),xt.call(r,e.message,t,n,a,i),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};const jt=xt;function wt(e){return _t.isPlainObject(e)||_t.isArray(e)}function Nt(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function St(e,t,n){return e?e.concat(t).map(function(e,t){return e=Nt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ct=_t.toFlatObject(_t,{},null,function(e){return/^is[A-Z]/.test(e)});const Pt=function(e,t,n){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=_t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_t.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,r=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(_t.isDate(e))return e.toISOString();if(_t.isBoolean(e))return e.toString();if(!o&&_t.isBlob(e))throw new jt("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(e)||_t.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(_t.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(_t.isArray(e)&&function(e){return _t.isArray(e)&&!e.some(wt)}(e)||(_t.isFileList(e)||_t.endsWith(n,"[]"))&&(o=_t.toArray(e)))return n=Nt(n),o.forEach(function(e,a){!_t.isUndefined(e)&&null!==e&&t.append(!0===r?St([n],a,s):null===r?n:n+"[]",l(e))}),!1;return!!wt(e)||(t.append(St(i,n,s),l(e)),!1)}const u=[],d=Object.assign(Ct,{defaultVisitor:c,convertValue:l,isVisitable:wt});if(!_t.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!_t.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+a.join("."));u.push(n),_t.forEach(n,function(n,s){!0===(!(_t.isUndefined(n)||null===n)&&i.call(t,n,_t.isString(s)?s.trim():s,a,d))&&e(n,a?a.concat(s):[s])}),u.pop()}}(e),t};function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Et(e,t){this._pairs=[],e&&Pt(e,this,t)}const At=Et.prototype;At.append=function(e,t){this._pairs.push([e,t])},At.toString=function(e){const t=e?function(t){return e.call(this,t,Tt)}:Tt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Lt=Et;function Ot(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rt(e,t,n){if(!t)return e;const a=n&&n.encode||Ot;_t.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):_t.isURLSearchParams(t)?t.toString():new Lt(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const zt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_t.forEach(this.handlers,function(t){null!==t&&e(t)})}},Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var It=n(555);const Dt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Lt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Bt="undefined"!==typeof window&&"undefined"!==typeof document,Ft="object"===typeof navigator&&navigator||void 0,Ut=Bt&&(!Ft||["ReactNative","NativeScript","NS"].indexOf(Ft.product)<0),Zt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ht=Bt&&window.location.href||"http://localhost",qt=(0,It.A)((0,It.A)({},e),Dt);const Wt=function(e){function t(e,n,a,i){let s=e[i++];if("__proto__"===s)return!0;const r=Number.isFinite(+s),o=i>=e.length;if(s=!s&&_t.isArray(a)?a.length:s,o)return _t.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!r;a[s]&&_t.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],i)&&_t.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const i=n.length;let s;for(a=0;a<i;a++)s=n[a],t[s]=e[s];return t}(a[s])),!r}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const n={};return _t.forEachEntry(e,(e,a)=>{t(function(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Kt={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=_t.isObject(e);i&&_t.isHTMLForm(e)&&(e=new FormData(e));if(_t.isFormData(e))return a?JSON.stringify(Wt(e)):e;if(_t.isArrayBuffer(e)||_t.isBuffer(e)||_t.isStream(e)||_t.isFile(e)||_t.isBlob(e)||_t.isReadableStream(e))return e;if(_t.isArrayBufferView(e))return e.buffer;if(_t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Pt(e,new qt.classes.URLSearchParams,(0,It.A)({visitor:function(e,t,n,a){return qt.isNode&&_t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=_t.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Pt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),function(e,t,n){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(Xs){if("SyntaxError"!==Xs.name)throw Xs}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Kt.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(_t.isResponse(e)||_t.isReadableStream(e))return e;if(e&&_t.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(Xs){if(n){if("SyntaxError"===Xs.name)throw jt.from(Xs,jt.ERR_BAD_RESPONSE,this,null,this.response);throw Xs}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{Kt.headers[e]={}});const Vt=Kt,Gt=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jt=Symbol("internals");function Qt(e){return e&&String(e).trim().toLowerCase()}function Yt(e){return!1===e||null==e?e:_t.isArray(e)?e.map(Yt):String(e)}function Xt(e,t,n,a,i){return _t.isFunction(a)?a.call(this,t,n):(i&&(t=n),_t.isString(t)?_t.isString(a)?-1!==t.indexOf(a):_t.isRegExp(a)?a.test(t):void 0:void 0)}class $t{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function i(e,t,n){const i=Qt(t);if(!i)throw new Error("header name must be a non-empty string");const s=_t.findKey(a,i);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=Yt(e))}const s=(e,t)=>_t.forEach(e,(e,n)=>i(e,n,t));if(_t.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(_t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),a=e.substring(i+1).trim(),!n||t[n]&&Gt[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(_t.isObject(e)&&_t.isIterable(e)){let n,a,i={};for(const t of e){if(!_t.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[a=t[0]]=(n=i[a])?_t.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=Qt(e)){const n=_t.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(_t.isFunction(t))return t.call(this,e,n);if(_t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qt(e)){const n=_t.findKey(this,e);return!(!n||void 0===this[n]||t&&!Xt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function i(e){if(e=Qt(e)){const i=_t.findKey(n,e);!i||t&&!Xt(0,n[i],i,t)||(delete n[i],a=!0)}}return _t.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const i=t[n];e&&!Xt(0,this[i],i,e,!0)||(delete this[i],a=!0)}return a}normalize(e){const t=this,n={};return _t.forEach(this,(a,i)=>{const s=_t.findKey(n,i);if(s)return t[s]=Yt(a),void delete t[i];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();r!==i&&delete t[i],t[r]=Yt(a),n[r]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _t.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&_t.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Jt]=this[Jt]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Qt(e);t[a]||(!function(e,t){const n=_t.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,i){return this[a].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[a]=!0)}return _t.isArray(e)?e.forEach(a):a(e),this}}$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_t.reduceDescriptors($t.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),_t.freezeMethods($t);const en=$t;function tn(e,t){const n=this||Vt,a=t||n,i=en.from(a.headers);let s=a.data;return _t.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function nn(e){return!(!e||!e.__CANCEL__)}function an(e,t,n){jt.call(this,null==e?"canceled":e,jt.ERR_CANCELED,t,n),this.name="CanceledError"}_t.inherits(an,jt,{__CANCEL__:!0});const sn=an;function rn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const on=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let i,s=0,r=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[r];i||(i=l),n[s]=o,a[s]=l;let u=r,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const ln=function(e,t){let n,a,i=0,s=1e3/t;const r=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?r(l,e):(n=l,a||(a=setTimeout(()=>{a=null,r(n)},s-t)))},()=>n&&r(n)]},cn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const i=on(50,250);return ln(n=>{const s=n.loaded,r=n.lengthComputable?n.total:void 0,o=s-a,l=i(o);a=s;e({loaded:s,total:r,progress:r?s/r:void 0,bytes:o,rate:l||void 0,estimated:l&&r&&s<=r?(r-s)/l:void 0,event:n,lengthComputable:null!=r,[t?"download":"upload"]:!0})},n)},un=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},dn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _t.asap(()=>e(...n))},hn=qt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,pn=qt.hasStandardBrowserEnv?{write(e,t,n,a,i,s){const r=[e+"="+encodeURIComponent(t)];_t.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),_t.isString(a)&&r.push("path="+a),_t.isString(i)&&r.push("domain="+i),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function fn(e,t,n){let a=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const mn=e=>e instanceof en?(0,It.A)({},e):e;function gn(e,t){t=t||{};const n={};function a(e,t,n,a){return _t.isPlainObject(e)&&_t.isPlainObject(t)?_t.merge.call({caseless:a},e,t):_t.isPlainObject(t)?_t.merge({},t):_t.isArray(t)?t.slice():t}function i(e,t,n,i){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:a(void 0,e,0,i):a(e,t,0,i)}function s(e,t){if(!_t.isUndefined(t))return a(void 0,t)}function r(e,t){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,i,s){return s in t?a(n,i):s in e?a(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t,n)=>i(mn(e),mn(t),0,!0)};return _t.forEach(Object.keys((0,It.A)((0,It.A)({},e),t)),function(a){const s=l[a]||i,r=s(e[a],t[a],a);_t.isUndefined(r)&&s!==o||(n[a]=r)}),n}const vn=e=>{const t=gn({},e);let n,{data:a,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=en.from(o),t.url=Rt(fn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_t.isFormData(a))if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(qt.hasStandardBrowserEnv&&(i&&_t.isFunction(i)&&(i=i(t)),i||!1!==i&&hn(t.url))){const e=s&&r&&pn.read(r);e&&o.set(s,e)}return t},yn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=vn(e);let i=a.data;const s=en.from(a.headers).normalize();let r,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=a;function f(){c&&c(),u&&u(),a.cancelToken&&a.cancelToken.unsubscribe(r),a.signal&&a.signal.removeEventListener("abort",r)}let m=new XMLHttpRequest;function g(){if(!m)return;const a=en.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());rn(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:a,config:e,request:m}),m=null}m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new jt("Request aborted",jt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new jt("Network Error",jt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const i=a.transitional||Mt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new jt(t,i.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&_t.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),_t.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),d&&"json"!==d&&(m.responseType=a.responseType),p&&([l,u]=cn(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=cn(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(r=t=>{m&&(n(!t||t.type?new sn(null,e,m):t),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(r),a.signal&&(a.signal.aborted?r():a.signal.addEventListener("abort",r)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===qt.protocols.indexOf(v)?n(new jt("Unsupported protocol "+v+":",jt.ERR_BAD_REQUEST,e)):m.send(i||null)})},_n=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const i=function(e){if(!n){n=!0,r();const t=e instanceof Error?e:this.reason;a.abort(t instanceof jt?t:new sn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new jt("timeout ".concat(t," of ms exceeded"),jt.ETIMEDOUT))},t);const r=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=a;return o.unsubscribe=()=>_t.asap(r),o}};function xn(e,t){this.v=e,this.k=t}function bn(e){return function(){return new kn(e.apply(this,arguments))}}function kn(e){var t,n;function a(t,n){try{var s=e[t](n),r=s.value,o=r instanceof xn;Promise.resolve(o?r.v:r).then(function(n){if(o){var l="return"===t?"return":"next";if(!r.k||n.done)return a(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(s,r){var o={key:e,arg:i,resolve:s,reject:r,next:null};n?n=n.next=o:(t=n=o,a(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function jn(e){return new xn(e,0)}function wn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new xn(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Nn(e){var t,n,a,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Sn(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Sn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Sn=function(e){this.s=e,this.n=e.next},Sn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Sn(e)}kn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},kn.prototype.next=function(e){return this._invoke("next",e)},kn.prototype.throw=function(e){return this._invoke("throw",e)},kn.prototype.return=function(e){return this._invoke("return",e)};const Cn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,i=0;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},Pn=function(){var e=bn(function*(e,t){var n,a=!1,i=!1;try{for(var s,r=Nn(Tn(e));a=!(s=yield jn(r.next())).done;a=!1){const e=s.value;yield*wn(Nn(Cn(e,t)))}}catch(o){i=!0,n=o}finally{try{a&&null!=r.return&&(yield jn(r.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=bn(function*(e){if(e[Symbol.asyncIterator])return void(yield*wn(Nn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield jn(t.read());if(e)break;yield n}}finally{yield jn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),En=(e,t,n,a)=>{const i=Pn(e,t);let s,r=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await i.next();if(t)return o(),void e.close();let s=a.byteLength;if(n){let e=r+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},An="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ln=An&&"function"===typeof ReadableStream,On=An&&("function"===typeof TextEncoder?(Rn=new TextEncoder,e=>Rn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Rn;const zn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Xs){return!1}},Mn=Ln&&zn(()=>{let e=!1;const t=new Request(qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),In=Ln&&zn(()=>_t.isReadableStream(new Response("").body)),Dn={stream:In&&(e=>e.body)};var Bn;An&&(Bn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dn[e]&&(Dn[e]=_t.isFunction(Bn[e])?t=>t[e]():(t,n)=>{throw new jt("Response type '".concat(e,"' is not supported"),jt.ERR_NOT_SUPPORT,n)})}));const Fn=async(e,t)=>{const n=_t.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e)){const t=new Request(qt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _t.isArrayBufferView(e)||_t.isArrayBuffer(e)?e.byteLength:(_t.isURLSearchParams(e)&&(e+=""),_t.isString(e)?(await On(e)).byteLength:void 0)})(t):n},Un=An&&(async e=>{let{url:t,method:n,data:a,signal:i,cancelToken:s,timeout:r,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=vn(e);c=c?(c+"").toLowerCase():"text";let p,f=_n([i,s&&s.toAbortSignal()],r);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Mn&&"get"!==n&&"head"!==n&&0!==(g=await Fn(u,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(_t.isFormData(a)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=un(g,cn(dn(l)));a=En(n.body,65536,e,t)}}_t.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,(0,It.A)((0,It.A)({},h),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:i?d:void 0}));let s=await fetch(p,h);const r=In&&("stream"===c||"response"===c);if(In&&(o||r&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=_t.toFiniteNumber(s.headers.get("content-length")),[n,a]=o&&un(t,cn(dn(o),!0))||[];s=new Response(En(s.body,65536,n,()=>{a&&a(),m&&m()}),e)}c=c||"text";let v=await Dn[_t.findKey(Dn,c)||"text"](s,e);return!r&&m&&m(),await new Promise((t,n)=>{rn(t,n,{data:v,headers:en.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new jt("Network Error",jt.ERR_NETWORK,e,p),{cause:v.cause||v});throw jt.from(v,v&&v.code,e,p)}}),Zn={http:null,xhr:yn,fetch:Un};_t.forEach(Zn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Xs){}Object.defineProperty(e,"adapterName",{value:t})}});const Hn=e=>"- ".concat(e),qn=e=>_t.isFunction(e)||null===e||!1===e,Wn=e=>{e=_t.isArray(e)?e:[e];const{length:t}=e;let n,a;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],a=n,!qn(n)&&(a=Zn[(t=String(n)).toLowerCase()],void 0===a))throw new jt("Unknown adapter '".concat(t,"'"));if(a)break;i[t||"#"+s]=a}if(!a){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Hn).join("\n"):" "+Hn(e[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function Kn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sn(null,e)}function Vn(e){Kn(e),e.headers=en.from(e.headers),e.data=tn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Wn(e.adapter||Vt.adapter)(e).then(function(t){return Kn(e),t.data=tn.call(e,e.transformResponse,t),t.headers=en.from(t.headers),t},function(t){return nn(t)||(Kn(e),t&&t.response&&(t.response.data=tn.call(e,e.transformResponse,t.response),t.response.headers=en.from(t.response.headers))),Promise.reject(t)})}const Gn="1.11.0",Jn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Qn={};Jn.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Gn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new jt(a(i," has been removed"+(t?" in "+t:"")),jt.ERR_DEPRECATED);return t&&!Qn[i]&&(Qn[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Jn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Yn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],r=t[s];if(r){const t=e[s],n=void 0===t||r(t,s,e);if(!0!==n)throw new jt("option "+s+" must be "+n,jt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new jt("Unknown option "+s,jt.ERR_BAD_OPTION)}},validators:Jn},Xn=Yn.validators;class $n{constructor(e){this.defaults=e||{},this.interceptors={request:new zt,response:new zt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Xs){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=gn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:i}=t;void 0!==n&&Yn.assertOptions(n,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),null!=a&&(_t.isFunction(a)?t.paramsSerializer={serialize:a}:Yn.assertOptions(a,{encode:Xn.function,serialize:Xn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yn.assertOptions(t,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&_t.merge(i.common,i[t.method]);i&&_t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=en.concat(s,i);const r=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Vn.bind(this),void 0];for(e.unshift(...r),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=r.length;let h=t;for(d=0;d<u;){const e=r[d++],t=r[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Vn.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Rt(fn((e=gn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(e){$n.prototype[e]=function(t,n){return this.request(gn(n||{},{method:e,url:t,data:(n||{}).data}))}}),_t.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,i){return this.request(gn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}$n.prototype[e]=t(),$n.prototype[e+"Form"]=t(!0)});const ea=$n;class ta{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,i){n.reason||(n.reason=new sn(e,a,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ta(function(t){e=t}),cancel:e}}}const na=ta;const aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aa).forEach(e=>{let[t,n]=e;aa[n]=t});const ia=aa;const sa=function e(t){const n=new ea(t),a=Re(ea.prototype.request,n);return _t.extend(a,ea.prototype,n,{allOwnKeys:!0}),_t.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(gn(t,n))},a}(Vt);sa.Axios=ea,sa.CanceledError=sn,sa.CancelToken=na,sa.isCancel=nn,sa.VERSION=Gn,sa.toFormData=Pt,sa.AxiosError=jt,sa.Cancel=sa.CanceledError,sa.all=function(e){return Promise.all(e)},sa.spread=function(e){return function(t){return e.apply(null,t)}},sa.isAxiosError=function(e){return _t.isObject(e)&&!0===e.isAxiosError},sa.mergeConfig=gn,sa.AxiosHeaders=en,sa.formToJSON=e=>Wt(_t.isHTMLForm(e)?new FormData(e):e),sa.getAdapter=Wn,sa.HttpStatusCode=ia,sa.default=sa;const ra=sa;var oa=n(579);const la=(0,i.createContext)(),ca=()=>{const e=(0,i.useContext)(la);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ua=e=>{let{children:t}=e;const[n,a]=(0,i.useState)(null),[s,r]=(0,i.useState)(localStorage.getItem("token")),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{a(null),r(null),localStorage.removeItem("token"),console.log("\ud83d\udc4b User logged out")},[]),h=(0,i.useCallback)(async()=>{if(c)return{success:!1};u(!0);try{const e=localStorage.getItem("token");if(!e)return{success:!1};console.log("\ud83d\udd04 Attempting to refresh token...");const t=await ra.post("".concat("http://localhost:3001/api","/auth/refresh"),{token:e});if(t.data.success){const e=t.data.data.token,n=t.data.data.user;return r(e),a(n),localStorage.setItem("token",e),ra.defaults.headers.common.Authorization="Bearer ".concat(e),console.log("\u2705 Token refreshed successfully"),{success:!0,token:e}}return console.log("\u274c Token refresh failed: Invalid response"),{success:!1}}catch(t){var e;return console.error("\u274c Refresh token error:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),{success:!1}}finally{u(!1)}},[c]),p=(0,i.useCallback)(async()=>{const e=localStorage.getItem("token");console.log("\ud83d\udd0d Checking authentication...",{hasToken:!!e});const t=setTimeout(()=>{console.log("\u23f0 Auth check timeout, setting loading to false"),l(!1)},5e3);if(e)try{console.log("\ud83d\udd0d Checking authentication with token...");const t=await ra.get("".concat("http://localhost:3001/api","/auth/profile"),{headers:{Authorization:"Bearer ".concat(e)},timeout:3e3});console.log("\u2705 Profile response:",t.data),t.data.success&&t.data.data?(a(t.data.data),r(e),ra.defaults.headers.common.Authorization="Bearer ".concat(e),console.log("\ud83d\udc64 User authenticated:",t.data.data.nama_lengkap)):(console.log("\u274c Invalid profile response format, logging out..."),d())}catch(s){var n,i;console.error("\u274c Token invalid:",(null===(n=s.response)||void 0===n?void 0:n.data)||s.message),"ECONNREFUSED"===s.code||s.message.includes("Network Error")||"ECONNABORTED"===s.code?(console.log("\u26a0\ufe0f Server not available or timeout, clearing token and allowing login"),d()):401===(null===(i=s.response)||void 0===i?void 0:i.status)?(console.log("\u274c Token expired or invalid, logging out..."),d()):(console.log("\u274c Other error, logging out..."),d())}else console.log("\ud83d\udd0d No token found, user not authenticated");clearTimeout(t),l(!1)},[d]);(0,i.useEffect)(()=>{p()},[p]),(0,i.useEffect)(()=>{const e=ra.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),t=ra.interceptors.response.use(e=>e,async e=>{var t;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!n._retry){n._retry=!0;try{const t=await h();return t.success?(n.headers.Authorization="Bearer ".concat(t.token),ra(n)):(d(),Promise.reject(e))}catch(a){return console.error("Token refresh failed:",a),d(),Promise.reject(e)}}return Promise.reject(e)});return()=>{ra.interceptors.request.eject(e),ra.interceptors.response.eject(t)}},[d,h]);const f=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token");e&&(await ra.post("".concat("http://localhost:3001/api","/auth/force-logout"),{},{headers:{Authorization:"Bearer ".concat(e)}}),console.log("\ud83d\udd04 Force logout successful"))}catch(e){console.error("\u274c Force logout error:",e)}finally{d()}},[d]),m={user:n,token:s,loading:o,isRefreshing:c,login:async(e,t)=>{try{console.log("\ud83d\udd10 Attempting login with:",{emailOrUsername:e}),console.log("\ud83d\udce4 Sending to API:",{emailOrUsername:e,password:t?"***":"empty"}),localStorage.removeItem("token"),r(null),a(null);const i=await ra.post("".concat("http://localhost:3001/api","/auth/login"),{emailOrUsername:e,password:t});if(console.log("\u2705 Login response:",i.data),i.data&&i.data.success){const{user:e,token:t}=i.data.data||i.data;return console.log("\ud83d\udc64 User data:",e),console.log("\ud83d\udd11 Token:",t?"Token received":"No token"),a(e),r(t),localStorage.setItem("token",t),ra.defaults.headers.common.Authorization="Bearer ".concat(t),console.log("\u2705 Login successful, user authenticated"),{success:!0}}var n;return{success:!1,message:(null===(n=i.data)||void 0===n?void 0:n.message)||"Response format tidak valid"}}catch(u){var i,s,o,l,c;return console.error("\u274c Login error:",(null===(i=u.response)||void 0===i?void 0:i.data)||u.message),"ECONNREFUSED"===u.code||u.message.includes("Network Error")?{success:!1,message:"Server tidak tersedia. Pastikan backend berjalan di port 3001."}:401===(null===(s=u.response)||void 0===s?void 0:s.status)?{success:!1,message:"Email atau password salah"}:500===(null===(o=u.response)||void 0===o?void 0:o.status)?{success:!1,message:"Terjadi kesalahan server. Silakan coba lagi."}:{success:!1,message:(null===(l=u.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||"Login gagal. Silakan coba lagi."}}},register:async e=>{try{return{success:!0,data:(await ra.post("".concat("http://localhost:3001/api","/auth/register"),e)).data.data}}catch(a){var t,n;return{success:!1,message:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Registrasi gagal"}}},logout:d,forceLogout:f,refreshToken:h,isAuthenticated:!!n};return(0,oa.jsx)(la.Provider,{value:m,children:t})},da=Object.create(null);da.open="0",da.close="1",da.ping="2",da.pong="3",da.message="4",da.upgrade="5",da.noop="6";const ha=Object.create(null);Object.keys(da).forEach(e=>{ha[da[e]]=e});const pa={type:"error",data:"parser error"},fa="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ma="function"===typeof ArrayBuffer,ga=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,va=(e,t,n)=>{let{type:a,data:i}=e;return fa&&i instanceof Blob?t?n(i):ya(i,n):ma&&(i instanceof ArrayBuffer||ga(i))?t?n(i):ya(new Blob([i]),n):n(da[a]+(i||""))},ya=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function _a(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let xa;const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)ka[ba.charCodeAt(n)]=n;const ja="function"===typeof ArrayBuffer,wa=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Sa(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Na(e.substring(1),t)};return ha[n]?e.length>1?{type:ha[n],data:e.substring(1)}:{type:ha[n]}:pa},Na=(e,t)=>{if(ja){const n=(e=>{let t,n,a,i,s,r=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);const c=new ArrayBuffer(r),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=ka[e.charCodeAt(t)],a=ka[e.charCodeAt(t+1)],i=ka[e.charCodeAt(t+2)],s=ka[e.charCodeAt(t+3)],u[l++]=n<<2|a>>4,u[l++]=(15&a)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return Sa(n,t)}return{base64:!0,data:e}},Sa=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Ca=String.fromCharCode(30);function Pa(){return new TransformStream({transform(e,t){!function(e,t){fa&&e.data instanceof Blob?e.data.arrayBuffer().then(_a).then(t):ma&&(e.data instanceof ArrayBuffer||ga(e.data))?t(_a(e.data)):va(e,!1,e=>{xa||(xa=new TextEncoder),t(xa.encode(e))})}(e,n=>{const a=n.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Ta;function Ea(e){return e.reduce((e,t)=>e+t.length,0)}function Aa(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let a=0;for(let i=0;i<t;i++)n[i]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),n}function La(e){if(e)return function(e){for(var t in La.prototype)e[t]=La.prototype[t];return e}(e)}La.prototype.on=La.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},La.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},La.prototype.off=La.prototype.removeListener=La.prototype.removeAllListeners=La.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<a.length;i++)if((n=a[i])===t||n.fn===t){a.splice(i,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},La.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(n){a=0;for(var i=(n=n.slice(0)).length;a<i;++a)n[a].apply(this,t)}return this},La.prototype.emitReserved=La.prototype.emit,La.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},La.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Oa="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ra="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Ma=Ra.setTimeout,Ia=Ra.clearTimeout;function Da(e,t){t.useNativeTimers?(e.setTimeoutFn=Ma.bind(Ra),e.clearTimeoutFn=Ia.bind(Ra)):(e.setTimeoutFn=Ra.setTimeout.bind(Ra),e.clearTimeoutFn=Ra.clearTimeout.bind(Ra))}function Ba(e){return"string"===typeof e?function(e){let t=0,n=0;for(let a=0,i=e.length;a<i;a++)t=e.charCodeAt(a),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(a++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Fa(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ua extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Za extends La{constructor(e){super(),this.writable=!1,Da(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ua(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=wa(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Ha extends Za{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ca),a=[];for(let i=0;i<n.length;i++){const e=wa(n[i],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,a=new Array(n);let i=0;e.forEach((e,s)=>{va(e,!1,e=>{a[s]=e,++i===n&&t(a.join(Ca))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fa()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let qa=!1;try{qa="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch($s){}const Wa=qa;function Ka(){}class Va extends Ha{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Ga extends La{constructor(e,t,n){super(),this.createRequest=e,Da(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=za(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Xs){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Xs){}try{n.setRequestHeader("Accept","*/*")}catch(Xs){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(Xs){return void this.setTimeoutFn(()=>{this._onError(Xs)},0)}"undefined"!==typeof document&&(this._index=Ga.requestsCount++,Ga.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ka,e)try{this._xhr.abort()}catch(Xs){}"undefined"!==typeof document&&delete Ga.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Ga.requestsCount=0,Ga.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Ja);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ra?"pagehide":"unload",Ja,!1)}function Ja(){for(let e in Ga.requests)Ga.requests.hasOwnProperty(e)&&Ga.requests[e].abort()}const Qa=function(){const e=Ya({xdomain:!1});return e&&null!==e.responseType}();function Ya(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Wa))return new XMLHttpRequest}catch(Xs){}if(!t)try{return new(Ra[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Xs){}}const Xa="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class $a extends Za{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Xa?{}:za(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch($s){return this.emitReserved("error",$s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;va(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(Xs){}a&&Oa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fa()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ei=Ra.WebSocket||Ra.MozWebSocket;const ti={websocket:class extends $a{createSocket(e,t,n){return Xa?new ei(e,t,n):t?new ei(e,t):new ei(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Za{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch($s){return this.emitReserved("error",$s)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Ta||(Ta=new TextDecoder);const n=[];let a=0,i=-1,s=!1;return new TransformStream({transform(r,o){for(n.push(r);;){if(0===a){if(Ea(n)<1)break;const e=Aa(n,1);s=128===(128&e[0]),i=127&e[0],a=i<126?3:126===i?1:2}else if(1===a){if(Ea(n)<2)break;const e=Aa(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(Ea(n)<8)break;const e=Aa(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(pa);break}i=s*Math.pow(2,32)+t.getUint32(4),a=3}else{if(Ea(n)<i)break;const e=Aa(n,i);o.enqueue(wa(s?e:Ta.decode(e),t)),a=0}if(0===i||i>e){o.enqueue(pa);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),a=Pa();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;this._writer.write(n).then(()=>{a&&Oa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Va{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Qa&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Ga(Ya,this.uri(),e)}}},ni=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ai=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ii(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));let i=ni.exec(e||""),s={},r=14;for(;r--;)s[ai[r]]=i[r]||"";return-1!=n&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,a=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,a){t&&(n[t]=a)}),n}(0,s.query),s}const si="function"===typeof addEventListener&&"function"===typeof removeEventListener,ri=[];si&&addEventListener("offline",()=>{ri.forEach(e=>e())},!1);class oi extends La{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=ii(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=ii(t.host).host);Da(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let a=0,i=n.length;a<i;a++){let e=n[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),si&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ri.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&oi.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",oi.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Ba(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Oa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof n&&(a=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(oi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),si&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ri.indexOf(this._offlineEventListener);-1!==e&&ri.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}oi.protocol=4;class li extends oi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;oi.priorWebsocketSuccess=!1;const a=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;oi.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function r(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",r),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",s),t.once("close",r),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class ci extends li{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>ti[e]).filter(e=>!!e)),super(e,t)}}const ui="function"===typeof ArrayBuffer,di=Object.prototype.toString,hi="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===di.call(Blob),pi="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===di.call(File);function fi(e){return ui&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||hi&&e instanceof Blob||pi&&e instanceof File}function mi(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(mi(e[t]))return!0;return!1}if(fi(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return mi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&mi(e[n]))return!0;return!1}function gi(e){const t=[],n=e.data,a=e;return a.data=vi(n,t),a.attachments=t.length,{packet:a,buffers:t}}function vi(e,t){if(!e)return e;if(fi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let a=0;a<e.length;a++)n[a]=vi(e[a],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=vi(e[a],t));return n}return e}function yi(e,t){return e.data=_i(e.data,t),delete e.attachments,e}function _i(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_i(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_i(e[n],t));return e}const xi=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bi=5;var ki;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ki||(ki={}));class ji{constructor(e){this.replacer=e}encode(e){return e.type!==ki.EVENT&&e.type!==ki.ACK||!mi(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ki.EVENT?ki.BINARY_EVENT:ki.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ki.BINARY_EVENT&&e.type!==ki.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=gi(e),n=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(n),a}}function wi(e){return"[object Object]"===Object.prototype.toString.call(e)}class Ni extends La{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ki.BINARY_EVENT;n||t.type===ki.BINARY_ACK?(t.type=n?ki.EVENT:ki.ACK,this.reconstructor=new Si(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!fi(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ki[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ki.BINARY_EVENT||n.type===ki.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(a,t)}else n.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!Ni.isPayloadValid(n.type,a))throw new Error("invalid payload");n.data=a}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Xs){return!1}}static isPayloadValid(e,t){switch(e){case ki.CONNECT:return wi(t);case ki.DISCONNECT:return void 0===t;case ki.CONNECT_ERROR:return"string"===typeof t||wi(t);case ki.EVENT:case ki.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===xi.indexOf(t[0]));case ki.ACK:case ki.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Si{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=yi(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ci(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Pi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ti extends La{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ci(e,"open",this.onopen.bind(this)),Ci(e,"packet",this.onpacket.bind(this)),Ci(e,"error",this.onerror.bind(this)),Ci(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,a;if(Pi.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:ki.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,a=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),r=function(){a.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(a,n)};r.withError=!0,this.acks[e]=r}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise((t,a)=>{const i=(e,n)=>e?a(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];n(null,...s)}return a.pending=!1,t._drainQueue()}),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ki.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ki.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ki.EVENT:case ki.BINARY_EVENT:this.onevent(e);break;case ki.ACK:case ki.BINARY_ACK:this.onack(e);break;case ki.DISCONNECT:this.ondisconnect();break;case ki.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];t.packet({type:ki.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ki.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Ei(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ei.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ei.prototype.reset=function(){this.attempts=0},Ei.prototype.setMin=function(e){this.ms=e},Ei.prototype.setMax=function(e){this.max=e},Ei.prototype.setJitter=function(e){this.jitter=e};class Ai extends La{constructor(e,n){var a;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Da(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(a=n.randomizationFactor)&&void 0!==a?a:.5),this.backoff=new Ei({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ci(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ci(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Ci(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ci(e,"ping",this.onping.bind(this)),Ci(e,"data",this.ondata.bind(this)),Ci(e,"error",this.onerror.bind(this)),Ci(e,"close",this.onclose.bind(this)),Ci(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Xs){this.onclose("parse error",Xs)}}ondecoded(e){Oa(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ti(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Li={};function Oi(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),a=ii(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(n&&n.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=n.source,i=n.id,s=n.path,r=Li[i]&&s in Li[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||r?o=new Ai(a,t):(Li[i]||(Li[i]=new Ai(a,t)),o=Li[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Oi,{Manager:Ai,Socket:Ti,io:Oi,connect:Oi});const Ri=(0,i.createContext)(),zi=()=>{const e=(0,i.useContext)(Ri);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},Mi=e=>{let{children:t}=e;const[a,s]=(0,i.useState)(null),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),{user:u}=ca(),d=(0,i.useCallback)(e=>{o(t=>[e,...t].slice(0,10));const t=localStorage.getItem("notificationSettings"),a=t?JSON.parse(t):{browserNotifications:!0,soundNotifications:!0,toastNotifications:!0,rujukanBaru:!0,statusUpdate:!0,trackingUpdate:!0,systemNotifications:!0,quietHours:!1};if((e=>{switch(e){case"rujukan-baru":return a.rujukanBaru;case"status-update":return a.statusUpdate;case"tracking-update":return a.trackingUpdate;case"system":return a.systemNotifications;default:return!0}})(e.type)){if(a.quietHours&&a.soundNotifications){const e=new Date,t=60*e.getHours()+e.getMinutes(),n=60*parseInt(a.quietHoursStart.split(":")[0])+parseInt(a.quietHoursStart.split(":")[1]),i=60*parseInt(a.quietHoursEnd.split(":")[0])+parseInt(a.quietHoursEnd.split(":")[1]);(t>=n||t<=i)&&(a.soundNotifications=!1)}a.browserNotifications&&"Notification"in window&&"granted"===Notification.permission&&new Notification(e.title,{body:e.message,icon:"/favicon.ico"}),a.toastNotifications&&Promise.resolve().then(n.bind(n,167)).then(t=>{let{showToast:n}=t;n(e)}),a.soundNotifications&&h()}},[]),h=()=>{try{const e=new Audio("/notification-sound.mp3");e.volume=.5,e.play().catch(e=>{console.log("Audio play failed:",e);const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),a=t.createGain();n.connect(a),a.connect(t.destination),n.frequency.value=800,n.type="sine",a.gain.setValueAtTime(.3,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),n.start(t.currentTime),n.stop(t.currentTime+.5)})}catch(e){console.log("Sound notification failed:",e)}};(0,i.useEffect)(()=>{if(!u)return void(a&&(a.disconnect(),s(null),c(!1)));const e=Oi("http://localhost:3001",{auth:{token:localStorage.getItem("token")},transports:["websocket","polling"],timeout:1e4,reconnection:!1,reconnectionAttempts:0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,forceNew:!0});return e.on("connect",()=>{console.log("\u2705 Socket connected:",e.id),c(!0),"admin"===u.role?(e.emit("join-admin"),console.log("\ud83d\udc51 Joined admin room")):"puskesmas"!==u.role&&"rs"!==u.role||!u.faskes_id||(e.emit("join-faskes",u.faskes_id),console.log("\ud83c\udfe5 Joined faskes room:",u.faskes_id))}),e.on("disconnect",e=>{console.log("\u274c Socket disconnected:",e),c(!1)}),e.on("connect_error",e=>{console.warn("\u26a0\ufe0f Socket connection error (backend may not be running):",e.message),c(!1)}),e.on("reconnect",e=>{console.log("\ud83d\udd04 Socket reconnected after",e,"attempts"),c(!0)}),e.on("reconnect_error",e=>{console.error("\u274c Socket reconnection error:",e),c(!1)}),e.on("reconnect_failed",()=>{console.error("\u274c Socket reconnection failed"),c(!1)}),e.on("rujukan-baru",e=>{console.log("Rujukan baru received:",e),d({id:Date.now(),type:"rujukan-baru",title:"Rujukan Baru",message:e.message,data:e.data,timestamp:e.timestamp,read:!1})}),e.on("status-update",e=>{console.log("Status update received:",e),d({id:Date.now(),type:"status-update",title:"Update Status Rujukan",message:e.message,data:e.data,timestamp:e.timestamp,read:!1})}),e.on("tracking-update",e=>{console.log("Tracking update received:",e),d({id:Date.now(),type:"tracking-update",title:"Update Tracking",message:e.message,data:e.data,timestamp:e.timestamp,read:!1})}),s(e),()=>{e.disconnect()}},[u,d]);const p={socket:a,isConnected:l,notifications:r,addNotification:d,markNotificationAsRead:e=>{o(t=>t.map(t=>t.id===e?(0,It.A)((0,It.A)({},t),{},{read:!0}):t))},markAllNotificationsAsRead:()=>{o(e=>e.map(e=>(0,It.A)((0,It.A)({},e),{},{read:!0})))},clearNotifications:()=>{o([])},getUnreadCount:()=>r.filter(e=>!e.read).length};return(0,oa.jsx)(Ri.Provider,{value:p,children:t})},Ii=(0,i.createContext)(),Di=()=>{const e=(0,i.useContext)(Ii);if(!e)throw new Error("useLastPage must be used within a LastPageProvider");return e},Bi=e=>{let{children:t}=e;const[n,a]=(0,i.useState)("/dashboard"),[s,r]=(0,i.useState)(!1),o=ee();(0,i.useEffect)(()=>{const e=o.pathname;["/login","/forgot-password","/reset-password"].includes(e)||(localStorage.setItem("lastPage",e),a(e),console.log("\ud83d\udccd Last page saved:",e))},[o]),(0,i.useEffect)(()=>{const e=localStorage.getItem("lastPage");e&&"/login"!==e&&(a(e),console.log("\ud83d\udccd Last page loaded from storage:",e))},[]);const l={lastPage:n,getLastPage:()=>{const e=localStorage.getItem("lastPage");return e&&"/login"!==e?e:"/dashboard"},setLastPage:a,clearLastPage:()=>{localStorage.removeItem("lastPage"),a("/dashboard")},isRedirecting:s,setRedirecting:e=>{r(e)}};return(0,oa.jsx)(Ii.Provider,{value:l,children:t})};class Fi extends i.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleLogout=()=>{localStorage.removeItem("token"),window.location.href="/login"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("\ud83d\udea8 Error Boundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,oa.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"20px",textAlign:"center",backgroundColor:"#f8f9fa"},children:(0,oa.jsxs)("div",{style:{background:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"100%"},children:[(0,oa.jsx)("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"\ud83d\udea8"}),(0,oa.jsx)("h2",{style:{color:"#dc3545",marginBottom:"16px"},children:"Terjadi Kesalahan"}),(0,oa.jsx)("p",{style:{color:"#666",marginBottom:"24px",lineHeight:"1.6"},children:"Maaf, terjadi kesalahan yang tidak terduga. Silakan coba lagi atau hubungi administrator jika masalah berlanjut."}),(0,oa.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[(0,oa.jsx)("button",{onClick:this.handleRetry,style:{background:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"\ud83d\udd04 Coba Lagi"}),(0,oa.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"\ud83d\udd04 Refresh Halaman"}),(0,oa.jsx)("button",{onClick:this.handleLogout,style:{background:"#dc3545",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"\ud83d\udeaa Logout"})]}),!1]})}):this.props.children}}const Ui=Fi,Zi=()=>{const[e,t]=(0,i.useState)({emailOrUsername:"",password:""}),[n,a]=(0,i.useState)(""),[s,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),{login:c,isAuthenticated:u,loading:d}=ca(),{getLastPage:h,clearLastPage:p}=Di(),f=ne();(0,i.useEffect)(()=>{if(u&&!d){const e=h();console.log("\ud83d\udd04 User already authenticated, redirecting to:",e),f(e)}},[u,d,f,h]);const m=n=>{t((0,It.A)((0,It.A)({},e),{},{[n.target.name]:n.target.value}))};return d?(0,oa.jsx)("div",{className:"login-container",children:(0,oa.jsxs)("div",{className:"login-card",children:[(0,oa.jsx)("div",{className:"loading",children:"Memeriksa autentikasi..."}),(0,oa.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,oa.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.reload()},style:{padding:"8px 16px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Force Logout & Reload"})})]})}):(0,oa.jsx)("div",{className:"login-container",children:(0,oa.jsxs)("div",{className:"login-card",children:[(0,oa.jsxs)("div",{className:"login-header",children:[(0,oa.jsx)("h1",{children:"eSIR 2.0"}),(0,oa.jsx)("p",{children:"Sistem Informasi Rujukan Online"})]}),(0,oa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(""),r(!0);try{console.log("\ud83d\ude80 Submitting login form..."),console.log("\ud83d\udcdd Form data:",e),console.log("\ud83d\udcdd EmailOrUsername:",e.emailOrUsername),console.log("\ud83d\udcdd Password:",e.password?"***":"empty"),localStorage.removeItem("token");const t=await c(e.emailOrUsername,e.password);if(t.success){const e=h();console.log("\u2705 Login successful, redirecting to:",e),f(e),p()}else console.log("\u274c Login failed:",t.message),a(t.message)}catch(n){console.error("\u274c Login error:",n),a("Terjadi kesalahan saat login")}finally{r(!1)}},className:"login-form",children:[n&&(0,oa.jsx)("div",{className:"error-message",children:n}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{htmlFor:"emailOrUsername",children:"Email atau Username"}),(0,oa.jsx)("input",{type:"text",id:"emailOrUsername",name:"emailOrUsername",value:e.emailOrUsername,onChange:m,required:!0,placeholder:"Masukkan email atau username"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{htmlFor:"password",children:"Password"}),(0,oa.jsxs)("div",{className:"password-input-container",children:[(0,oa.jsx)("input",{type:o?"text":"password",id:"password",name:"password",value:e.password,onChange:m,required:!0,placeholder:"Masukkan password"}),(0,oa.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>{l(!o)},children:o?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,oa.jsx)("button",{type:"submit",className:"btn-submit",disabled:s,children:s?"Masuk...":"Masuk"}),(0,oa.jsx)("div",{className:"form-footer",children:(0,oa.jsx)(Ee,{to:"/forgot-password",className:"forgot-password-link",children:"Lupa Password?"})})]})]})})},Hi=()=>{const[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(""),[o,l]=(0,i.useState)("");return(0,oa.jsx)("div",{className:"forgot-password-container",children:(0,oa.jsxs)("div",{className:"forgot-password-card",children:[(0,oa.jsxs)("div",{className:"forgot-password-header",children:[(0,oa.jsx)("h1",{children:"eSIR 2.0"}),(0,oa.jsx)("p",{children:"Lupa Password"})]}),(0,oa.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),a(!0),l(""),r("");try{const n=await ra.post("http://localhost:3001/api/auth/forgot-password",{email:e});n.data.success?(r(n.data.message),t("")):l(n.data.message)}catch(o){var i,s;console.error("Error forgot password:",o),l((null===(i=o.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Terjadi kesalahan saat mengirim email reset password")}finally{a(!1)}},className:"forgot-password-form",children:[o&&(0,oa.jsx)("div",{className:"error-message",children:o}),s&&(0,oa.jsx)("div",{className:"success-message",children:s}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{htmlFor:"email",children:"Email"}),(0,oa.jsx)("input",{type:"email",id:"email",name:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Masukkan email yang terdaftar",disabled:n})]}),(0,oa.jsx)("button",{type:"submit",className:"btn-submit",disabled:n,children:n?"Mengirim...":"Kirim Link Reset Password"}),(0,oa.jsx)("div",{className:"form-footer",children:(0,oa.jsx)(Ee,{to:"/login",className:"back-to-login",children:"\u2190 Kembali ke Login"})})]})]})})},qi=()=>{const[e]=Oe(),t=ne(),[n,a]=(0,i.useState)({newPassword:"",confirmPassword:""}),[s,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),v=e.get("token");(0,i.useEffect)(()=>{if(!v)return u("Token reset password tidak ditemukan"),void l(!1);y()},[v,y]);const y=async()=>{try{const e=await ra.get("http://localhost:3001/api/auth/verify-reset-token/".concat(v));e.data.success?(f(!0),g(e.data.data)):u("Token tidak valid atau sudah kadaluarsa")}catch(c){console.error("Error verifying token:",c),u("Token tidak valid atau sudah kadaluarsa")}finally{l(!1)}},_=e=>{a((0,It.A)((0,It.A)({},n),{},{[e.target.name]:e.target.value}))};return o?(0,oa.jsx)("div",{className:"reset-password-container",children:(0,oa.jsx)("div",{className:"reset-password-card",children:(0,oa.jsx)("div",{className:"loading",children:"Memverifikasi token..."})})}):p?(0,oa.jsx)("div",{className:"reset-password-container",children:(0,oa.jsxs)("div",{className:"reset-password-card",children:[(0,oa.jsxs)("div",{className:"reset-password-header",children:[(0,oa.jsx)("h1",{children:"eSIR 2.0"}),(0,oa.jsx)("p",{children:"Reset Password"})]}),m&&(0,oa.jsx)("div",{className:"user-info",children:(0,oa.jsxs)("p",{children:["Reset password untuk: ",(0,oa.jsx)("strong",{children:m.email})]})}),(0,oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r(!0),u(""),h(""),n.newPassword.length<6)return u("Password minimal 6 karakter"),void r(!1);if(n.newPassword!==n.confirmPassword)return u("Konfirmasi password tidak cocok"),void r(!1);try{const e=await ra.post("http://localhost:3001/api/auth/reset-password",{token:v,newPassword:n.newPassword});e.data.success?(h(e.data.message),setTimeout(()=>{t("/login")},3e3)):u(e.data.message)}catch(c){var a,i;console.error("Error reset password:",c),u((null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Terjadi kesalahan saat reset password")}finally{r(!1)}},className:"reset-password-form",children:[c&&(0,oa.jsx)("div",{className:"error-message",children:c}),d&&(0,oa.jsx)("div",{className:"success-message",children:d}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{htmlFor:"newPassword",children:"Password Baru"}),(0,oa.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:_,required:!0,placeholder:"Masukkan password baru (min. 6 karakter)",disabled:s,minLength:6})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{htmlFor:"confirmPassword",children:"Konfirmasi Password"}),(0,oa.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:_,required:!0,placeholder:"Konfirmasi password baru",disabled:s})]}),(0,oa.jsx)("button",{type:"submit",className:"btn-submit",disabled:s,children:s?"Mereset Password...":"Reset Password"})]})]})}):(0,oa.jsx)("div",{className:"reset-password-container",children:(0,oa.jsxs)("div",{className:"reset-password-card",children:[(0,oa.jsxs)("div",{className:"reset-password-header",children:[(0,oa.jsx)("h1",{children:"eSIR 2.0"}),(0,oa.jsx)("p",{children:"Reset Password"})]}),(0,oa.jsx)("div",{className:"error-message",children:c}),(0,oa.jsx)("div",{className:"form-footer",children:(0,oa.jsx)("button",{onClick:()=>t("/forgot-password"),className:"btn-secondary",children:"Minta Link Reset Baru"})})]})})},Wi=e=>{let{onClose:t}=e;const[a,s]=(0,i.useState)({browserNotifications:!0,soundNotifications:!0,toastNotifications:!0,emailNotifications:!1,rujukanBaru:!0,statusUpdate:!0,trackingUpdate:!0,systemNotifications:!0,quietHours:!1,quietHoursStart:"22:00",quietHoursEnd:"07:00",toastPosition:"top-right",maxToasts:5}),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)("");(0,i.useEffect)(()=>{f()},[]);const f=async()=>{try{o(!0);const e=localStorage.getItem("token"),t=await ra.get("http://localhost:3001/api/notifications/settings",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&s(t.data.data)}catch(u){console.error("Error loading notification settings:",u);const t=localStorage.getItem("notificationSettings");t&&s(JSON.parse(t))}finally{o(!1)}},m=(e,t)=>{s(n=>(0,It.A)((0,It.A)({},n),{},{[e]:t}))},g=()=>{try{const e=new Audio("/notification-sound.mp3");e.volume=.5,e.play().catch(e=>{console.log("Audio play failed:",e);const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),a=t.createGain();n.connect(a),a.connect(t.destination),n.frequency.value=800,n.type="sine",a.gain.setValueAtTime(.3,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),n.start(t.currentTime),n.stop(t.currentTime+.5)})}catch(u){console.log("Sound notification failed:",u)}};return r?(0,oa.jsx)("div",{className:"notification-settings-modal",children:(0,oa.jsx)("div",{className:"notification-settings-content",children:(0,oa.jsx)("div",{className:"loading",children:"Memuat pengaturan..."})})}):(0,oa.jsx)("div",{className:"notification-settings-modal",children:(0,oa.jsxs)("div",{className:"notification-settings-content",children:[(0,oa.jsxs)("div",{className:"settings-header",children:[(0,oa.jsx)("h2",{children:"\u2699\ufe0f Pengaturan Notifikasi"}),(0,oa.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),u&&(0,oa.jsx)("div",{className:"error-message",children:u}),h&&(0,oa.jsx)("div",{className:"success-message",children:h}),(0,oa.jsxs)("div",{className:"settings-sections",children:[(0,oa.jsxs)("div",{className:"settings-section",children:[(0,oa.jsx)("h3",{children:"\ud83d\udd14 Pengaturan Umum"}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.browserNotifications,onChange:e=>m("browserNotifications",e.target.checked)}),(0,oa.jsx)("span",{children:"Notifikasi Browser"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Menampilkan notifikasi popup di browser"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.soundNotifications,onChange:e=>m("soundNotifications",e.target.checked)}),(0,oa.jsx)("span",{children:"Notifikasi Suara"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Memutar suara saat ada notifikasi baru"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.toastNotifications,onChange:e=>m("toastNotifications",e.target.checked)}),(0,oa.jsx)("span",{children:"Toast Notifications"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Menampilkan notifikasi toast di pojok layar"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.emailNotifications,onChange:e=>m("emailNotifications",e.target.checked)}),(0,oa.jsx)("span",{children:"Notifikasi Email"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Mengirim notifikasi melalui email"})]})]}),(0,oa.jsxs)("div",{className:"settings-section",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Jenis Notifikasi"}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.rujukanBaru,onChange:e=>m("rujukanBaru",e.target.checked)}),(0,oa.jsx)("span",{children:"Rujukan Baru"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Notifikasi saat ada rujukan baru masuk"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.statusUpdate,onChange:e=>m("statusUpdate",e.target.checked)}),(0,oa.jsx)("span",{children:"Update Status"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Notifikasi saat status rujukan berubah"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.trackingUpdate,onChange:e=>m("trackingUpdate",e.target.checked)}),(0,oa.jsx)("span",{children:"Update Tracking"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Notifikasi saat ada update tracking ambulans"})]}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.systemNotifications,onChange:e=>m("systemNotifications",e.target.checked)}),(0,oa.jsx)("span",{children:"Notifikasi Sistem"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Notifikasi penting dari sistem"})]})]}),(0,oa.jsxs)("div",{className:"settings-section",children:[(0,oa.jsx)("h3",{children:"\ud83c\udf5e Pengaturan Toast"}),(0,oa.jsx)("div",{className:"setting-item",children:(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("span",{children:"Posisi Toast:"}),(0,oa.jsxs)("select",{value:a.toastPosition,onChange:e=>m("toastPosition",e.target.value),children:[(0,oa.jsx)("option",{value:"top-right",children:"Pojok Kanan Atas"}),(0,oa.jsx)("option",{value:"top-left",children:"Pojok Kiri Atas"}),(0,oa.jsx)("option",{value:"bottom-right",children:"Pojok Kanan Bawah"}),(0,oa.jsx)("option",{value:"bottom-left",children:"Pojok Kiri Bawah"})]})]})}),(0,oa.jsx)("div",{className:"setting-item",children:(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("span",{children:"Maksimal Toast:"}),(0,oa.jsxs)("select",{value:a.maxToasts,onChange:e=>m("maxToasts",parseInt(e.target.value)),children:[(0,oa.jsx)("option",{value:3,children:"3"}),(0,oa.jsx)("option",{value:5,children:"5"}),(0,oa.jsx)("option",{value:8,children:"8"}),(0,oa.jsx)("option",{value:10,children:"10"})]})]})})]}),(0,oa.jsxs)("div",{className:"settings-section",children:[(0,oa.jsx)("h3",{children:"\ud83c\udf19 Jam Tenang"}),(0,oa.jsxs)("div",{className:"setting-item",children:[(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("input",{type:"checkbox",checked:a.quietHours,onChange:e=>m("quietHours",e.target.checked)}),(0,oa.jsx)("span",{children:"Aktifkan Jam Tenang"})]}),(0,oa.jsx)("p",{className:"setting-description",children:"Menonaktifkan notifikasi suara pada jam tertentu"})]}),a.quietHours&&(0,oa.jsxs)("div",{className:"quiet-hours-settings",children:[(0,oa.jsx)("div",{className:"setting-item",children:(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("span",{children:"Dari:"}),(0,oa.jsx)("input",{type:"time",value:a.quietHoursStart,onChange:e=>m("quietHoursStart",e.target.value)})]})}),(0,oa.jsx)("div",{className:"setting-item",children:(0,oa.jsxs)("label",{className:"setting-label",children:[(0,oa.jsx)("span",{children:"Sampai:"}),(0,oa.jsx)("input",{type:"time",value:a.quietHoursEnd,onChange:e=>m("quietHoursEnd",e.target.value)})]})})]})]})]}),(0,oa.jsxs)("div",{className:"settings-actions",children:[(0,oa.jsx)("button",{className:"btn-test",onClick:async()=>{try{if(a.browserNotifications&&"Notification"in window&&"granted"===Notification.permission&&new Notification("Test Notifikasi",{body:"Ini adalah notifikasi test dari eSIR 2.0",icon:"/favicon.ico"}),a.toastNotifications){const{showInfoToast:e}=await Promise.resolve().then(n.bind(n,167));e("Ini adalah notifikasi test","Test Notifikasi")}a.soundNotifications&&g(),p("Test notifikasi berhasil dikirim")}catch(u){console.error("Error testing notification:",u),d("Gagal mengirim test notifikasi")}},disabled:l,children:"\ud83e\uddea Test Notifikasi"}),(0,oa.jsxs)("div",{className:"action-buttons",children:[(0,oa.jsx)("button",{className:"btn-cancel",onClick:t,disabled:l,children:"Batal"}),(0,oa.jsx)("button",{className:"btn-save",onClick:async()=>{try{c(!0),d(""),p("");const e=localStorage.getItem("token");if((await ra.put("http://localhost:3001/api/notifications/settings",a,{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(p("Pengaturan notifikasi berhasil disimpan"),localStorage.setItem("notificationSettings",JSON.stringify(a)),a.browserNotifications&&"Notification"in window&&"default"===Notification.permission)){"granted"!==await Notification.requestPermission()&&d("Izin notifikasi browser ditolak. Beberapa notifikasi mungkin tidak akan muncul.")}}catch(u){console.error("Error saving notification settings:",u),d("Gagal menyimpan pengaturan notifikasi"),localStorage.setItem("notificationSettings",JSON.stringify(a))}finally{c(!1)}},disabled:l,children:l?"Menyimpan...":"Simpan Pengaturan"})]})]})]})})},Ki=()=>{const{notifications:e,getUnreadCount:t,markNotificationAsRead:n,markAllNotificationsAsRead:a,clearNotifications:s,isConnected:r}=zi(),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]);const d=e=>{const t=new Date,n=new Date(e),a=Math.floor((t-n)/6e4);return a<1?"Baru saja":a<60?"".concat(a," menit yang lalu"):a<1440?"".concat(Math.floor(a/60)," jam yang lalu"):"".concat(Math.floor(a/1440)," hari yang lalu")},h=e=>{switch(e){case"rujukan-baru":return"\ud83d\udccb";case"status-update":return"\ud83d\udd04";default:return"\ud83d\udd14"}},p=t();return(0,oa.jsxs)("div",{className:"notification-bell",children:[(0,oa.jsxs)("button",{className:"notification-button",onClick:()=>l(!o),children:[(0,oa.jsx)("span",{className:"bell-icon",children:"\ud83d\udd14"}),p>0&&(0,oa.jsx)("span",{className:"notification-badge",children:p}),(0,oa.jsx)("span",{className:"connection-status",children:r?"\ud83d\udfe2":"\ud83d\udd34"})]}),o&&(0,oa.jsxs)("div",{className:"notification-dropdown",children:[(0,oa.jsxs)("div",{className:"notification-header",children:[(0,oa.jsx)("h3",{children:"Notifikasi"}),(0,oa.jsxs)("div",{className:"notification-actions",children:[(0,oa.jsx)("button",{className:"settings-btn",onClick:()=>u(!0),title:"Pengaturan Notifikasi",children:"\u2699\ufe0f"}),p>0&&(0,oa.jsx)("button",{className:"mark-all-read",onClick:a,children:"Tandai Semua Dibaca"}),e.length>0&&(0,oa.jsx)("button",{className:"clear-all",onClick:s,children:"Hapus Semua"})]})]}),(0,oa.jsx)("div",{className:"notification-list",children:0===e.length?(0,oa.jsx)("div",{className:"no-notifications",children:(0,oa.jsx)("p",{children:"Tidak ada notifikasi"})}):e.map(e=>(0,oa.jsxs)("div",{className:"notification-item ".concat(e.read?"":"unread"),onClick:()=>(e=>{n(e.id),l(!1),("rujukan-baru"===e.type||"status-update"===e.type)&&(window.location.href="/rujukan")})(e),children:[(0,oa.jsx)("div",{className:"notification-icon",children:h(e.type)}),(0,oa.jsxs)("div",{className:"notification-content",children:[(0,oa.jsx)("div",{className:"notification-title",children:e.title}),(0,oa.jsx)("div",{className:"notification-message",children:e.message}),(0,oa.jsx)("div",{className:"notification-time",children:d(e.timestamp)})]}),!e.read&&(0,oa.jsx)("div",{className:"unread-indicator"})]},e.id))})]}),o&&(0,oa.jsx)("div",{className:"notification-overlay",onClick:()=>l(!1)}),c&&(0,oa.jsx)(Wi,{onClose:()=>u(!1)})]})},Vi=()=>{const{user:e,logout:t}=ca(),n=ee(),[a,s]=(0,i.useState)(!1),r=(0,i.useRef)(null),o=e=>n.pathname===e?"active":"",l=()=>{s(!1)};return(0,i.useEffect)(()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,oa.jsxs)("nav",{className:"navigation",children:[(0,oa.jsx)("div",{className:"nav-brand",children:(0,oa.jsx)("h2",{children:"eSIR 2.0"})}),(0,oa.jsxs)("div",{className:"nav-menu",children:[(0,oa.jsxs)(Ee,{to:"/dashboard",className:"nav-link ".concat(o("/dashboard")),children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udcca"}),(0,oa.jsx)("span",{children:"Dashboard"})]}),(0,oa.jsxs)("div",{className:"nav-dropdown",ref:r,children:[(0,oa.jsxs)("button",{className:"nav-link dropdown-toggle ".concat(a?"active":""),onClick:()=>{s(!a)},children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udccb"}),(0,oa.jsx)("span",{children:"Menu"}),(0,oa.jsx)("i",{className:"dropdown-arrow ".concat(a?"open":""),children:"\u25bc"})]}),a&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"dropdown-backdrop",onClick:l}),(0,oa.jsxs)("div",{className:"dropdown-menu",children:[(0,oa.jsxs)(Ee,{to:"/search",className:"dropdown-item ".concat(o("/search")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udd0d"}),(0,oa.jsx)("span",{children:"Pencarian"})]}),(0,oa.jsxs)(Ee,{to:"/tracking",className:"dropdown-item ".concat(o("/tracking")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udef0\ufe0f"}),(0,oa.jsx)("span",{children:"Tracking"})]}),(0,oa.jsxs)(Ee,{to:"/tracking-dashboard",className:"dropdown-item ".concat(o("/tracking-dashboard")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udcca"}),(0,oa.jsx)("span",{children:"Tracking Dashboard"})]}),(0,oa.jsxs)(Ee,{to:"/ambulance-tracker",className:"dropdown-item ".concat(o("/ambulance-tracker")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\ude91"}),(0,oa.jsx)("span",{children:"Ambulance Tracker"})]}),"sopir_ambulans"===(null===e||void 0===e?void 0:e.role)&&(0,oa.jsxs)(Ee,{to:"/driver",className:"dropdown-item ".concat(o("/driver")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\ude97"}),(0,oa.jsx)("span",{children:"Dashboard Sopir"})]}),(0,oa.jsxs)(Ee,{to:"/pasien",className:"dropdown-item ".concat(o("/pasien")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udc65"}),(0,oa.jsx)("span",{children:"Pasien"})]}),(0,oa.jsxs)(Ee,{to:"/rujukan",className:"dropdown-item ".concat(o("/rujukan")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udccb"}),(0,oa.jsx)("span",{children:"Rujukan"})]}),(0,oa.jsxs)(Ee,{to:"/peta",className:"dropdown-item ".concat(o("/peta")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\uddfa\ufe0f"}),(0,oa.jsx)("span",{children:"Peta"})]}),(0,oa.jsxs)(Ee,{to:"/tempat-tidur",className:"dropdown-item ".concat(o("/tempat-tidur")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udecf\ufe0f"}),(0,oa.jsx)("span",{children:"Tempat Tidur"})]}),(0,oa.jsxs)(Ee,{to:"/laporan",className:"dropdown-item ".concat(o("/laporan")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udcc8"}),(0,oa.jsx)("span",{children:"Laporan"})]}),"admin_pusat"===(null===e||void 0===e?void 0:e.role)&&(0,oa.jsxs)(Ee,{to:"/faskes",className:"dropdown-item ".concat(o("/faskes")),onClick:l,children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83c\udfe5"}),(0,oa.jsx)("span",{children:"Faskes"})]})]})]})]}),"admin_pusat"===(null===e||void 0===e?void 0:e.role)&&(0,oa.jsxs)(Ee,{to:"/user-management",className:"nav-link ".concat(o("/user-management")),children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udc64"}),(0,oa.jsx)("span",{children:"Manajemen User"})]})]}),(0,oa.jsxs)("div",{className:"nav-user",children:[(0,oa.jsx)(Ki,{}),(0,oa.jsxs)("div",{className:"user-info",children:[(0,oa.jsx)("span",{className:"user-name",children:null===e||void 0===e?void 0:e.nama}),(0,oa.jsxs)("span",{className:"user-role",children:["(","admin_pusat"===(null===e||void 0===e?void 0:e.role)?"Admin Pusat":"admin_faskes"===(null===e||void 0===e?void 0:e.role)?"Admin Faskes":"User",")"]})]}),(0,oa.jsxs)("button",{onClick:()=>{t()},className:"logout-btn",children:[(0,oa.jsx)("i",{className:"nav-icon",children:"\ud83d\udeaa"}),"Keluar"]})]})]})},Gi=e=>{let{children:t}=e;return(0,oa.jsxs)("div",{className:"layout",children:[(0,oa.jsx)(Vi,{}),(0,oa.jsx)("main",{className:"main-content",children:t})]})},Ji=()=>{const[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(!0),[s,r]=(0,i.useState)(""),[,o]=(0,i.useState)(0),{isConnected:l}=zi(),{isRefreshing:c}=ca(),u=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{r("");const e=localStorage.getItem("token");if(!e)return r("Token tidak ditemukan, silakan login ulang"),void a(!1);const n={Authorization:"Bearer ".concat(e)};console.log("\ud83d\udcca Fetching dashboard stats...");const i=await ra.get("http://localhost:3001/api/rujukan/stats/overview",{headers:n});if(!i.data.success)throw new Error("Response format tidak valid");t(i.data.data),console.log("\u2705 Stats loaded successfully:",i.data.data)}catch(s){var n,i,o;if(console.error("\u274c Error fetching stats:",s),"ECONNREFUSED"===s.code||s.message.includes("Network Error"))r("Server tidak tersedia. Pastikan backend berjalan di port 3001.");else{if(401===(null===(n=s.response)||void 0===n?void 0:n.status)&&e<2)return console.log("\ud83d\udd04 Retrying stats fetch (attempt ".concat(e+1,")...")),void setTimeout(()=>{u(e+1)},1e3);404===(null===(i=s.response)||void 0===i?void 0:i.status)?r("Endpoint tidak ditemukan. Pastikan server berjalan."):500===(null===(o=s.response)||void 0===o?void 0:o.status)?r("Terjadi kesalahan server. Silakan coba lagi."):r("Gagal memuat statistik dashboard. Silakan refresh halaman.")}}finally{a(!1)}},[]);(0,i.useEffect)(()=>{u()},[u]);return n||c?(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"loading",children:[(0,oa.jsx)("div",{className:"loading-spinner"}),(0,oa.jsx)("p",{children:c?"Memperbarui token...":"Memuat dashboard..."})]})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"dashboard-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Dashboard"}),(0,oa.jsxs)("div",{className:"connection-status",children:[(0,oa.jsx)("span",{className:"status-indicator ".concat(l?"connected":"disconnected"),children:l?"\ud83d\udfe2":"\ud83d\udd34"}),(0,oa.jsx)("span",{className:"status-text",children:l?"Realtime Aktif":"Realtime Terputus"})]})]}),s&&(0,oa.jsx)("div",{className:"error-message",children:(0,oa.jsxs)("div",{className:"error-content",children:[(0,oa.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,oa.jsx)("span",{className:"error-text",children:s}),(0,oa.jsx)("button",{onClick:()=>{o(e=>e+1),a(!0),u()},className:"retry-button",children:"\ud83d\udd04 Coba Lagi"})]})}),(0,oa.jsxs)("div",{className:"stats-grid",children:[(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon total",children:"\ud83d\udcca"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Total Rujukan"}),(0,oa.jsx)("p",{className:"stat-number",children:(null===e||void 0===e?void 0:e.total)||0})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon pending",children:"\u23f3"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Menunggu"}),(0,oa.jsx)("p",{className:"stat-number",children:(null===e||void 0===e?void 0:e.pending)||0})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon accepted",children:"\u2705"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Diterima"}),(0,oa.jsx)("p",{className:"stat-number",children:(null===e||void 0===e?void 0:e.diterima)||0})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon rejected",children:"\u274c"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Ditolak"}),(0,oa.jsx)("p",{className:"stat-number",children:(null===e||void 0===e?void 0:e.ditolak)||0})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon completed",children:"\ud83c\udfc1"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Selesai"}),(0,oa.jsx)("p",{className:"stat-number",children:(null===e||void 0===e?void 0:e.selesai)||0})]})]})]}),(0,oa.jsxs)("div",{className:"dashboard-content",children:[(0,oa.jsxs)("div",{className:"welcome-card",children:[(0,oa.jsx)("h2",{children:"Selamat Datang di eSIR 2.0"}),(0,oa.jsxs)("p",{children:["Sistem Informasi Rujukan Online - Dashboard untuk"," ",(0,oa.jsx)("strong",{children:"Administrator"})]}),l&&(0,oa.jsxs)("div",{className:"realtime-info",children:[(0,oa.jsx)("span",{className:"realtime-badge",children:"\ud83d\udd04 Realtime Aktif"}),(0,oa.jsx)("p",{children:"Statistik akan diperbarui secara otomatis saat ada perubahan data"})]})]}),(0,oa.jsxs)("div",{className:"info-cards",children:[(0,oa.jsxs)("div",{className:"info-card",children:[(0,oa.jsx)("h3",{children:"Fitur yang Tersedia"}),(0,oa.jsx)("p",{children:"\ud83d\udc64 Manajemen Pasien"}),(0,oa.jsx)("p",{children:"\ud83d\udccb Sistem Rujukan"}),(0,oa.jsx)("p",{children:"\ud83c\udfe5 Manajemen Faskes"}),(0,oa.jsx)("p",{children:"\ud83d\udd14 Notifikasi Realtime"}),(0,oa.jsx)("p",{children:"\ud83d\uddfa\ufe0f Dashboard Peta (Coming Soon)"})]}),(0,oa.jsxs)("div",{className:"info-card",children:[(0,oa.jsx)("h3",{children:"Quick Actions"}),(0,oa.jsx)("p",{children:"\u2795 Tambah pasien baru"}),(0,oa.jsx)("p",{children:"\ud83d\udcdd Buat rujukan"}),(0,oa.jsx)("p",{children:"\ud83d\udc41\ufe0f Lihat daftar rujukan"}),(0,oa.jsx)("p",{children:"\ud83d\udcc8 Monitor statistik"}),(0,oa.jsx)("p",{children:"\ud83d\udd14 Cek notifikasi"})]})]}),(0,oa.jsxs)("div",{className:"coming-soon",children:[(0,oa.jsx)("h3",{children:"\ud83d\udea7 Fitur Sedang Dalam Pengembangan"}),(0,oa.jsx)("p",{children:"Dashboard lengkap dengan fitur realtime, peta interaktif, dan laporan detail akan segera hadir!"})]})]})]})})},Qi=()=>{const{token:e,user:t}=ca(),[n,a]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)({nama_lengkap:"",email:"",password:"",role:"admin_faskes",faskes_id:"",telepon:""}),_="admin_pusat"===(null===t||void 0===t?void 0:t.role)||"admin_faskes"===(null===t||void 0===t?void 0:t.role),x="admin_pusat"===(null===t||void 0===t?void 0:t.role),b=(0,i.useCallback)(async()=>{try{u(""),console.log("\ud83d\udd0d Fetching users...");const t=await ra.get("http://localhost:3001/api/auth/users",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.data.success)throw new Error("Invalid response format");a(t.data.data),console.log("\u2705 Users loaded successfully:",t.data.data.length,"users")}catch(c){var t,n;console.error("\u274c Error fetching users:",c),403===(null===(t=c.response)||void 0===t?void 0:t.status)?u("Anda tidak memiliki akses untuk melihat data user"):500===(null===(n=c.response)||void 0===n?void 0:n.status)?u("Terjadi kesalahan server. Silakan coba lagi."):u("Gagal mengambil data user. Silakan coba lagi.")}finally{l(!1)}},[e]),k=(0,i.useCallback)(async()=>{try{console.log("\ud83d\udd0d Fetching faskes...");const t=await ra.get("http://localhost:3001/api/faskes",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(r(t.data.data),console.log("\u2705 Faskes loaded successfully:",t.data.data.length,"faskes"))}catch(c){console.error("\u274c Error fetching faskes:",c)}},[e]);(0,i.useEffect)(()=>{b(),k()},[b,k]);const j=e=>{y((0,It.A)((0,It.A)({},v),{},{[e.target.name]:e.target.value}))},w=()=>{y({nama_lengkap:"",email:"",password:"",role:"admin_faskes",faskes_id:"",telepon:""}),g(null),f(!1)},N=e=>{const t={admin_pusat:{text:"Admin Pusat",class:"role-admin-pusat"},admin_faskes:{text:"Admin Faskes",class:"role-admin-faskes"},sopir_ambulans:{text:"Sopir Ambulans",class:"role-sopir-ambulans"}}[e]||{text:e,class:"role-default"};return(0,oa.jsx)("span",{className:"role-badge ".concat(t.class),children:t.text})},S=e=>!1===e.is_active?(0,oa.jsx)("span",{className:"status-badge inactive",children:"Nonaktif"}):(0,oa.jsx)("span",{className:"status-badge active",children:"Aktif"});return o?(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"loading-container",children:[(0,oa.jsx)("div",{className:"loading-spinner"}),(0,oa.jsx)("p",{children:"Memuat data user..."})]})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"user-management-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"\ud83d\udc65 Manajemen User"}),(0,oa.jsx)("p",{children:"Kelola data pengguna sistem eSIR 2.0"})]}),!_&&(0,oa.jsx)("div",{className:"access-denied",children:(0,oa.jsxs)("div",{className:"access-denied-content",children:[(0,oa.jsx)("div",{className:"access-denied-icon",children:"\ud83d\udeab"}),(0,oa.jsx)("h2",{children:"Akses Ditolak"}),(0,oa.jsx)("p",{children:"Anda tidak memiliki izin untuk mengakses halaman ini."}),(0,oa.jsx)("p",{children:"Hanya admin yang dapat mengelola data user."})]})}),_&&(0,oa.jsxs)(oa.Fragment,{children:[c&&(0,oa.jsxs)("div",{className:"error-message",children:[(0,oa.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,oa.jsx)("span",{className:"error-text",children:c}),(0,oa.jsx)("button",{onClick:b,className:"retry-button",children:"\ud83d\udd04 Coba Lagi"})]}),d&&(0,oa.jsxs)("div",{className:"success-message",children:[(0,oa.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,oa.jsx)("span",{className:"success-text",children:d})]}),p&&(0,oa.jsx)("div",{className:"form-modal",children:(0,oa.jsxs)("div",{className:"form-content",children:[(0,oa.jsxs)("div",{className:"form-header",children:[(0,oa.jsx)("h2",{children:m?"Edit User":"Tambah User Baru"}),(0,oa.jsx)("button",{className:"close-btn",onClick:()=>{f(!1),w()},children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(""),h("");try{const t={Authorization:"Bearer ".concat(e)},n=(0,It.A)({},v);""===n.faskes_id||"admin_pusat"===n.role?n.faskes_id=null:n.faskes_id=parseInt(n.faskes_id),m?(n.password||delete n.password,console.log("Updating user with data:",n),await ra.put("http://localhost:3001/api/auth/users/".concat(m.id),n,{headers:t}),h("User berhasil diperbarui!")):(console.log("Creating user with data:",n),await ra.post("http://localhost:3001/api/auth/users",n,{headers:t}),h("User berhasil ditambahkan!")),b(),w()}catch(c){var n,a,i;console.error("Error saving user:",(null===(n=c.response)||void 0===n?void 0:n.data)||c),u((null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Terjadi kesalahan")}},children:[(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nama Lengkap *"}),(0,oa.jsx)("input",{type:"text",name:"nama_lengkap",value:v.nama_lengkap,onChange:j,required:!0,placeholder:"Masukkan nama lengkap"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Email *"}),(0,oa.jsx)("input",{type:"email",name:"email",value:v.email,onChange:j,required:!0,placeholder:"user@example.com"})]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsxs)("label",{children:["Password ",!m&&"*"]}),(0,oa.jsx)("input",{type:"password",name:"password",value:v.password,onChange:j,required:!m,placeholder:m?"Kosongkan jika tidak ingin mengubah password":"Masukkan password"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Role *"}),(0,oa.jsxs)("select",{name:"role",value:v.role,onChange:j,required:!0,children:[(0,oa.jsx)("option",{value:"admin_pusat",children:"Admin Pusat"}),(0,oa.jsx)("option",{value:"admin_faskes",children:"Admin Faskes"}),(0,oa.jsx)("option",{value:"sopir_ambulans",children:"Sopir Ambulans"})]})]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Faskes"}),(0,oa.jsxs)("select",{name:"faskes_id",value:v.faskes_id,onChange:j,disabled:"admin_pusat"===v.role,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Faskes"}),s.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.nama_faskes},e.id))]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Telepon"}),(0,oa.jsx)("input",{type:"tel",name:"telepon",value:v.telepon,onChange:j,placeholder:"08123456789"})]})]}),(0,oa.jsxs)("div",{className:"form-actions",children:[(0,oa.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{f(!1),w()},children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:m?"Update":"Simpan"})]})]})]})}),(0,oa.jsxs)("div",{className:"user-management-content",children:[(0,oa.jsxs)("div",{className:"stats-grid",children:[(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Total User"}),(0,oa.jsx)("p",{className:"stat-number",children:n.length})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon",children:"\ud83d\udc51"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Admin Pusat"}),(0,oa.jsx)("p",{className:"stat-number",children:n.filter(e=>"admin_pusat"===e.role).length})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon",children:"\ud83c\udfe5"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Admin Faskes"}),(0,oa.jsx)("p",{className:"stat-number",children:n.filter(e=>"admin_faskes"===e.role).length})]})]}),(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-icon",children:"\ud83d\ude91"}),(0,oa.jsxs)("div",{className:"stat-content",children:[(0,oa.jsx)("h3",{children:"Sopir Ambulans"}),(0,oa.jsx)("p",{className:"stat-number",children:n.filter(e=>"sopir_ambulans"===e.role).length})]})]})]}),(0,oa.jsxs)("div",{className:"users-table-container",children:[(0,oa.jsxs)("div",{className:"table-header",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Daftar User"}),(0,oa.jsxs)("div",{className:"table-actions",children:[x&&(0,oa.jsx)("button",{className:"add-btn",onClick:()=>f(!0),children:"\u2795 Tambah User"}),(0,oa.jsx)("button",{className:"refresh-btn",onClick:b,children:"\ud83d\udd04 Refresh"})]})]}),(0,oa.jsx)("div",{className:"table-wrapper",children:(0,oa.jsxs)("table",{className:"users-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Nama Lengkap"}),(0,oa.jsx)("th",{children:"Email"}),(0,oa.jsx)("th",{children:"Role"}),(0,oa.jsx)("th",{children:"Faskes"}),(0,oa.jsx)("th",{children:"Telepon"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Terakhir Login"}),(0,oa.jsx)("th",{children:"Aksi"})]})}),(0,oa.jsx)("tbody",{children:0===n.length?(0,oa.jsx)("tr",{children:(0,oa.jsx)("td",{colSpan:"8",className:"no-data",children:(0,oa.jsxs)("div",{className:"no-data-content",children:[(0,oa.jsx)("span",{className:"no-data-icon",children:"\ud83d\udced"}),(0,oa.jsx)("p",{children:"Tidak ada data user"})]})})}):n.map(t=>{var n,a;return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"user-info",children:[(0,oa.jsx)("div",{className:"user-avatar",children:(null===(n=t.nama_lengkap)||void 0===n||null===(a=n.charAt(0))||void 0===a?void 0:a.toUpperCase())||"U"}),(0,oa.jsxs)("div",{className:"user-details",children:[(0,oa.jsx)("span",{className:"user-name",children:t.nama_lengkap}),(0,oa.jsxs)("span",{className:"user-id",children:["ID: ",t.id]})]})]})}),(0,oa.jsx)("td",{children:t.email}),(0,oa.jsx)("td",{children:N(t.role)}),(0,oa.jsx)("td",{children:t.nama_faskes||"-"}),(0,oa.jsx)("td",{children:t.telepon||"-"}),(0,oa.jsx)("td",{children:S(t)}),(0,oa.jsx)("td",{children:t.last_login?new Date(t.last_login).toLocaleDateString("id-ID"):"Belum pernah login"}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"action-buttons",children:[x&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("button",{className:"edit-btn",onClick:()=>(e=>{g(e),y({nama_lengkap:e.nama_lengkap||"",email:e.email||"",password:"",role:e.role||"admin_faskes",faskes_id:e.faskes_id?e.faskes_id.toString():"",telepon:e.telepon||""}),f(!0)})(t),title:"Edit User",children:"\u270f\ufe0f"}),(0,oa.jsx)("button",{className:"delete-btn",onClick:()=>(async t=>{if(window.confirm("Apakah Anda yakin ingin menghapus user ini?"))try{await ra.delete("http://localhost:3001/api/auth/users/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),h("User berhasil dihapus!"),b()}catch(c){var n,a;u((null===(n=c.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Gagal menghapus user"),console.error("Error deleting user:",c)}})(t.id),title:"Hapus User",children:"\ud83d\uddd1\ufe0f"})]}),!x&&(0,oa.jsx)("span",{className:"view-only",children:"\ud83d\udc41\ufe0f Lihat Saja"})]})})]},t.id)})})]})})]})]})]})]})})},Yi=()=>{const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)(!0),[s,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)({no_rm:"",nama_pasien:"",nik:"",tanggal_lahir:"",jenis_kelamin:"L",alamat:"",telepon:"",nama_wali:"",telepon_wali:""}),[d,h]=(0,i.useState)(""),p=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)},a=await ra.get("http://localhost:3001/api/pasien",{headers:n});t(a.data.data)}catch(d){h("Gagal memuat data pasien"),console.error("Error fetching pasien:",d)}finally{a(!1)}},[]);(0,i.useEffect)(()=>{p()},[p]);const f=e=>{u((0,It.A)((0,It.A)({},c),{},{[e.target.name]:e.target.value}))},m=()=>{u({no_rm:"",nama_pasien:"",nik:"",tanggal_lahir:"",jenis_kelamin:"L",alamat:"",telepon:"",nama_wali:"",telepon_wali:""}),l(null)};return n?(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat data pasien..."})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"pasien-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Manajemen Pasien"}),(0,oa.jsx)("button",{className:"btn-primary",onClick:()=>{m(),r(!0)},children:"+ Tambah Pasien"})]}),d&&(0,oa.jsx)("div",{className:"error-message",children:d}),s&&(0,oa.jsx)("div",{className:"form-modal",children:(0,oa.jsxs)("div",{className:"form-content",children:[(0,oa.jsxs)("div",{className:"form-header",children:[(0,oa.jsx)("h2",{children:o?"Edit Pasien":"Tambah Pasien Baru"}),(0,oa.jsx)("button",{className:"close-btn",onClick:()=>{r(!1),m()},children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};o?await ra.put("http://localhost:3001/api/pasien/".concat(o.id),c,{headers:t}):await ra.post("http://localhost:3001/api/pasien",c,{headers:t}),p(),m(),r(!1)}catch(d){var t,n;h((null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan")}},children:[(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"No RM *"}),(0,oa.jsx)("input",{type:"text",name:"no_rm",value:c.no_rm,onChange:f,required:!0,placeholder:"Contoh: RM001"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"NIK *"}),(0,oa.jsx)("input",{type:"text",name:"nik",value:c.nik,onChange:f,required:!0,placeholder:"16 digit NIK",maxLength:"16",pattern:"[0-9]{16}",title:"NIK harus 16 digit angka"})]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nama Pasien *"}),(0,oa.jsx)("input",{type:"text",name:"nama_pasien",value:c.nama_pasien,onChange:f,required:!0,placeholder:"Nama lengkap pasien"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Tanggal Lahir *"}),(0,oa.jsx)("input",{type:"date",name:"tanggal_lahir",value:c.tanggal_lahir,onChange:f,required:!0})]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Jenis Kelamin *"}),(0,oa.jsxs)("select",{name:"jenis_kelamin",value:c.jenis_kelamin,onChange:f,required:!0,children:[(0,oa.jsx)("option",{value:"L",children:"Laki-laki"}),(0,oa.jsx)("option",{value:"P",children:"Perempuan"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Telepon"}),(0,oa.jsx)("input",{type:"tel",name:"telepon",value:c.telepon,onChange:f,placeholder:"08123456789"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Alamat *"}),(0,oa.jsx)("textarea",{name:"alamat",value:c.alamat,onChange:f,placeholder:"Alamat lengkap",rows:"3",required:!0})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nama Wali"}),(0,oa.jsx)("input",{type:"text",name:"nama_wali",value:c.nama_wali,onChange:f,placeholder:"Nama wali/pendamping"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Telepon Wali"}),(0,oa.jsx)("input",{type:"tel",name:"telepon_wali",value:c.telepon_wali,onChange:f,placeholder:"08123456788"})]})]}),(0,oa.jsxs)("div",{className:"form-actions",children:[(0,oa.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{r(!1),m()},children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:o?"Update":"Simpan"})]})]})]})}),(0,oa.jsxs)("div",{className:"table-container",children:[(0,oa.jsxs)("table",{className:"data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"No RM"}),(0,oa.jsx)("th",{children:"NIK"}),(0,oa.jsx)("th",{children:"Nama Pasien"}),(0,oa.jsx)("th",{children:"Tanggal Lahir"}),(0,oa.jsx)("th",{children:"Jenis Kelamin"}),(0,oa.jsx)("th",{children:"Telepon"}),(0,oa.jsx)("th",{children:"Aksi"})]})}),(0,oa.jsx)("tbody",{children:e.map(e=>{return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.no_rm}),(0,oa.jsx)("td",{children:e.nik}),(0,oa.jsx)("td",{children:e.nama_pasien}),(0,oa.jsx)("td",{children:(t=e.tanggal_lahir,t?new Date(t).toLocaleDateString("id-ID"):"-")}),(0,oa.jsx)("td",{children:"L"===e.jenis_kelamin?"Laki-laki":"Perempuan"}),(0,oa.jsx)("td",{children:e.telepon||"-"}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"action-buttons",children:[(0,oa.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{l(e),u({no_rm:e.no_rm||"",nama_pasien:e.nama_pasien||"",nik:e.nik||"",tanggal_lahir:e.tanggal_lahir||"",jenis_kelamin:e.jenis_kelamin||"L",alamat:e.alamat||"",telepon:e.telepon||"",nama_wali:e.nama_wali||"",telepon_wali:e.telepon_wali||""}),r(!0)})(e),children:"Edit"}),(0,oa.jsx)("button",{className:"btn-delete",onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus pasien ini?"))try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};await ra.delete("http://localhost:3001/api/pasien/".concat(e),{headers:n}),p()}catch(d){var t,n;h((null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal menghapus pasien")}})(e.id),children:"Hapus"})]})})]},e.id);var t})})]}),0===e.length&&(0,oa.jsx)("div",{className:"empty-state",children:(0,oa.jsx)("p",{children:"Belum ada data pasien"})})]})]})})},Xi=e=>{let{rujukanId:t,onClose:n}=e;const[a,s]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)({deskripsi:"",kategori:"lainnya"}),[g,v]=(0,i.useState)(""),[y,_]=(0,i.useState)(""),x=(0,i.useCallback)(async()=>{try{v("");const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)},a=await ra.get("http://localhost:3001/api/dokumen/rujukan/".concat(t),{headers:n});a.data.success?s(a.data.data):v("Gagal mengambil data dokumen")}catch(g){var e,n;console.error("Error fetching dokumen:",g),v((null===(e=g.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Gagal mengambil data dokumen")}finally{o(!1)}},[t]);(0,i.useEffect)(()=>{x()},[x]);return r?(0,oa.jsxs)("div",{className:"dokumen-manager",children:[(0,oa.jsxs)("div",{className:"dokumen-header",children:[(0,oa.jsx)("h2",{children:"Manajemen Dokumen"}),(0,oa.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,oa.jsx)("div",{className:"loading",children:"Memuat data dokumen..."})]}):(0,oa.jsxs)("div",{className:"dokumen-manager",children:[(0,oa.jsxs)("div",{className:"dokumen-header",children:[(0,oa.jsx)("h2",{children:"Manajemen Dokumen"}),(0,oa.jsxs)("div",{className:"header-actions",children:[(0,oa.jsx)("button",{className:"btn-upload",onClick:()=>d(!0),children:"+ Upload Dokumen"}),(0,oa.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]})]}),g&&(0,oa.jsx)("div",{className:"error-message",children:g}),y&&(0,oa.jsx)("div",{className:"success-message",children:y}),u&&(0,oa.jsxs)("div",{className:"upload-form",children:[(0,oa.jsx)("h3",{children:"Upload Dokumen Baru"}),(0,oa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h){c(!0),v(""),_("");try{const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"},a=new FormData;a.append("file",h),a.append("rujukan_id",t),a.append("deskripsi",f.deskripsi),a.append("kategori",f.kategori);const i=await ra.post("http://localhost:3001/api/dokumen/upload",a,{headers:n});i.data.success?(_("Dokumen berhasil diupload"),p(null),m({deskripsi:"",kategori:"lainnya"}),d(!1),x()):v(i.data.message)}catch(g){var n,a;console.error("Error uploading dokumen:",g),v((null===(n=g.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Gagal mengupload dokumen")}finally{c(!1)}}else v("Pilih file terlebih dahulu")},children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Pilih File"}),(0,oa.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>10485760)return v("Ukuran file terlalu besar. Maksimal 10MB"),void p(null);if(!["application/pdf","image/jpeg","image/jpg","image/png","image/gif","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"].includes(t.type))return v("Tipe file tidak didukung. File yang diizinkan: PDF, JPG, PNG, DOC, DOCX, XLS, XLSX, TXT"),void p(null);p(t),v("")}},accept:".pdf,.jpg,.jpeg,.png,.gif,.doc,.docx,.xls,.xlsx,.txt",required:!0}),(0,oa.jsx)("small",{children:"Maksimal 10MB. Format: PDF, JPG, PNG, DOC, DOCX, XLS, XLSX, TXT"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Kategori"}),(0,oa.jsxs)("select",{value:f.kategori,onChange:e=>m((0,It.A)((0,It.A)({},f),{},{kategori:e.target.value})),children:[(0,oa.jsx)("option",{value:"lainnya",children:"Lainnya"}),(0,oa.jsx)("option",{value:"hasil_lab",children:"Hasil Laboratorium"}),(0,oa.jsx)("option",{value:"rontgen",children:"Rontgen"}),(0,oa.jsx)("option",{value:"resep",children:"Resep"}),(0,oa.jsx)("option",{value:"surat_rujukan",children:"Surat Rujukan"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Deskripsi (Opsional)"}),(0,oa.jsx)("textarea",{value:f.deskripsi,onChange:e=>m((0,It.A)((0,It.A)({},f),{},{deskripsi:e.target.value})),placeholder:"Deskripsi dokumen...",rows:"3"})]}),(0,oa.jsxs)("div",{className:"form-actions",children:[(0,oa.jsx)("button",{type:"submit",className:"btn-submit",disabled:l||!h,children:l?"Mengupload...":"Upload Dokumen"}),(0,oa.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>{d(!1),p(null),m({deskripsi:"",kategori:"lainnya"}),v("")},children:"Batal"})]})]})]}),(0,oa.jsx)("div",{className:"dokumen-list",children:0===a.length?(0,oa.jsxs)("div",{className:"no-dokumen",children:[(0,oa.jsx)("p",{children:"Belum ada dokumen yang diupload"}),(0,oa.jsx)("button",{className:"btn-upload",onClick:()=>d(!0),children:"Upload Dokumen Pertama"})]}):(0,oa.jsx)("div",{className:"dokumen-grid",children:a.map(e=>{return(0,oa.jsxs)("div",{className:"dokumen-card",children:[(0,oa.jsx)("div",{className:"dokumen-icon",children:(n=e.tipe_file,n.includes("pdf")?"\ud83d\udcc4":n.includes("image")?"\ud83d\uddbc\ufe0f":n.includes("word")?"\ud83d\udcdd":n.includes("excel")?"\ud83d\udcca":n.includes("text")?"\ud83d\udcc4":"\ud83d\udcce")}),(0,oa.jsxs)("div",{className:"dokumen-info",children:[(0,oa.jsx)("h4",{className:"dokumen-title",children:e.nama_asli}),(0,oa.jsxs)("p",{className:"dokumen-meta",children:[(0,oa.jsx)("span",{className:"dokumen-size",children:e.ukuran_file_formatted}),(0,oa.jsx)("span",{className:"dokumen-date",children:new Date(e.created_at).toLocaleDateString("id-ID")})]}),e.deskripsi&&(0,oa.jsx)("p",{className:"dokumen-desc",children:e.deskripsi}),(0,oa.jsxs)("div",{className:"dokumen-tags",children:[(0,oa.jsx)("span",{className:"badge ".concat((t=e.kategori,{hasil_lab:"badge-lab",rontgen:"badge-rontgen",resep:"badge-resep",surat_rujukan:"badge-surat",lainnya:"badge-lainnya"}[t]||"badge-lainnya")),children:e.kategori_text}),(0,oa.jsxs)("span",{className:"uploaded-by",children:["Oleh: ",e.uploaded_by]})]})]}),(0,oa.jsxs)("div",{className:"dokumen-actions",children:[(0,oa.jsx)("button",{className:"btn-download",onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(n)},i=await ra.get("http://localhost:3001/api/dokumen/".concat(e,"/download"),{headers:a,responseType:"blob"}),s=window.URL.createObjectURL(new Blob([i.data])),r=document.createElement("a");r.href=s,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(s)}catch(g){console.error("Error downloading dokumen:",g),v("Gagal mengunduh dokumen")}})(e.id,e.nama_asli),title:"Download",children:"\ud83d\udce5"}),(0,oa.jsx)("button",{className:"btn-delete",onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus dokumen ini?"))try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)},a=await ra.delete("http://localhost:3001/api/dokumen/".concat(e),{headers:n});a.data.success?(_("Dokumen berhasil dihapus"),x()):v(a.data.message)}catch(g){var t,n;console.error("Error deleting dokumen:",g),v((null===(t=g.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal menghapus dokumen")}})(e.id),title:"Hapus",children:"\ud83d\uddd1\ufe0f"})]})]},e.id);var t,n})})})]})},$i=()=>{const{user:e}=ca(),[t,n]=(0,i.useState)([]),[,a]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[_,x]=(0,i.useState)(null),[b,k]=(0,i.useState)({nik:"",nama_pasien:"",tanggal_lahir:"",jenis_kelamin:"L",alamat:"",telepon:"",faskes_asal_id:"",faskes_tujuan_id:"",diagnosa:"",alasan_rujukan:"",catatan_asal:"",transport_type:"pickup"}),[j,w]=(0,i.useState)(""),[N,S]=(0,i.useState)(null),[C,P]=(0,i.useState)(!1),[T,E]=(0,i.useState)(!1),[A,L]=(0,i.useState)({status:"diterima",catatan_tujuan:""}),[O,R]=(0,i.useState)({alasan_pembatalan:""}),[z,M]=(0,i.useState)(""),I=(0,i.useCallback)(async()=>{try{const l=localStorage.getItem("token"),d={Authorization:"Bearer ".concat(l)};console.log("Fetching data with token:",l?"Token exists":"No token");try{const e=await ra.get("http://localhost:3001/api/faskes",{headers:d});console.log("Faskes response:",e.data),e.data.success?(r(e.data.data),console.log("\u2705 Faskes data set:",e.data.data)):console.error("\u274c Faskes API error:",e.data.message)}catch(o){var e;console.error("\u274c Error fetching faskes:",(null===(e=o.response)||void 0===e?void 0:e.data)||o.message)}try{console.log("\ud83d\udd0d Fetching rujukan data...");const e=await ra.get("http://localhost:3001/api/rujukan",{headers:d});console.log("\ud83d\udce1 Rujukan response status:",e.status),console.log("\ud83d\udce1 Rujukan response data:",e.data),e.data.success?(console.log("\u2705 Rujukan API success"),console.log("\ud83d\udcca Rujukan data length:",e.data.data?e.data.data.length:"null"),console.log("\ud83d\udccb Rujukan data:",e.data.data),n(e.data.data||[]),console.log("\u2705 Rujukan state set successfully")):(console.error("\u274c Rujukan API error:",e.data.message),n([]))}catch(c){var t,i;console.error("\u274c Error fetching rujukan:",c),console.error("\u274c Error response:",null===(t=c.response)||void 0===t?void 0:t.data),console.error("\u274c Error status:",null===(i=c.response)||void 0===i?void 0:i.status),n([])}try{const e=await ra.get("http://localhost:3001/api/pasien",{headers:d});console.log("Pasien response:",e.data),e.data.success?(a(e.data.data),console.log("\u2705 Pasien data set:",e.data.data)):console.error("\u274c Pasien API error:",e.data.message)}catch(u){var s;console.error("\u274c Error fetching pasien:",(null===(s=u.response)||void 0===s?void 0:s.data)||u.message)}}catch(z){M("Gagal memuat data"),console.error("Error fetching data:",z)}finally{l(!1)}},[]);(0,i.useEffect)(()=>{I()},[I]);const D=e=>{k((0,It.A)((0,It.A)({},b),{},{[e.target.name]:e.target.value}))},B=()=>{k({nik:"",nama_pasien:"",tanggal_lahir:"",jenis_kelamin:"L",alamat:"",telepon:"",faskes_asal_id:"",faskes_tujuan_id:"",diagnosa:"",alasan_rujukan:"",catatan_asal:""}),w(""),S(null),E(!1)},F=e=>({pending:"badge-warning",diterima:"badge-success",ditolak:"badge-danger",selesai:"badge-info",dibatalkan:"badge-secondary"}[e]||"badge-secondary"),U=e=>({pending:"Menunggu",diterima:"Diterima",ditolak:"Ditolak",selesai:"Selesai",dibatalkan:"Dibatalkan"}[e]||e),Z=e=>"pending"===e.status,H=e=>"pending"===e.status;return o?(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat data rujukan..."})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"rujukan-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Manajemen Rujukan"}),(0,oa.jsx)("button",{className:"btn-primary",onClick:()=>u(!0),children:"+ Buat Rujukan Baru"})]}),z&&(0,oa.jsx)("div",{className:"error-message",children:z}),(0,oa.jsxs)("div",{className:"table-container",children:[(0,oa.jsxs)("table",{className:"data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"No. Rujukan"}),(0,oa.jsx)("th",{children:"Pasien"}),(0,oa.jsx)("th",{children:"Faskes Asal"}),(0,oa.jsx)("th",{children:"Faskes Tujuan"}),(0,oa.jsx)("th",{children:"Transportasi"}),(0,oa.jsx)("th",{children:"Diagnosa"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Tanggal"}),(0,oa.jsx)("th",{children:"Aksi"})]})}),(0,oa.jsx)("tbody",{children:t.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.nomor_rujukan}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:e.nama_pasien}),(0,oa.jsx)("br",{}),(0,oa.jsxs)("small",{children:["NIK: ",e.nik_pasien]})]})}),(0,oa.jsx)("td",{children:e.faskes_asal_nama}),(0,oa.jsx)("td",{children:e.faskes_tujuan_nama}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"transport-badge",children:"pickup"===e.transport_type?"\ud83d\ude91 RS Tujuan Menjemput":"\ud83d\ude91 Faskes Perujuk Mengantarkan"})}),(0,oa.jsx)("td",{className:"diagnosa-cell",children:e.diagnosa}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"badge ".concat(F(e.status)),children:U(e.status)})}),(0,oa.jsx)("td",{children:new Date(e.tanggal_rujukan).toLocaleDateString("id-ID")}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"action-buttons",children:[H(e)&&(0,oa.jsx)("button",{className:"btn-edit",onClick:()=>{x(e),h(!0)},children:"Update Status"}),Z(e)&&(0,oa.jsx)("button",{className:"btn-cancel",onClick:()=>{x(e),f(!0)},children:"Batalkan"}),(0,oa.jsx)("button",{className:"btn-view",onClick:()=>{x(e),y(!0)},children:"Detail"}),(0,oa.jsx)("button",{className:"btn-dokumen",onClick:()=>{x(e),g(!0)},children:"\ud83d\udcc1 Dokumen"})]})})]},e.id))})]}),0===t.length&&(0,oa.jsx)("div",{className:"no-data",children:(0,oa.jsx)("p",{children:"Tidak ada data rujukan"})})]}),c&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h2",{children:"Buat Rujukan Baru"}),(0,oa.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),M("");const n={nik:"NIK",nama_pasien:"Nama Pasien",tanggal_lahir:"Tanggal Lahir",jenis_kelamin:"Jenis Kelamin",alamat:"Alamat",faskes_tujuan_id:"Faskes Tujuan",diagnosa:"Diagnosa",alasan_rujukan:"Alasan Rujukan"};e&&"admin_pusat"===e.role&&(n.faskes_asal_id="Faskes Asal");const a=[];for(const[e,r]of Object.entries(n))b[e]&&""!==b[e].toString().trim()||a.push(r);if(a.length>0)M("Field berikut wajib diisi: ".concat(a.join(", ")));else if(16===b.nik.length)try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.post("http://localhost:3001/api/rujukan/with-pasien",b,{headers:t});n.data.success?(u(!1),B(),I(),alert("Rujukan berhasil dibuat!")):M(n.data.message)}catch(z){var i,s;console.error("Error creating rujukan:",z),M((null===(i=z.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Gagal membuat rujukan")}else M("NIK harus 16 digit")},children:[(0,oa.jsxs)("div",{className:"form-section",children:[(0,oa.jsx)("h3",{children:"Data Pasien"}),(0,oa.jsx)("div",{className:"form-row",children:(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"NIK"}),(0,oa.jsxs)("div",{className:"search-container",children:[(0,oa.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"Masukkan NIK (16 digit)",maxLength:16}),(0,oa.jsx)("button",{type:"button",onClick:async()=>{if(j&&16===j.length){P(!0),M("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.get("http://localhost:3001/api/pasien/search?nik=".concat(j),{headers:t});if(n.data.success&&n.data.data){const e=n.data.data;S(e),E(!1),k((0,It.A)((0,It.A)({},b),{},{nik:e.nik,nama_pasien:e.nama_lengkap,tanggal_lahir:e.tanggal_lahir,jenis_kelamin:e.jenis_kelamin,alamat:e.alamat,telepon:e.telepon||""}))}else S(null),E(!0),k((0,It.A)((0,It.A)({},b),{},{nik:j}))}catch(z){console.error("Error searching pasien:",z),S(null),E(!0),k((0,It.A)((0,It.A)({},b),{},{nik:j}))}finally{P(!1)}}else M("NIK harus 16 digit")},disabled:C,children:C?"Mencari...":"Cari"})]})]})}),N&&(0,oa.jsxs)("div",{className:"found-pasien",children:[(0,oa.jsxs)("p",{children:["\u2705 Pasien ditemukan: ",(0,oa.jsx)("strong",{children:N.nama_lengkap})]}),(0,oa.jsx)("button",{type:"button",onClick:()=>{k((0,It.A)((0,It.A)({},b),{},{nik:N.nik,nama_pasien:N.nama_lengkap,tanggal_lahir:N.tanggal_lahir,jenis_kelamin:N.jenis_kelamin,alamat:N.alamat,telepon:N.telepon||""}))},className:"btn-secondary",children:"Gunakan Data Pasien Ini"})]}),(T||N)&&(0,oa.jsxs)("div",{className:"new-pasien-form",children:[(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nama Pasien *"}),(0,oa.jsx)("input",{type:"text",name:"nama_pasien",value:b.nama_pasien,onChange:D,required:!0,placeholder:"Masukkan nama lengkap pasien"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Tanggal Lahir *"}),(0,oa.jsx)("input",{type:"date",name:"tanggal_lahir",value:b.tanggal_lahir,onChange:D,required:!0})]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Jenis Kelamin *"}),(0,oa.jsxs)("select",{name:"jenis_kelamin",value:b.jenis_kelamin,onChange:D,required:!0,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Jenis Kelamin"}),(0,oa.jsx)("option",{value:"L",children:"Laki-laki"}),(0,oa.jsx)("option",{value:"P",children:"Perempuan"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Telepon"}),(0,oa.jsx)("input",{type:"tel",name:"telepon",value:b.telepon,onChange:D,placeholder:"Nomor telepon (opsional)"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Alamat *"}),(0,oa.jsx)("textarea",{name:"alamat",value:b.alamat,onChange:D,required:!0,placeholder:"Masukkan alamat lengkap pasien",rows:"3"})]})]}),(0,oa.jsxs)("div",{className:"form-section",children:[(0,oa.jsx)("h3",{children:"Data Rujukan"}),(0,oa.jsxs)("div",{className:"form-row",children:[e&&"admin_pusat"===e.role&&(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Faskes Asal *"}),(0,oa.jsxs)("select",{name:"faskes_asal_id",value:b.faskes_asal_id,onChange:D,required:!0,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Faskes Asal"}),s.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.nama_faskes," (",e.tipe,")"]},e.id))]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Faskes Tujuan *"}),(0,oa.jsxs)("select",{name:"faskes_tujuan_id",value:b.faskes_tujuan_id,onChange:D,required:!0,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Faskes Tujuan"}),s.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.nama_faskes," (",e.tipe,")"]},e.id))]})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Jenis Transportasi *"}),(0,oa.jsxs)("select",{name:"transport_type",value:b.transport_type,onChange:D,required:!0,children:[(0,oa.jsx)("option",{value:"pickup",children:"\ud83d\ude91 RS Tujuan Menjemput"}),(0,oa.jsx)("option",{value:"delivery",children:"\ud83d\ude91 Faskes Perujuk Mengantarkan"})]}),(0,oa.jsxs)("small",{className:"form-help",children:[(0,oa.jsx)("strong",{children:"RS Tujuan Menjemput:"})," Ambulans dari RS tujuan akan menjemput pasien di faskes perujuk",(0,oa.jsx)("br",{}),(0,oa.jsx)("strong",{children:"Faskes Perujuk Mengantarkan:"})," Ambulans dari faskes perujuk akan mengantarkan pasien ke RS tujuan"]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Diagnosa *"}),(0,oa.jsx)("textarea",{name:"diagnosa",value:b.diagnosa,onChange:D,required:!0,placeholder:"Masukkan diagnosa pasien",rows:"3"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Alasan Rujukan *"}),(0,oa.jsx)("textarea",{name:"alasan_rujukan",value:b.alasan_rujukan,onChange:D,required:!0,placeholder:"Masukkan alasan rujukan",rows:"3"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Catatan Asal"}),(0,oa.jsx)("textarea",{name:"catatan_asal",value:b.catatan_asal,onChange:D,placeholder:"Catatan tambahan (opsional)",rows:"2"})]})]})]}),(0,oa.jsxs)("div",{className:"modal-footer",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>u(!1),children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:"Buat Rujukan"})]})]})]})}),d&&_&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h2",{children:"Update Status Rujukan"}),(0,oa.jsx)("button",{className:"modal-close",onClick:()=>h(!1),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"rujukan-info",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"No. Rujukan:"})," ",_.nomor_rujukan]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Pasien:"})," ",_.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Faskes Tujuan:"})," ",_.faskes_tujuan_nama]})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),M("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.put("http://localhost:3001/api/rujukan/".concat(_.id,"/status"),A,{headers:t});n.data.success?(h(!1),x(null),L({status:"diterima",catatan_tujuan:""}),I()):M(n.data.message)}catch(z){var t,n;console.error("Error updating status:",z),M((null===(t=z.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal mengupdate status")}},children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Status"}),(0,oa.jsxs)("select",{value:A.status,onChange:e=>L((0,It.A)((0,It.A)({},A),{},{status:e.target.value})),required:!0,children:[(0,oa.jsx)("option",{value:"diterima",children:"Diterima"}),(0,oa.jsx)("option",{value:"ditolak",children:"Ditolak"}),(0,oa.jsx)("option",{value:"selesai",children:"Selesai"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Catatan Tujuan"}),(0,oa.jsx)("textarea",{value:A.catatan_tujuan,onChange:e=>L((0,It.A)((0,It.A)({},A),{},{catatan_tujuan:e.target.value})),placeholder:"Catatan dari faskes tujuan..."})]}),(0,oa.jsxs)("div",{className:"modal-footer",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>h(!1),children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:"Update Status"})]})]})]})}),p&&_&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h2",{children:"Batalkan Rujukan"}),(0,oa.jsx)("button",{className:"modal-close",onClick:()=>f(!1),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"rujukan-info",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"No. Rujukan:"})," ",_.nomor_rujukan]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Pasien:"})," ",_.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Faskes Tujuan:"})," ",_.faskes_tujuan_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status Saat Ini:"})," ",U(_.status)]})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),M("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.put("http://localhost:3001/api/rujukan/".concat(_.id,"/cancel"),O,{headers:t});n.data.success?(f(!1),x(null),R({alasan_pembatalan:""}),I()):M(n.data.message)}catch(z){var t,n;console.error("Error cancelling rujukan:",z),M((null===(t=z.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal membatalkan rujukan")}},children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Alasan Pembatalan *"}),(0,oa.jsx)("textarea",{value:O.alasan_pembatalan,onChange:e=>R((0,It.A)((0,It.A)({},O),{},{alasan_pembatalan:e.target.value})),placeholder:"Masukkan alasan pembatalan rujukan...",required:!0})]}),(0,oa.jsx)("div",{className:"warning-message",children:(0,oa.jsxs)("p",{children:["\u26a0\ufe0f ",(0,oa.jsx)("strong",{children:"Peringatan:"})," Pembatalan rujukan tidak dapat dibatalkan kembali."]})}),(0,oa.jsxs)("div",{className:"modal-footer",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>f(!1),children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-danger",children:"Batalkan Rujukan"})]})]})]})}),m&&_&&(0,oa.jsx)("div",{className:"modal-overlay dokumen-modal-overlay",children:(0,oa.jsx)(Xi,{rujukanId:_.id,onClose:()=>g(!1)})}),v&&_&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal detail-modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h2",{children:"Detail Rujukan"}),(0,oa.jsx)("button",{className:"modal-close",onClick:()=>y(!1),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"detail-content",children:[(0,oa.jsxs)("div",{className:"detail-section",children:[(0,oa.jsx)("h3",{children:"Informasi Rujukan"}),(0,oa.jsxs)("div",{className:"detail-grid",children:[(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Nomor Rujukan:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.nomor_rujukan})]}),(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Status:"}),(0,oa.jsx)("span",{className:"badge ".concat(F(_.status)),children:U(_.status)})]}),(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Tanggal Rujukan:"}),(0,oa.jsx)("span",{className:"detail-value",children:new Date(_.tanggal_rujukan).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),_.tanggal_respon&&(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Tanggal Respon:"}),(0,oa.jsx)("span",{className:"detail-value",children:new Date(_.tanggal_respon).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,oa.jsxs)("div",{className:"detail-section",children:[(0,oa.jsx)("h3",{children:"Data Pasien"}),(0,oa.jsxs)("div",{className:"detail-grid",children:[(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Nama Pasien:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.nama_pasien})]}),(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"NIK:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.nik_pasien})]})]})]}),(0,oa.jsxs)("div",{className:"detail-section",children:[(0,oa.jsx)("h3",{children:"Informasi Faskes"}),(0,oa.jsxs)("div",{className:"detail-grid",children:[(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Faskes Asal:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.faskes_asal_nama})]}),(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Faskes Tujuan:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.faskes_tujuan_nama})]})]})]}),(0,oa.jsxs)("div",{className:"detail-section",children:[(0,oa.jsx)("h3",{children:"Informasi Medis"}),(0,oa.jsxs)("div",{className:"detail-grid",children:[(0,oa.jsxs)("div",{className:"detail-item full-width",children:[(0,oa.jsx)("label",{children:"Diagnosa:"}),(0,oa.jsx)("div",{className:"detail-text",children:_.diagnosa})]}),(0,oa.jsxs)("div",{className:"detail-item full-width",children:[(0,oa.jsx)("label",{children:"Alasan Rujukan:"}),(0,oa.jsx)("div",{className:"detail-text",children:_.alasan_rujukan})]}),_.catatan_asal&&(0,oa.jsxs)("div",{className:"detail-item full-width",children:[(0,oa.jsx)("label",{children:"Catatan Asal:"}),(0,oa.jsx)("div",{className:"detail-text",children:_.catatan_asal})]}),_.catatan_tujuan&&(0,oa.jsxs)("div",{className:"detail-item full-width",children:[(0,oa.jsx)("label",{children:"Catatan Tujuan:"}),(0,oa.jsx)("div",{className:"detail-text",children:_.catatan_tujuan})]})]})]}),_.user_nama&&(0,oa.jsxs)("div",{className:"detail-section",children:[(0,oa.jsx)("h3",{children:"Informasi User"}),(0,oa.jsx)("div",{className:"detail-grid",children:(0,oa.jsxs)("div",{className:"detail-item",children:[(0,oa.jsx)("label",{children:"Dibuat Oleh:"}),(0,oa.jsx)("span",{className:"detail-value",children:_.user_nama})]})})]})]}),(0,oa.jsxs)("div",{className:"modal-footer",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>y(!1),children:"Tutup"}),H(_)&&(0,oa.jsx)("button",{type:"button",className:"btn-primary",onClick:()=>{y(!1),h(!0)},children:"Update Status"}),Z(_)&&(0,oa.jsx)("button",{type:"button",className:"btn-danger",onClick:()=>{y(!1),f(!0)},children:"Batalkan Rujukan"})]})]})})]})})},es=()=>{const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)(!0),[s,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)({nama_faskes:"",alamat:"",tipe:"Puskesmas",telepon:"",latitude:"",longitude:""}),[d,h]=(0,i.useState)(""),p=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)},a=await ra.get("http://localhost:3001/api/faskes",{headers:n});t(a.data.data)}catch(d){h("Gagal memuat data faskes"),console.error("Error fetching faskes:",d)}finally{a(!1)}},[]);(0,i.useEffect)(()=>{p()},[p]);const f=e=>{u((0,It.A)((0,It.A)({},c),{},{[e.target.name]:e.target.value}))},m=()=>{u({nama_faskes:"",alamat:"",tipe:"Puskesmas",telepon:"",latitude:"",longitude:""}),l(null)},g=e=>{const t={RSUD:{text:"RSUD",class:"tipe-rsud"},Puskesmas:{text:"Puskesmas",class:"tipe-puskesmas"},Klinik:{text:"Klinik",class:"tipe-klinik"},"RS Swasta":{text:"RS Swasta",class:"tipe-rs-swasta"}}[e]||{text:e,class:"tipe-default"};return(0,oa.jsx)("span",{className:"tipe-badge ".concat(t.class),children:t.text})};return n?(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat data faskes..."})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"faskes-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Manajemen Faskes"}),(0,oa.jsx)("button",{className:"btn-primary",onClick:()=>{m(),r(!0)},children:"+ Tambah Faskes"})]}),d&&(0,oa.jsx)("div",{className:"error-message",children:d}),s&&(0,oa.jsx)("div",{className:"form-modal",children:(0,oa.jsxs)("div",{className:"form-content",children:[(0,oa.jsxs)("div",{className:"form-header",children:[(0,oa.jsx)("h2",{children:o?"Edit Faskes":"Tambah Faskes Baru"}),(0,oa.jsx)("button",{className:"close-btn",onClick:()=>{r(!1),m()},children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h("");try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};o?await ra.put("http://localhost:3001/api/faskes/".concat(o.id),c,{headers:t}):await ra.post("http://localhost:3001/api/faskes",c,{headers:t}),p(),m(),r(!1)}catch(d){var t,n;h((null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan")}},children:[(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nama Faskes *"}),(0,oa.jsx)("input",{type:"text",name:"nama_faskes",value:c.nama_faskes,onChange:f,required:!0,placeholder:"Contoh: RSUD Dr. Soetomo"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Tipe Faskes *"}),(0,oa.jsxs)("select",{name:"tipe",value:c.tipe,onChange:f,required:!0,children:[(0,oa.jsx)("option",{value:"RSUD",children:"RSUD"}),(0,oa.jsx)("option",{value:"Puskesmas",children:"Puskesmas"}),(0,oa.jsx)("option",{value:"Klinik",children:"Klinik"}),(0,oa.jsx)("option",{value:"RS Swasta",children:"RS Swasta"})]})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Alamat *"}),(0,oa.jsx)("textarea",{name:"alamat",value:c.alamat,onChange:f,placeholder:"Alamat lengkap faskes",rows:"3",required:!0})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Telepon"}),(0,oa.jsx)("input",{type:"tel",name:"telepon",value:c.telepon,onChange:f,placeholder:"031-1234567"})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Latitude"}),(0,oa.jsx)("input",{type:"number",step:"any",name:"latitude",value:c.latitude,onChange:f,placeholder:"-7.2575"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Longitude"}),(0,oa.jsx)("input",{type:"number",step:"any",name:"longitude",value:c.longitude,onChange:f,placeholder:"112.7521"})]}),(0,oa.jsxs)("div",{className:"form-actions",children:[(0,oa.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{r(!1),m()},children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:o?"Update":"Simpan"})]})]})]})}),(0,oa.jsxs)("div",{className:"table-container",children:[(0,oa.jsxs)("table",{className:"data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Nama Faskes"}),(0,oa.jsx)("th",{children:"Tipe"}),(0,oa.jsx)("th",{children:"Alamat"}),(0,oa.jsx)("th",{children:"Telepon"}),(0,oa.jsx)("th",{children:"Koordinat"}),(0,oa.jsx)("th",{children:"Aksi"})]})}),(0,oa.jsx)("tbody",{children:e.map(e=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.nama_faskes}),(0,oa.jsx)("td",{children:g(e.tipe)}),(0,oa.jsx)("td",{className:"alamat-cell",children:e.alamat}),(0,oa.jsx)("td",{children:e.telepon||"-"}),(0,oa.jsx)("td",{children:e.latitude&&e.longitude?(0,oa.jsxs)("span",{className:"coordinates",children:[e.latitude,", ",e.longitude]}):"-"}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"action-buttons",children:[(0,oa.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{l(e),u({nama_faskes:e.nama_faskes,alamat:e.alamat,tipe:e.tipe,telepon:e.telepon||"",latitude:e.latitude||"",longitude:e.longitude||""}),r(!0)})(e),children:"Edit"}),(0,oa.jsx)("button",{className:"btn-delete",onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus faskes ini?"))try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};await ra.delete("http://localhost:3001/api/faskes/".concat(e),{headers:n}),p()}catch(d){var t,n;h((null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal menghapus faskes")}})(e.id),children:"Hapus"})]})})]},e.id))})]}),0===e.length&&(0,oa.jsx)("div",{className:"empty-state",children:(0,oa.jsx)("p",{children:"Belum ada data faskes"})})]})]})})};function ts(e,t){return Object.freeze((0,It.A)((0,It.A)({},e),t))}const ns=(0,i.createContext)(null);function as(){const e=(0,i.use)(ns);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function is(){return as().map}function ss(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rs=n(228),os=n.n(rs);const ls=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function cs(e,t){let{bounds:n,boundsOptions:a,center:s,children:r,className:o,id:l,placeholder:c,style:u,whenReady:d,zoom:h}=e,p=ss(e,ls);const[f]=(0,i.useState)({className:o,id:l,style:u}),[m,g]=(0,i.useState)(null),v=(0,i.useRef)(void 0);(0,i.useImperativeHandle)(t,()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null},[m]);const y=(0,i.useCallback)(e=>{if(null!==e&&!v.current){const t=new rs.Map(e,p);v.current=t,null!=s&&null!=h?t.setView(s,h):null!=n&&t.fitBounds(n,a),null!=d&&t.whenReady(d),g(function(e){return Object.freeze({__version:1,map:e})}(t))}},[]);(0,i.useEffect)(()=>()=>{null===m||void 0===m||m.map.remove()},[m]);const _=m?i.createElement(ns,{value:m},r):null!==c&&void 0!==c?c:null;return i.createElement("div",(0,It.A)((0,It.A)({},f),{},{ref:y}),_)}const us=(0,i.forwardRef)(cs);function ds(e){function t(t,n){const{instance:a,context:s}=e(t).current;(0,i.useImperativeHandle)(n,()=>a);const{children:r}=t;return null==r?null:i.createElement(ns,{value:s},r)}return(0,i.forwardRef)(t)}function hs(e,t){const n=(0,i.useRef)(t);(0,i.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function ps(e,t){const n=(0,i.useRef)(void 0);(0,i.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function fs(e,t){var n;const a=null!==(n=e.pane)&&void 0!==n?n:t.pane;return a?(0,It.A)((0,It.A)({},e),{},{pane:a}):e}function ms(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function gs(e,t){return null==t?function(t,n){const a=(0,i.useRef)(void 0);return a.current||(a.current=e(t,n)),a}:function(n,a){const s=(0,i.useRef)(void 0);s.current||(s.current=e(n,a));const r=(0,i.useRef)(n),{instance:o}=s.current;return(0,i.useEffect)(function(){r.current!==n&&(t(o,n,r.current),r.current=n)},[o,n,t]),s}}function vs(e,t){(0,i.useEffect)(function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null===(n=t.layerContainer)||void 0===n||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ys(e){return function(t){const n=as(),a=e(fs(t,n),n);return hs(n.map,t.attribution),ps(a.current,t.eventHandlers),vs(a.current,n),a}}function _s(e){return function(t){const n=as(),a=e(fs(t,n),n);return ps(a.current,t.eventHandlers),vs(a.current,n),function(e,t){const n=(0,i.useRef)(void 0);(0,i.useEffect)(function(){if(t.pathOptions!==n.current){var a;const i=null!==(a=t.pathOptions)&&void 0!==a?a:{};e.instance.setStyle(i),n.current=i}},[e,t])}(a.current,t),a}}const xs=["url"],bs=(ks=function(e,t){let{url:n}=e,a=ss(e,xs);return ms(new rs.TileLayer(n,fs(a,t)),t)},js=function(e,t,n){!function(e,t,n){const{opacity:a,zIndex:i}=t;null!=a&&a!==n.opacity&&e.setOpacity(a),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:a}=t;null!=a&&a!==n.url&&e.setUrl(a)},function(e){function t(t,n){const{instance:a}=e(t).current;return(0,i.useImperativeHandle)(n,()=>a),null}return(0,i.forwardRef)(t)}(ys(gs(ks,js))));var ks,js;const ws=["position"],Ns=function(e,t){return ds(ys(gs(e,t)))}(function(e,t){let{position:n}=e,a=ss(e,ws);const i=new rs.Marker(n,a);return ms(i,ts(t,{overlayContainer:i}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),Ss=function(e,t){const n=function(e,t){return function(n,a){const i=as(),s=e(fs(n,i),i);return hs(i.map,n.attribution),ps(s.current,n.eventHandlers),t(s.current,i,n,a),s}}(gs(e),t);return function(e){function t(t,n){const[a,s]=(0,i.useState)(!1),{instance:r}=e(t,s).current;(0,i.useImperativeHandle)(n,()=>r),(0,i.useEffect)(function(){a&&r.update()},[r,a,t.children]);const l=r._contentNode;return l?(0,o.createPortal)(t.children,l):null}return(0,i.forwardRef)(t)}(n)}(function(e,t){return ms(new rs.Popup(e,t.overlayContainer),t)},function(e,t,n,a){let{position:s}=n;(0,i.useEffect)(function(){const{instance:n}=e;function i(e){e.popup===n&&(n.update(),a(!0))}function r(e){e.popup===n&&a(!1)}return t.map.on({popupopen:i,popupclose:r}),null==t.overlayContainer?(null!=s&&n.setLatLng(s),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){var e;t.map.off({popupopen:i,popupclose:r}),null===(e=t.overlayContainer)||void 0===e||e.unbindPopup(),t.map.removeLayer(n)}},[e,t,a,s])}),Cs=["positions"],Ps=function(e,t){return ds(_s(gs(e,t)))}(function(e,t){let{positions:n}=e,a=ss(e,Cs);const i=new rs.Polyline(n,a);return ms(i,ts(t,{overlayContainer:i}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)});delete os().Icon.Default.prototype._getIconUrl,os().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Ts=e=>{let{faskes:t}=e;const n=is();return(0,i.useEffect)(()=>{if(t.length>0){const e=t.filter(e=>e.latitude&&e.longitude);if(e.length>0){const t=os().latLngBounds(e.map(e=>[parseFloat(e.latitude),parseFloat(e.longitude)]));t.isValid()&&n.fitBounds(t,{padding:[20,20]})}}},[t,n]),null},Es=()=>{const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[s,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(""),{socket:p,isConnected:f}=zi(),m=(0,i.useRef)(),g=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.get("http://localhost:3001/api/rujukan",{headers:t});a(n.data.data)}catch(d){console.error("Error fetching rujukan:",d)}},[]);(0,i.useEffect)(()=>{v()},[]),(0,i.useEffect)(()=>(p&&(p.on("rujukan-baru",e=>{g()}),p.on("status-update",e=>{g()})),()=>{p&&(p.off("rujukan-baru"),p.off("status-update"))}),[p,g]);const v=async()=>{try{const e=localStorage.getItem("token");if(!e)return h("Token tidak ditemukan. Silakan login ulang."),void r(!1);const n={Authorization:"Bearer ".concat(e)};console.log("Mengambil data faskes dan rujukan...");const[i,s]=await Promise.all([ra.get("http://localhost:3001/api/faskes",{headers:n}),ra.get("http://localhost:3001/api/rujukan",{headers:n})]);console.log("Berhasil mengambil ".concat(i.data.data.length," faskes")),console.log("Berhasil mengambil ".concat(s.data.data.length," rujukan")),t(i.data.data),a(s.data.data),h("")}catch(d){console.error("Error fetching map data:",d),d.response?401===d.response.status?h("Token tidak valid. Silakan login ulang."):404===d.response.status?h("Endpoint tidak ditemukan. Pastikan server berjalan."):h("Gagal memuat data peta: ".concat(d.response.data.message||"Server error")):d.request?h("Tidak dapat terhubung ke server. Pastikan backend berjalan di port 3001."):h("Gagal memuat data peta: ".concat(d.message))}finally{r(!1)}};if(s)return(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat peta..."})});const y=e.filter(e=>e.latitude&&e.longitude),_=(()=>{if(!c)return console.log("Garis rujukan disembunyikan"),[];const t=n.filter(e=>e.faskes_asal_id&&e.faskes_tujuan_id);return console.log("Menampilkan ".concat(t.length," garis rujukan")),t.map(t=>{const n=e.find(e=>e.id===t.faskes_asal_id),a=e.find(e=>e.id===t.faskes_tujuan_id);return null!==n&&void 0!==n&&n.latitude&&null!==n&&void 0!==n&&n.longitude&&null!==a&&void 0!==a&&a.latitude&&null!==a&&void 0!==a&&a.longitude?{id:t.id,positions:[[parseFloat(n.latitude),parseFloat(n.longitude)],[parseFloat(a.latitude),parseFloat(a.longitude)]],rujukan:t}:null}).filter(e=>null!==e)})();return(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"map-page",children:[(0,oa.jsxs)("div",{className:"map-header",children:[(0,oa.jsx)("h1",{children:"Peta Interaktif eSIR 2.0"}),(0,oa.jsxs)("div",{className:"map-controls",children:[(0,oa.jsxs)("div",{className:"connection-status",children:[(0,oa.jsx)("span",{className:"status-indicator ".concat(f?"connected":"disconnected"),children:f?"\ud83d\udfe2":"\ud83d\udd34"}),(0,oa.jsx)("span",{children:f?"Realtime Aktif":"Realtime Terputus"})]}),(0,oa.jsxs)("label",{className:"toggle-lines",children:[(0,oa.jsx)("input",{type:"checkbox",checked:c,onChange:e=>{console.log("Checkbox garis rujukan:",e.target.checked?"ON":"OFF"),u(e.target.checked)}}),"Tampilkan Garis Rujukan (",n.filter(e=>e.faskes_asal_id&&e.faskes_tujuan_id).length," rujukan)"]})]})]}),d&&(0,oa.jsx)("div",{className:"error-message",children:(0,oa.jsxs)("div",{className:"error-content",children:[(0,oa.jsx)("span",{children:d}),(0,oa.jsx)("button",{onClick:()=>{h(""),r(!0),v()},className:"retry-btn",children:"\ud83d\udd04 Coba Lagi"})]})}),(0,oa.jsx)("div",{className:"map-container",children:(0,oa.jsxs)(us,{ref:m,center:[-6.595,106.8166],zoom:10,style:{height:"600px",width:"100%"},children:[(0,oa.jsx)(bs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),y.map(e=>{return(0,oa.jsx)(Ns,{position:[parseFloat(e.latitude),parseFloat(e.longitude)],icon:(a=e.tipe,os().divIcon({className:"custom-marker",html:'<div style="\n      background-color: '.concat({RSUD:"#1976d2",Puskesmas:"#388e3c",Klinik:"#f57c00","RS Swasta":"#c2185b"}[a]||"#666",';\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      border: 2px solid white;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: white;\n      font-size: 10px;\n      font-weight: bold;\n    ">').concat(a.charAt(0),"</div>"),iconSize:[20,20],iconAnchor:[10,10]})),eventHandlers:{click:()=>(e=>{l(e)})(e)},children:(0,oa.jsx)(Ss,{children:(0,oa.jsxs)("div",{className:"faskes-popup",children:[(0,oa.jsx)("h3",{children:e.nama_faskes}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Tipe:"})," ",e.tipe]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Alamat:"})," ",e.alamat]}),e.telepon&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Telepon:"})," ",e.telepon]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Total Rujukan:"})," ",(t=e.id,n.filter(e=>e.faskes_asal_id===t||e.faskes_tujuan_id===t).length)]})]})})},e.id);var t,a}),_.length>0&&(0,oa.jsxs)("div",{style:{display:"none"},children:["Debug: Menampilkan ",_.length," garis rujukan"]}),_.map(e=>{return(0,oa.jsx)(Ps,{positions:e.positions,color:(t=e.rujukan.status,{pending:"#ffc107",diterima:"#28a745",ditolak:"#dc3545",selesai:"#17a2b8"}[t]||"#666"),weight:3,opacity:.7,children:(0,oa.jsx)(Ss,{children:(0,oa.jsxs)("div",{className:"rujukan-popup",children:[(0,oa.jsxs)("h4",{children:["Rujukan #",e.rujukan.nomor_rujukan]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"})," ",e.rujukan.status]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Diagnosa:"})," ",e.rujukan.diagnosa]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Tanggal:"})," ",new Date(e.rujukan.tanggal_rujukan).toLocaleDateString("id-ID")]})]})})},e.id);var t}),(0,oa.jsx)(Ts,{faskes:y})]})}),(0,oa.jsxs)("div",{className:"map-legend",children:[(0,oa.jsx)("h3",{children:"Legenda"}),(0,oa.jsxs)("div",{className:"legend-items",children:[(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-icon rsud"}),(0,oa.jsx)("span",{children:"RSUD"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-icon puskesmas"}),(0,oa.jsx)("span",{children:"Puskesmas"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-icon klinik"}),(0,oa.jsx)("span",{children:"Klinik"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-icon rs-swasta"}),(0,oa.jsx)("span",{children:"RS Swasta"})]})]}),(0,oa.jsx)("h4",{children:"Status Rujukan"}),(0,oa.jsxs)("div",{className:"legend-items",children:[(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-line pending"}),(0,oa.jsx)("span",{children:"Menunggu"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-line diterima"}),(0,oa.jsx)("span",{children:"Diterima"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-line ditolak"}),(0,oa.jsx)("span",{children:"Ditolak"})]}),(0,oa.jsxs)("div",{className:"legend-item",children:[(0,oa.jsx)("div",{className:"legend-line selesai"}),(0,oa.jsx)("span",{children:"Selesai"})]})]})]}),o&&(0,oa.jsxs)("div",{className:"faskes-details",children:[(0,oa.jsxs)("div",{className:"details-header",children:[(0,oa.jsx)("h3",{children:o.nama_faskes}),(0,oa.jsx)("button",{className:"close-btn",onClick:()=>l(null),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"details-content",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Tipe:"})," ",o.tipe]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Alamat:"})," ",o.alamat]}),o.telepon&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Telepon:"})," ",o.telepon]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Koordinat:"})," ",o.latitude,", ",o.longitude]}),(0,oa.jsx)("h4",{children:"Rujukan Terkait"}),(0,oa.jsx)("div",{className:"rujukan-list",children:n.filter(e=>e.faskes_asal_id===o.id||e.faskes_tujuan_id===o.id).slice(0,5).map(e=>(0,oa.jsxs)("div",{className:"rujukan-item",children:[(0,oa.jsx)("span",{className:"rujukan-number",children:e.nomor_rujukan}),(0,oa.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})]},e.id))})]})]})]})})},As=()=>{const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),[_,x]=(0,i.useState)(""),[b,k]=(0,i.useState)(""),[j,w]=(0,i.useState)(""),[N,S]=(0,i.useState)(""),C=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(e)},[i,s,o,c]=await Promise.all([ra.get("http://localhost:3001/api/tempat-tidur",{headers:n}),ra.get("http://localhost:3001/api/tempat-tidur/statistik",{headers:n}),ra.get("http://localhost:3001/api/faskes",{headers:n}),ra.get("http://localhost:3001/api/pasien",{headers:n})]);t(i.data.data),a(s.data.data),r(o.data.data),l(c.data.data)}catch(_){x("Gagal memuat data tempat tidur"),console.error("Error fetching data:",_)}finally{u(!1)}},[]);(0,i.useEffect)(()=>{C()},[C]);const P=e.filter(e=>{const t=!b||e.faskes_id===b,n=!j||e.status===j,a=!N||e.tipe_kamar===N;return t&&n&&a});return c?(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat data tempat tidur..."})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"tempat-tidur-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Manajemen Tempat Tidur"}),(0,oa.jsxs)("button",{className:"btn btn-primary",onClick:()=>{g({faskes_id:"",nomor_kamar:"",nomor_bed:"",tipe_kamar:"",catatan:""}),h(!0)},children:[(0,oa.jsx)("i",{className:"icon",children:"\u2795"}),"Tambah Tempat Tidur"]})]}),_&&(0,oa.jsxs)("div",{className:"error-message",children:[_,(0,oa.jsx)("button",{onClick:()=>x(""),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"statistik-section",children:[(0,oa.jsx)("h2",{children:"Statistik Ketersediaan Tempat Tidur"}),(0,oa.jsx)("div",{className:"statistik-grid",children:n.map(e=>(0,oa.jsxs)("div",{className:"statistik-card",children:[(0,oa.jsx)("h3",{children:e.nama_faskes}),(0,oa.jsxs)("div",{className:"statistik-details",children:[(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Total:"}),(0,oa.jsx)("span",{className:"value",children:e.total_bed})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Tersedia:"}),(0,oa.jsx)("span",{className:"value success",children:e.tersedia})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Terisi:"}),(0,oa.jsx)("span",{className:"value danger",children:e.terisi})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Maintenance:"}),(0,oa.jsx)("span",{className:"value warning",children:e.maintenance})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Reserved:"}),(0,oa.jsx)("span",{className:"value info",children:e.reserved})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("span",{className:"label",children:"Persentase Tersedia:"}),(0,oa.jsxs)("span",{className:"value",children:[e.persentase_tersedia,"%"]})]})]})]},e.nama_faskes))})]}),(0,oa.jsxs)("div",{className:"filter-section",children:[(0,oa.jsx)("h2",{children:"Daftar Tempat Tidur"}),(0,oa.jsxs)("div",{className:"filter-controls",children:[(0,oa.jsxs)("select",{value:b,onChange:e=>k(e.target.value),className:"filter-select",children:[(0,oa.jsx)("option",{value:"",children:"Semua Faskes"}),s.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.nama_faskes},e.id))]}),(0,oa.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"filter-select",children:[(0,oa.jsx)("option",{value:"",children:"Semua Status"}),(0,oa.jsx)("option",{value:"tersedia",children:"Tersedia"}),(0,oa.jsx)("option",{value:"terisi",children:"Terisi"}),(0,oa.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,oa.jsx)("option",{value:"reserved",children:"Reserved"})]}),(0,oa.jsxs)("select",{value:N,onChange:e=>S(e.target.value),className:"filter-select",children:[(0,oa.jsx)("option",{value:"",children:"Semua Tipe"}),(0,oa.jsx)("option",{value:"VIP",children:"VIP"}),(0,oa.jsx)("option",{value:"Kelas 1",children:"Kelas 1"}),(0,oa.jsx)("option",{value:"Kelas 2",children:"Kelas 2"}),(0,oa.jsx)("option",{value:"Kelas 3",children:"Kelas 3"}),(0,oa.jsx)("option",{value:"ICU",children:"ICU"}),(0,oa.jsx)("option",{value:"NICU",children:"NICU"}),(0,oa.jsx)("option",{value:"PICU",children:"PICU"})]})]})]}),(0,oa.jsx)("div",{className:"table-container",children:(0,oa.jsxs)("table",{className:"data-table",children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Faskes"}),(0,oa.jsx)("th",{children:"Kamar"}),(0,oa.jsx)("th",{children:"Bed"}),(0,oa.jsx)("th",{children:"Tipe"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Pasien"}),(0,oa.jsx)("th",{children:"Tanggal Masuk"}),(0,oa.jsx)("th",{children:"Catatan"}),(0,oa.jsx)("th",{children:"Aksi"})]})}),(0,oa.jsx)("tbody",{children:P.map(e=>{return(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.nama_faskes}),(0,oa.jsx)("td",{children:e.nomor_kamar}),(0,oa.jsx)("td",{children:e.nomor_bed}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"badge ".concat((n=e.tipe_kamar,{VIP:"badge-vip","Kelas 1":"badge-kelas1","Kelas 2":"badge-kelas2","Kelas 3":"badge-kelas3",ICU:"badge-icu",NICU:"badge-nicu",PICU:"badge-picu"}[n]||"badge-secondary")),children:e.tipe_kamar})}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"badge ".concat((t=e.status,{tersedia:"badge-success",terisi:"badge-danger",maintenance:"badge-warning",reserved:"badge-info"}[t]||"badge-secondary")),children:e.status})}),(0,oa.jsx)("td",{children:e.pasien_id?(0,oa.jsxs)("div",{children:[(0,oa.jsx)("div",{children:e.nama_pasien}),(0,oa.jsx)("small",{children:e.no_rm})]}):"-"}),(0,oa.jsx)("td",{children:e.tanggal_masuk?new Date(e.tanggal_masuk).toLocaleDateString("id-ID"):"-"}),(0,oa.jsx)("td",{children:e.catatan||"-"}),(0,oa.jsx)("td",{children:(0,oa.jsxs)("div",{className:"action-buttons",children:[(0,oa.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>(e=>{y({id:e.id,status:e.status,pasien_id:e.pasien_id||"",tanggal_masuk:e.tanggal_masuk||"",catatan:e.catatan||""}),f(!0)})(e),title:"Update Status",children:"\ud83d\udd04"}),(0,oa.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>(e=>{g({id:e.id,faskes_id:e.faskes_id,nomor_kamar:e.nomor_kamar,nomor_bed:e.nomor_bed,tipe_kamar:e.tipe_kamar,catatan:e.catatan}),h(!0)})(e),title:"Edit",children:"\u270f\ufe0f"}),(0,oa.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus tempat tidur ini?"))try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};await ra.delete("http://localhost:3001/api/tempat-tidur/".concat(e),{headers:n}),C()}catch(_){var t,n;x((null===(t=_.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal menghapus data")}})(e.id),title:"Hapus",disabled:"terisi"===e.status,children:"\ud83d\uddd1\ufe0f"})]})})]},e.id);var t,n})})]})}),d&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h3",{children:m.id?"Edit Tempat Tidur":"Tambah Tempat Tidur"}),(0,oa.jsx)("button",{onClick:()=>h(!1),children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};m.id?await ra.put("http://localhost:3001/api/tempat-tidur/".concat(m.id),m,{headers:t}):await ra.post("http://localhost:3001/api/tempat-tidur",m,{headers:t}),h(!1),g(null),C()}catch(_){var t,n;x((null===(t=_.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal menyimpan data")}},children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Faskes *"}),(0,oa.jsxs)("select",{value:m.faskes_id,onChange:e=>g((0,It.A)((0,It.A)({},m),{},{faskes_id:e.target.value})),required:!0,disabled:!!m.id,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Faskes"}),s.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.nama_faskes},e.id))]})]}),(0,oa.jsxs)("div",{className:"form-row",children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nomor Kamar *"}),(0,oa.jsx)("input",{type:"text",value:m.nomor_kamar,onChange:e=>g((0,It.A)((0,It.A)({},m),{},{nomor_kamar:e.target.value})),required:!0})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Nomor Bed *"}),(0,oa.jsx)("input",{type:"text",value:m.nomor_bed,onChange:e=>g((0,It.A)((0,It.A)({},m),{},{nomor_bed:e.target.value})),required:!0})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Tipe Kamar *"}),(0,oa.jsxs)("select",{value:m.tipe_kamar,onChange:e=>g((0,It.A)((0,It.A)({},m),{},{tipe_kamar:e.target.value})),required:!0,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Tipe"}),(0,oa.jsx)("option",{value:"VIP",children:"VIP"}),(0,oa.jsx)("option",{value:"Kelas 1",children:"Kelas 1"}),(0,oa.jsx)("option",{value:"Kelas 2",children:"Kelas 2"}),(0,oa.jsx)("option",{value:"Kelas 3",children:"Kelas 3"}),(0,oa.jsx)("option",{value:"ICU",children:"ICU"}),(0,oa.jsx)("option",{value:"NICU",children:"NICU"}),(0,oa.jsx)("option",{value:"PICU",children:"PICU"})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Catatan"}),(0,oa.jsx)("textarea",{value:m.catatan,onChange:e=>g((0,It.A)((0,It.A)({},m),{},{catatan:e.target.value})),rows:"3"})]}),(0,oa.jsxs)("div",{className:"modal-actions",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>h(!1),children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:m.id?"Update":"Simpan"})]})]})]})}),p&&(0,oa.jsx)("div",{className:"modal-overlay",children:(0,oa.jsxs)("div",{className:"modal",children:[(0,oa.jsxs)("div",{className:"modal-header",children:[(0,oa.jsx)("h3",{children:"Update Status Tempat Tidur"}),(0,oa.jsx)("button",{onClick:()=>f(!1),children:"\xd7"})]}),(0,oa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};await ra.put("http://localhost:3001/api/tempat-tidur/".concat(v.id,"/status"),v,{headers:t}),f(!1),y(null),C()}catch(_){var t,n;x((null===(t=_.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal mengupdate status")}},children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Status *"}),(0,oa.jsxs)("select",{value:v.status,onChange:e=>y((0,It.A)((0,It.A)({},v),{},{status:e.target.value})),required:!0,children:[(0,oa.jsx)("option",{value:"",children:"Pilih Status"}),(0,oa.jsx)("option",{value:"tersedia",children:"Tersedia"}),(0,oa.jsx)("option",{value:"terisi",children:"Terisi"}),(0,oa.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,oa.jsx)("option",{value:"reserved",children:"Reserved"})]})]}),"terisi"===v.status&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Pasien"}),(0,oa.jsxs)("select",{value:v.pasien_id,onChange:e=>y((0,It.A)((0,It.A)({},v),{},{pasien_id:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Pilih Pasien"}),o.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.nama_pasien," - ",e.no_rm]},e.id))]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Tanggal Masuk"}),(0,oa.jsx)("input",{type:"datetime-local",value:v.tanggal_masuk?v.tanggal_masuk.slice(0,16):"",onChange:e=>y((0,It.A)((0,It.A)({},v),{},{tanggal_masuk:e.target.value}))})]})]}),(0,oa.jsxs)("div",{className:"form-group",children:[(0,oa.jsx)("label",{children:"Catatan"}),(0,oa.jsx)("textarea",{value:v.catatan,onChange:e=>y((0,It.A)((0,It.A)({},v),{},{catatan:e.target.value})),rows:"3"})]}),(0,oa.jsxs)("div",{className:"modal-actions",children:[(0,oa.jsx)("button",{type:"button",onClick:()=>f(!1),children:"Batal"}),(0,oa.jsx)("button",{type:"submit",className:"btn-primary",children:"Update Status"})]})]})]})})]})})},Ls=()=>{const[e,t]=(0,i.useState)("overview"),[n,a]=(0,i.useState)(!0),[s,r]=(0,i.useState)(""),[o,l]=(0,i.useState)({startDate:"",endDate:"",faskesId:"",status:""}),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)({}),p=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},n=await ra.get("http://localhost:3001/api/faskes",{headers:t});u(n.data.data)}catch(s){console.error("Error fetching faskes:",s)}},[]),f=(0,i.useCallback)(async()=>{a(!0);try{let t="",n={};switch(e){case"overview":t="/api/laporan/dashboard-overview";break;case"rujukan":t="/api/laporan/rujukan-statistik",n=o;break;case"bed":t="/api/laporan/bed-statistik",n={faskesId:o.faskesId};break;case"pasien":t="/api/laporan/pasien-statistik",n={startDate:o.startDate,endDate:o.endDate}}const a=localStorage.getItem("token"),i={Authorization:"Bearer ".concat(a)},s=await ra.get("http://localhost:3001".concat(t),{params:n,headers:i});h(s.data.data)}catch(s){r("Gagal memuat data laporan"),console.error("Error fetching data:",s)}finally{a(!1)}},[e,o]);(0,i.useEffect)(()=>{p(),f()},[p,f]);const m=async e=>{try{const t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)},a=await ra.get("http://localhost:3001/api/laporan/export/".concat(e),{params:o,headers:n}),i=new Blob([JSON.stringify(a.data.data.data,null,2)],{type:"application/json"}),s=window.URL.createObjectURL(i),r=document.createElement("a");r.href=s,r.download=a.data.data.filename,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(s),document.body.removeChild(r)}catch(s){r("Gagal mengekspor data"),console.error("Error exporting data:",s)}},g=e=>new Intl.NumberFormat("id-ID").format(e),v=e=>"".concat(e||0,"%");return n?(0,oa.jsx)(Gi,{children:(0,oa.jsx)("div",{className:"loading",children:"Memuat data laporan..."})}):(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"laporan-page",children:[(0,oa.jsxs)("div",{className:"page-header",children:[(0,oa.jsx)("h1",{children:"Laporan dan Statistik"}),(0,oa.jsxs)("div",{className:"export-buttons",children:[(0,oa.jsx)("button",{onClick:()=>m("rujukan"),className:"btn btn-outline",children:"\ud83d\udcca Export Rujukan"}),(0,oa.jsx)("button",{onClick:()=>m("pasien"),className:"btn btn-outline",children:"\ud83d\udc65 Export Pasien"}),(0,oa.jsx)("button",{onClick:()=>m("tempat-tidur"),className:"btn btn-outline",children:"\ud83d\udecf\ufe0f Export Tempat Tidur"})]})]}),s&&(0,oa.jsxs)("div",{className:"error-message",children:[s,(0,oa.jsx)("button",{onClick:()=>r(""),children:"\xd7"})]}),(0,oa.jsxs)("div",{className:"filters-section",children:[(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsx)("label",{children:"Tanggal Mulai"}),(0,oa.jsx)("input",{type:"date",value:o.startDate,onChange:e=>l((0,It.A)((0,It.A)({},o),{},{startDate:e.target.value}))})]}),(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsx)("label",{children:"Tanggal Akhir"}),(0,oa.jsx)("input",{type:"date",value:o.endDate,onChange:e=>l((0,It.A)((0,It.A)({},o),{},{endDate:e.target.value}))})]}),(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsx)("label",{children:"Faskes"}),(0,oa.jsxs)("select",{value:o.faskesId,onChange:e=>l((0,It.A)((0,It.A)({},o),{},{faskesId:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua Faskes"}),c.map(e=>(0,oa.jsx)("option",{value:e.id,children:e.nama_faskes},e.id))]})]}),(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsx)("label",{children:"Status"}),(0,oa.jsxs)("select",{value:o.status,onChange:e=>l((0,It.A)((0,It.A)({},o),{},{status:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua Status"}),(0,oa.jsx)("option",{value:"pending",children:"Menunggu"}),(0,oa.jsx)("option",{value:"diterima",children:"Diterima"}),(0,oa.jsx)("option",{value:"ditolak",children:"Ditolak"}),(0,oa.jsx)("option",{value:"selesai",children:"Selesai"})]})]})]}),(0,oa.jsxs)("div",{className:"tabs",children:[(0,oa.jsx)("button",{className:"tab ".concat("overview"===e?"active":""),onClick:()=>t("overview"),children:"\ud83d\udcca Overview"}),(0,oa.jsx)("button",{className:"tab ".concat("rujukan"===e?"active":""),onClick:()=>t("rujukan"),children:"\ud83d\udccb Statistik Rujukan"}),(0,oa.jsx)("button",{className:"tab ".concat("bed"===e?"active":""),onClick:()=>t("bed"),children:"\ud83d\udecf\ufe0f Statistik Tempat Tidur"}),(0,oa.jsx)("button",{className:"tab ".concat("pasien"===e?"active":""),onClick:()=>t("pasien"),children:"\ud83d\udc65 Statistik Pasien"})]}),(0,oa.jsxs)("div",{className:"content-section",children:["overview"===e&&(()=>{var e;if(!d.overview)return null;const{overview:t,monthlyTrends:n,topFaskes:a,bedUtilization:i}=d;return(0,oa.jsxs)("div",{className:"overview-section",children:[(0,oa.jsxs)("div",{className:"metrics-grid",children:[(0,oa.jsxs)("div",{className:"metric-card",children:[(0,oa.jsx)("div",{className:"metric-icon",children:"\ud83d\udcca"}),(0,oa.jsxs)("div",{className:"metric-content",children:[(0,oa.jsx)("h3",{children:"Total Rujukan"}),(0,oa.jsx)("div",{className:"metric-value",children:g(t.total_rujukan)})]})]}),(0,oa.jsxs)("div",{className:"metric-card",children:[(0,oa.jsx)("div",{className:"metric-icon",children:"\u2705"}),(0,oa.jsxs)("div",{className:"metric-content",children:[(0,oa.jsx)("h3",{children:"Diterima"}),(0,oa.jsx)("div",{className:"metric-value",children:g(t.diterima)}),(0,oa.jsx)("div",{className:"metric-rate",children:v(t.acceptance_rate)})]})]}),(0,oa.jsxs)("div",{className:"metric-card",children:[(0,oa.jsx)("div",{className:"metric-icon",children:"\u23f3"}),(0,oa.jsxs)("div",{className:"metric-content",children:[(0,oa.jsx)("h3",{children:"Menunggu"}),(0,oa.jsx)("div",{className:"metric-value",children:g(t.pending)})]})]}),(0,oa.jsxs)("div",{className:"metric-card",children:[(0,oa.jsx)("div",{className:"metric-icon",children:"\ud83d\udecf\ufe0f"}),(0,oa.jsxs)("div",{className:"metric-content",children:[(0,oa.jsx)("h3",{children:"Utilisasi Tempat Tidur"}),(0,oa.jsx)("div",{className:"metric-value",children:null!==i&&void 0!==i&&null!==(e=i[0])&&void 0!==e&&e.utilization_rate?v(i[0].utilization_rate):"N/A"})]})]})]}),n&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Trend Bulanan"}),(0,oa.jsx)("div",{className:"trend-chart",children:n.map((e,t)=>(0,oa.jsxs)("div",{className:"trend-bar",children:[(0,oa.jsx)("div",{className:"trend-label",children:e.bulan}),(0,oa.jsxs)("div",{className:"trend-bars",children:[(0,oa.jsx)("div",{className:"trend-bar-accepted",style:{width:"".concat(e.diterima/Math.max(...n.map(e=>e.total))*100,"%")},children:e.diterima}),(0,oa.jsx)("div",{className:"trend-bar-rejected",style:{width:"".concat(e.ditolak/Math.max(...n.map(e=>e.total))*100,"%")},children:e.ditolak})]})]},t))})]}),a&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Top 5 Faskes"}),(0,oa.jsx)("div",{className:"faskes-list",children:a.map((e,t)=>(0,oa.jsxs)("div",{className:"faskes-item",children:[(0,oa.jsxs)("div",{className:"faskes-rank",children:["#",t+1]}),(0,oa.jsxs)("div",{className:"faskes-info",children:[(0,oa.jsx)("div",{className:"faskes-name",children:e.nama_faskes}),(0,oa.jsxs)("div",{className:"faskes-stats",children:[(0,oa.jsxs)("span",{children:["Total: ",e.total_rujukan]}),(0,oa.jsxs)("span",{children:["Diterima: ",e.diterima]}),(0,oa.jsxs)("span",{children:["Ditolak: ",e.ditolak]})]})]})]},t))})]})]})})(),"rujukan"===e&&(()=>{if(!d.statistik)return null;const{statistik:e,dailyTrends:t,faskesPerformance:n}=d;return(0,oa.jsxs)("div",{className:"rujukan-stats",children:[(0,oa.jsxs)("div",{className:"stats-overview",children:[(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Total Rujukan"}),(0,oa.jsx)("span",{children:g(e.total_rujukan)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Rate Penerimaan"}),(0,oa.jsx)("span",{children:v(e.acceptance_rate)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Rate Penyelesaian"}),(0,oa.jsx)("span",{children:v(e.completion_rate)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Rata-rata Waktu Respon"}),(0,oa.jsx)("span",{children:e.avg_response_time_hours?"".concat(Math.round(e.avg_response_time_hours)," jam"):"N/A"})]})]}),t&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Trend Harian (30 Hari Terakhir)"}),(0,oa.jsx)("div",{className:"daily-chart",children:t.slice(0,7).map((e,t)=>{return(0,oa.jsxs)("div",{className:"daily-bar",children:[(0,oa.jsx)("div",{className:"daily-label",children:(n=e.tanggal,new Date(n).toLocaleDateString("id-ID"))}),(0,oa.jsx)("div",{className:"daily-value",children:e.total})]},t);var n})})]}),n&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Performa Faskes"}),(0,oa.jsx)("div",{className:"performance-table",children:(0,oa.jsxs)("table",{children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Faskes"}),(0,oa.jsx)("th",{children:"Total"}),(0,oa.jsx)("th",{children:"Diterima"}),(0,oa.jsx)("th",{children:"Ditolak"}),(0,oa.jsx)("th",{children:"Rate Penerimaan"}),(0,oa.jsx)("th",{children:"Waktu Respon (jam)"})]})}),(0,oa.jsx)("tbody",{children:n.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.nama_faskes}),(0,oa.jsx)("td",{children:e.total_rujukan}),(0,oa.jsx)("td",{children:e.diterima}),(0,oa.jsx)("td",{children:e.ditolak}),(0,oa.jsx)("td",{children:v(e.acceptance_rate)}),(0,oa.jsx)("td",{children:e.avg_response_time_hours?Math.round(e.avg_response_time_hours):"N/A"})]},t))})]})})]})]})})(),"bed"===e&&(()=>{if(!d.overview)return null;const{overview:e,bedByType:t,faskesBedSummary:n}=d;return(0,oa.jsxs)("div",{className:"bed-stats",children:[(0,oa.jsxs)("div",{className:"stats-overview",children:[(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Total Tempat Tidur"}),(0,oa.jsx)("span",{children:g(e.total_bed)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Tersedia"}),(0,oa.jsx)("span",{children:g(e.tersedia)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Terisi"}),(0,oa.jsx)("span",{children:g(e.terisi)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Rate Ketersediaan"}),(0,oa.jsx)("span",{children:v(e.availability_rate)})]})]}),t&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Ketersediaan berdasarkan Tipe"}),(0,oa.jsx)("div",{className:"bed-type-chart",children:t.map((e,t)=>(0,oa.jsxs)("div",{className:"bed-type-item",children:[(0,oa.jsxs)("div",{className:"bed-type-header",children:[(0,oa.jsx)("span",{className:"bed-type-name",children:e.tipe_kamar}),(0,oa.jsx)("span",{className:"bed-type-total",children:e.total})]}),(0,oa.jsxs)("div",{className:"bed-type-bars",children:[(0,oa.jsx)("div",{className:"bed-bar-available",style:{width:"".concat(e.tersedia/e.total*100,"%")},children:e.tersedia}),(0,oa.jsx)("div",{className:"bed-bar-occupied",style:{width:"".concat(e.terisi/e.total*100,"%")},children:e.terisi}),(0,oa.jsx)("div",{className:"bed-bar-maintenance",style:{width:"".concat(e.maintenance/e.total*100,"%")},children:e.maintenance})]})]},t))})]}),n&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Ringkasan per Faskes"}),(0,oa.jsx)("div",{className:"faskes-bed-table",children:(0,oa.jsxs)("table",{children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("th",{children:"Faskes"}),(0,oa.jsx)("th",{children:"Total"}),(0,oa.jsx)("th",{children:"Tersedia"}),(0,oa.jsx)("th",{children:"Terisi"}),(0,oa.jsx)("th",{children:"Rate Ketersediaan"}),(0,oa.jsx)("th",{children:"Rate Utilisasi"})]})}),(0,oa.jsx)("tbody",{children:n.map((e,t)=>(0,oa.jsxs)("tr",{children:[(0,oa.jsx)("td",{children:e.nama_faskes}),(0,oa.jsx)("td",{children:e.total_bed}),(0,oa.jsx)("td",{children:e.tersedia}),(0,oa.jsx)("td",{children:e.terisi}),(0,oa.jsx)("td",{children:v(e.availability_rate)}),(0,oa.jsx)("td",{children:v(e.utilization_rate)})]},t))})]})})]})]})})(),"pasien"===e&&(()=>{if(!d.overview)return null;const{overview:e,ageDistribution:t,monthlyRegistration:n,topPatients:a}=d;return(0,oa.jsxs)("div",{className:"pasien-stats",children:[(0,oa.jsxs)("div",{className:"stats-overview",children:[(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Total Pasien"}),(0,oa.jsx)("span",{children:g(e.total_pasien)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Laki-laki"}),(0,oa.jsx)("span",{children:g(e.laki_laki)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Perempuan"}),(0,oa.jsx)("span",{children:g(e.perempuan)})]}),(0,oa.jsxs)("div",{className:"stat-item",children:[(0,oa.jsx)("label",{children:"Rata-rata Usia"}),(0,oa.jsxs)("span",{children:[e.avg_age?Math.round(e.avg_age):"N/A"," tahun"]})]})]}),t&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Distribusi Usia"}),(0,oa.jsx)("div",{className:"age-distribution",children:t.map((e,n)=>(0,oa.jsxs)("div",{className:"age-item",children:[(0,oa.jsx)("div",{className:"age-label",children:e.age_group}),(0,oa.jsx)("div",{className:"age-bar",children:(0,oa.jsx)("div",{className:"age-bar-fill",style:{width:"".concat(e.total/Math.max(...t.map(e=>e.total))*100,"%")},children:e.total})})]},n))})]}),n&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Registrasi Bulanan"}),(0,oa.jsx)("div",{className:"registration-chart",children:n.slice(0,6).map((e,t)=>(0,oa.jsxs)("div",{className:"registration-bar",children:[(0,oa.jsx)("div",{className:"registration-label",children:e.bulan}),(0,oa.jsx)("div",{className:"registration-value",children:e.total_pasien})]},t))})]}),a&&(0,oa.jsxs)("div",{className:"chart-section",children:[(0,oa.jsx)("h3",{children:"Pasien dengan Rujukan Terbanyak"}),(0,oa.jsx)("div",{className:"top-patients",children:a.map((e,t)=>(0,oa.jsxs)("div",{className:"patient-item",children:[(0,oa.jsxs)("div",{className:"patient-rank",children:["#",t+1]}),(0,oa.jsxs)("div",{className:"patient-info",children:[(0,oa.jsx)("div",{className:"patient-name",children:e.nama_pasien}),(0,oa.jsx)("div",{className:"patient-rm",children:e.no_rm})]}),(0,oa.jsxs)("div",{className:"patient-stats",children:[(0,oa.jsxs)("span",{children:["Total: ",e.total_rujukan]}),(0,oa.jsxs)("span",{children:["Diterima: ",e.diterima]}),(0,oa.jsxs)("span",{children:["Ditolak: ",e.ditolak]})]})]},t))})]})]})})()]})]})})},Os=()=>{const[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)("global"),[s,r]=(0,i.useState)({}),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)("global"),[d,h]=(0,i.useState)({jenis_kelamin:"",usia_min:"",usia_max:"",alamat:"",status:"",faskes_asal:"",faskes_tujuan:"",tanggal_mulai:"",tanggal_akhir:"",diagnosa:"",tipe_kamar:"",tersedia:""}),[p,f]=(0,i.useState)({sort_by:"nama_pasien",sort_order:"ASC",page:1,limit:20}),m=()=>{"global"===c?(async()=>{if(!e.trim()||e.length<2)alert("Query minimal 2 karakter");else{l(!0);try{const t=await fetch("/api/search/global?query=".concat(encodeURIComponent(e),"&type=").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),a=await t.json();a.success?r(a.data):alert(a.message||"Gagal melakukan pencarian")}catch(t){console.error("Error searching:",t),alert("Terjadi kesalahan saat melakukan pencarian")}finally{l(!1)}}})():(async()=>{l(!0);try{const t=new URLSearchParams;e&&t.append("query",e),Object.keys(d).forEach(e=>{d[e]&&t.append(e,d[e])}),Object.keys(p).forEach(e=>{t.append(e,p[e])});const n=await fetch("/api/search/".concat(c,"?").concat(t.toString()),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),a=await n.json();a.success?r(a.data):alert(a.message||"Gagal melakukan pencarian")}catch(t){console.error("Error advanced searching:",t),alert("Terjadi kesalahan saat melakukan pencarian")}finally{l(!1)}})()},g=()=>{h({jenis_kelamin:"",usia_min:"",usia_max:"",alamat:"",status:"",faskes_asal:"",faskes_tujuan:"",tanggal_mulai:"",tanggal_akhir:"",diagnosa:"",tipe_kamar:"",tersedia:""}),f({sort_by:"nama_pasien",sort_order:"ASC",page:1,limit:20})};return(0,oa.jsxs)("div",{className:"search-page",children:[(0,oa.jsxs)("div",{className:"search-header",children:[(0,oa.jsx)("h1",{children:"\ud83d\udd0d Pencarian"}),(0,oa.jsx)("p",{children:"Cari data pasien, rujukan, faskes, dan tempat tidur dengan mudah"})]}),(0,oa.jsxs)("div",{className:"search-container",children:[(0,oa.jsxs)("div",{className:"search-tabs",children:[(0,oa.jsx)("button",{className:"tab ".concat("global"===c?"active":""),onClick:()=>u("global"),children:"Pencarian Global"}),(0,oa.jsx)("button",{className:"tab ".concat("pasien"===c?"active":""),onClick:()=>u("pasien"),children:"Pencarian Pasien"}),(0,oa.jsx)("button",{className:"tab ".concat("rujukan"===c?"active":""),onClick:()=>u("rujukan"),children:"Pencarian Rujukan"}),(0,oa.jsx)("button",{className:"tab ".concat("tempat-tidur"===c?"active":""),onClick:()=>u("tempat-tidur"),children:"Pencarian Tempat Tidur"})]}),(0,oa.jsx)("div",{className:"search-input-section",children:(0,oa.jsxs)("div",{className:"search-input-group",children:[(0,oa.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"===e.key&&m()},placeholder:"global"===c?"Cari pasien, rujukan, faskes, atau tempat tidur...":"pasien"===c?"Cari berdasarkan nama, no. RM, atau NIK...":"rujukan"===c?"Cari berdasarkan no. rujukan, diagnosa, atau nama pasien...":"Cari berdasarkan nomor kamar, bed, atau nama faskes...",className:"search-input"}),"global"===c&&(0,oa.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"search-type-select",children:[(0,oa.jsx)("option",{value:"global",children:"Semua"}),(0,oa.jsx)("option",{value:"pasien",children:"Pasien"}),(0,oa.jsx)("option",{value:"rujukan",children:"Rujukan"}),(0,oa.jsx)("option",{value:"faskes",children:"Faskes"}),(0,oa.jsx)("option",{value:"tempat-tidur",children:"Tempat Tidur"})]}),(0,oa.jsx)("button",{onClick:m,disabled:o,className:"search-btn",children:o?"\ud83d\udd0d Mencari...":"\ud83d\udd0d Cari"})]})}),"global"===c?null:(0,oa.jsxs)("div",{className:"search-filters",children:[(0,oa.jsx)("h4",{children:"Filter Pencarian"}),"pasien"===c&&(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsxs)("div",{className:"filter-row",children:[(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Jenis Kelamin:"}),(0,oa.jsxs)("select",{value:d.jenis_kelamin,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{jenis_kelamin:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua"}),(0,oa.jsx)("option",{value:"L",children:"Laki-laki"}),(0,oa.jsx)("option",{value:"P",children:"Perempuan"})]})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Usia Min:"}),(0,oa.jsx)("input",{type:"number",value:d.usia_min,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{usia_min:e.target.value})),placeholder:"0"})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Usia Max:"}),(0,oa.jsx)("input",{type:"number",value:d.usia_max,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{usia_max:e.target.value})),placeholder:"100"})]})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Alamat:"}),(0,oa.jsx)("input",{type:"text",value:d.alamat,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{alamat:e.target.value})),placeholder:"Masukkan alamat"})]})]}),"rujukan"===c&&(0,oa.jsxs)("div",{className:"filter-group",children:[(0,oa.jsxs)("div",{className:"filter-row",children:[(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Status:"}),(0,oa.jsxs)("select",{value:d.status,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{status:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua"}),(0,oa.jsx)("option",{value:"pending",children:"Pending"}),(0,oa.jsx)("option",{value:"diterima",children:"Diterima"}),(0,oa.jsx)("option",{value:"ditolak",children:"Ditolak"}),(0,oa.jsx)("option",{value:"selesai",children:"Selesai"})]})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Faskes Asal:"}),(0,oa.jsx)("input",{type:"text",value:d.faskes_asal,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{faskes_asal:e.target.value})),placeholder:"Nama faskes asal"})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Faskes Tujuan:"}),(0,oa.jsx)("input",{type:"text",value:d.faskes_tujuan,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{faskes_tujuan:e.target.value})),placeholder:"Nama faskes tujuan"})]})]}),(0,oa.jsxs)("div",{className:"filter-row",children:[(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Tanggal Mulai:"}),(0,oa.jsx)("input",{type:"date",value:d.tanggal_mulai,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{tanggal_mulai:e.target.value}))})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Tanggal Akhir:"}),(0,oa.jsx)("input",{type:"date",value:d.tanggal_akhir,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{tanggal_akhir:e.target.value}))})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Diagnosa:"}),(0,oa.jsx)("input",{type:"text",value:d.diagnosa,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{diagnosa:e.target.value})),placeholder:"Masukkan diagnosa"})]})]})]}),"tempat-tidur"===c&&(0,oa.jsx)("div",{className:"filter-group",children:(0,oa.jsxs)("div",{className:"filter-row",children:[(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Status:"}),(0,oa.jsxs)("select",{value:d.status,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{status:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua"}),(0,oa.jsx)("option",{value:"tersedia",children:"Tersedia"}),(0,oa.jsx)("option",{value:"terisi",children:"Terisi"}),(0,oa.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,oa.jsx)("option",{value:"reserved",children:"Reserved"})]})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Tipe Kamar:"}),(0,oa.jsxs)("select",{value:d.tipe_kamar,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{tipe_kamar:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua"}),(0,oa.jsx)("option",{value:"VIP",children:"VIP"}),(0,oa.jsx)("option",{value:"Kelas 1",children:"Kelas 1"}),(0,oa.jsx)("option",{value:"Kelas 2",children:"Kelas 2"}),(0,oa.jsx)("option",{value:"Kelas 3",children:"Kelas 3"}),(0,oa.jsx)("option",{value:"ICU",children:"ICU"}),(0,oa.jsx)("option",{value:"NICU",children:"NICU"}),(0,oa.jsx)("option",{value:"PICU",children:"PICU"})]})]}),(0,oa.jsxs)("div",{className:"filter-item",children:[(0,oa.jsx)("label",{children:"Tersedia:"}),(0,oa.jsxs)("select",{value:d.tersedia,onChange:e=>h(t=>(0,It.A)((0,It.A)({},t),{},{tersedia:e.target.value})),children:[(0,oa.jsx)("option",{value:"",children:"Semua"}),(0,oa.jsx)("option",{value:"true",children:"Ya"}),(0,oa.jsx)("option",{value:"false",children:"Tidak"})]})]})]})}),(0,oa.jsx)("div",{className:"filter-actions",children:(0,oa.jsx)("button",{onClick:g,className:"clear-filters-btn",children:"Bersihkan Filter"})})]}),Object.keys(s).length>0&&("global"===c?(()=>{const e=Object.values(s).reduce((e,t)=>e+t.length,0);return(0,oa.jsxs)("div",{className:"search-results",children:[(0,oa.jsxs)("div",{className:"results-header",children:[(0,oa.jsx)("h3",{children:"Hasil Pencarian Global"}),(0,oa.jsxs)("span",{className:"results-count",children:[e," hasil ditemukan"]})]}),Object.keys(s).map(e=>{const t=s[e];return 0===t.length?null:(0,oa.jsxs)("div",{className:"entity-results",children:[(0,oa.jsxs)("h4",{className:"entity-title",children:["pasien"===e&&"\ud83d\udc65 Pasien","rujukan"===e&&"\ud83d\udccb Rujukan","faskes"===e&&"\ud83c\udfe5 Fasilitas Kesehatan","tempat_tidur"===e&&"\ud83d\udecf\ufe0f Tempat Tidur"]}),(0,oa.jsx)("div",{className:"results-grid",children:t.map((t,n)=>(0,oa.jsxs)("div",{className:"result-card",children:["pasien"===e&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("h5",{children:t.nama_pasien}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"No. RM:"})," ",t.no_rm]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"NIK:"})," ",t.nik]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Alamat:"})," ",t.alamat]})]}),"rujukan"===e&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("h5",{children:t.nomor_rujukan}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Pasien:"})," ",t.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Diagnosa:"})," ",t.diagnosa]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"})," ",(0,oa.jsx)("span",{className:"status-".concat(t.status),children:t.status})]})]}),"faskes"===e&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("h5",{children:t.nama_faskes}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Tipe:"})," ",t.tipe_faskes]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Alamat:"})," ",t.alamat]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Telepon:"})," ",t.telepon]})]}),"tempat_tidur"===e&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsxs)("h5",{children:["Kamar ",t.nomor_kamar," - Bed ",t.nomor_bed]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Faskes:"})," ",t.nama_faskes]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Tipe:"})," ",t.tipe_kamar]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"})," ",(0,oa.jsx)("span",{className:"status-".concat(t.status),children:t.status})]})]})]},n))})]},e)})]})})():(()=>{const e=s.patients||s.referrals||s.beds,t=s.pagination;return e?(0,oa.jsxs)("div",{className:"search-results",children:[(0,oa.jsxs)("div",{className:"results-header",children:[(0,oa.jsx)("h3",{children:"Hasil Pencarian Lanjutan"}),t&&(0,oa.jsxs)("span",{className:"results-count",children:[t.total," hasil (halaman ",t.page," dari ",t.total_pages,")"]})]}),(0,oa.jsx)("div",{className:"results-table",children:(0,oa.jsxs)("table",{children:[(0,oa.jsx)("thead",{children:(0,oa.jsxs)("tr",{children:["pasien"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("th",{children:"Nama Pasien"}),(0,oa.jsx)("th",{children:"No. RM"}),(0,oa.jsx)("th",{children:"NIK"}),(0,oa.jsx)("th",{children:"Usia"}),(0,oa.jsx)("th",{children:"Jenis Kelamin"}),(0,oa.jsx)("th",{children:"Alamat"}),(0,oa.jsx)("th",{children:"Total Rujukan"})]}),"rujukan"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("th",{children:"No. Rujukan"}),(0,oa.jsx)("th",{children:"Pasien"}),(0,oa.jsx)("th",{children:"Diagnosa"}),(0,oa.jsx)("th",{children:"Faskes Asal"}),(0,oa.jsx)("th",{children:"Faskes Tujuan"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Tanggal"})]}),"tempat-tidur"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("th",{children:"Faskes"}),(0,oa.jsx)("th",{children:"Kamar"}),(0,oa.jsx)("th",{children:"Bed"}),(0,oa.jsx)("th",{children:"Tipe"}),(0,oa.jsx)("th",{children:"Status"}),(0,oa.jsx)("th",{children:"Pasien"})]})]})}),(0,oa.jsx)("tbody",{children:e.map((e,t)=>(0,oa.jsxs)("tr",{children:["pasien"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("td",{children:e.nama_pasien}),(0,oa.jsx)("td",{children:e.no_rm}),(0,oa.jsx)("td",{children:e.nik}),(0,oa.jsxs)("td",{children:[e.usia," tahun"]}),(0,oa.jsx)("td",{children:"L"===e.jenis_kelamin?"Laki-laki":"Perempuan"}),(0,oa.jsx)("td",{children:e.alamat}),(0,oa.jsx)("td",{children:e.total_rujukan||0})]}),"rujukan"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("td",{children:e.nomor_rujukan}),(0,oa.jsx)("td",{children:e.nama_pasien}),(0,oa.jsx)("td",{children:e.diagnosa}),(0,oa.jsx)("td",{children:e.faskes_asal}),(0,oa.jsx)("td",{children:e.faskes_tujuan}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-".concat(e.status),children:e.status})}),(0,oa.jsx)("td",{children:new Date(e.tanggal_rujukan).toLocaleDateString("id-ID")})]}),"tempat-tidur"===c&&(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("td",{children:e.nama_faskes}),(0,oa.jsx)("td",{children:e.nomor_kamar}),(0,oa.jsx)("td",{children:e.nomor_bed}),(0,oa.jsx)("td",{children:e.tipe_kamar}),(0,oa.jsx)("td",{children:(0,oa.jsx)("span",{className:"status-".concat(e.status),children:e.status})}),(0,oa.jsx)("td",{children:e.nama_pasien||"-"})]})]},t))})]})}),t&&(0,oa.jsxs)("div",{className:"pagination",children:[(0,oa.jsx)("button",{disabled:t.page<=1,onClick:()=>{f(e=>(0,It.A)((0,It.A)({},e),{},{page:e.page-1}))},children:"Sebelumnya"}),(0,oa.jsxs)("span",{children:["Halaman ",t.page," dari ",t.total_pages]}),(0,oa.jsx)("button",{disabled:t.page>=t.total_pages,onClick:()=>{f(e=>(0,It.A)((0,It.A)({},e),{},{page:e.page+1}))},children:"Selanjutnya"})]})]}):null})()),o&&(0,oa.jsxs)("div",{className:"loading",children:[(0,oa.jsx)("div",{className:"spinner"}),(0,oa.jsx)("p",{children:"Sedang mencari..."})]})]})]})};delete os().Icon.Default.prototype._getIconUrl,os().Icon.Default.mergeOptions({iconRetinaUrl:n(249),iconUrl:n(24),shadowUrl:n(71)});const Rs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[32,32],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return os().icon({iconUrl:e,iconSize:t,iconAnchor:[t[0]/2,t[1]/2],popupAnchor:[0,-t[1]/2],className:n})},zs=Rs("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9IiNFNjY2NjYiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHg9IjgiIHk9IjgiPgo8cGF0aCBkPSJNMTIgMkMxMy4xIDIgMTQgMi45IDE0IDRWMTRIMThWNEgxNkMxNiAyLjkgMTUuMSAyIDE0IDJIMTJaIi8+CjxwYXRoIGQ9Ik0xOCAxNkgyMFYxOEgyMlYyMEgyMlYyMkgyMFYyNEgxOFYyMkgxNlYyMEgxNlYxOEgxOFYxNloiLz4KPHN2Zz4KPC9zdmc+",[40,40],"custom-ambulance-icon"),Ms=Rs("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTIiIGZpbGw9IiMzNEE4NTMiLz4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",[32,32],"custom-origin-icon"),Is=Rs("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTIiIGZpbGw9IiNGRjM0MzQiLz4KPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+",[32,32],"custom-destination-icon"),Ds=e=>{let{center:t}=e;const n=is();return(0,i.useEffect)(()=>{t&&n.setView(t,n.getZoom())},[t,n]),null},Bs=()=>{var e,t,n,a,s,r,o,l,c,u;const{socket:d}=zi(),[h,p]=(0,i.useState)([]),[f,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(null),[y,_]=(0,i.useState)(!1),[x,b]=(0,i.useState)([-6.5971,106.806]),[k,j]=(0,i.useState)([]),w=(0,i.useRef)(null),N=(0,i.useCallback)(async()=>{try{_(!0);const e=await fetch("http://localhost:3001/api/tracking/sessions/active",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();p(t.data)}else console.error("Failed to load active sessions")}catch(e){console.error("Error loading active sessions:",e)}finally{_(!1)}},[]);(0,i.useEffect)(()=>{N()},[N]);const S=(0,i.useCallback)(e=>{e.latitude&&e.longitude&&b([e.latitude,e.longitude])},[]);(0,i.useEffect)(()=>{const e=()=>{if(d&&d.on&&d.connected){console.log("\ud83d\udd0c Setting up socket listeners for tracking updates");const e=e=>{console.log("\ud83d\udce1 Tracking update received:",e),f&&e.rujukan_id===f.rujukan_id&&(v(t=>(0,It.A)((0,It.A)({},t),e)),S(e))};return d.on("tracking-update",e),()=>{d&&d.off&&(console.log("\ud83d\udd0c Cleaning up socket listeners"),d.off("tracking-update",e))}}return console.log("\u26a0\ufe0f Socket not available for tracking updates"),()=>{}},t=e();if(d&&!d.connected){console.log("\u23f3 Waiting for socket connection...");const n=setTimeout(()=>{d.connected?(console.log("\u2705 Socket connected, setting up listeners"),e()):console.log("\u274c Socket connection timeout")},2e3);return()=>{clearTimeout(n),t()}}return t},[d,f,S]);const C=e=>{const{tracking:t,route:n}=e;if(console.log("\ud83d\uddfa\ufe0f Rendering map with data:",{tracking:t,route:n}),t.latitude&&t.longitude&&!isNaN(parseFloat(t.latitude))&&!isNaN(parseFloat(t.longitude))?(b([parseFloat(t.latitude),parseFloat(t.longitude)]),console.log("\ud83d\udccd Map center set to current position:",[t.latitude,t.longitude])):n.destination.lat&&n.destination.lng&&!isNaN(parseFloat(n.destination.lat))&&!isNaN(parseFloat(n.destination.lng))&&(b([parseFloat(n.destination.lat),parseFloat(n.destination.lng)]),console.log("\ud83d\udccd Map center set to destination:",[n.destination.lat,n.destination.lng])),!(n.origin.lat&&n.origin.lng&&n.destination.lat&&n.destination.lng)||isNaN(parseFloat(n.origin.lat))||isNaN(parseFloat(n.origin.lng))||isNaN(parseFloat(n.destination.lat))||isNaN(parseFloat(n.destination.lng)))console.log("\u26a0\ufe0f Cannot create route polyline - missing or invalid coordinates"),console.log("Origin:",{lat:n.origin.lat,lng:n.origin.lng}),console.log("Destination:",{lat:n.destination.lat,lng:n.destination.lng}),j([]);else{const e=[[parseFloat(n.origin.lat),parseFloat(n.origin.lng)],[parseFloat(n.destination.lat),parseFloat(n.destination.lng)]];j(e),console.log("\ud83d\udee3\ufe0f Route polyline created:",e)}},P=e=>{switch(e){case"menunggu":return"#FFA500";case"dijemput":return"#FFD700";case"dalam_perjalanan":return"#4285F4";case"tiba":return"#34A853";default:return"#666"}},T=e=>{switch(e){case"menunggu":return"Menunggu";case"dijemput":return"Dijemput";case"dalam_perjalanan":return"Dalam Perjalanan";case"tiba":return"Tiba";default:return e}},E=e=>{if(!e)return"-";if(e<60)return"".concat(e," menit");const t=Math.floor(e/60),n=e%60;return"".concat(t,"j ").concat(n,"m")};return(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"tracking-page",children:[(0,oa.jsxs)("div",{className:"tracking-header",children:[(0,oa.jsx)("h1",{children:"\ud83d\udef0\ufe0f Real-Time Route Tracking"}),(0,oa.jsx)("p",{children:"Monitor perjalanan ambulans dan pasien secara real-time di Kota Bogor"})]}),(0,oa.jsxs)("div",{className:"tracking-container",children:[(0,oa.jsxs)("div",{className:"tracking-sidebar",children:[(0,oa.jsxs)("div",{className:"sidebar-header",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Sesi Tracking Aktif"}),(0,oa.jsx)("button",{className:"refresh-btn",onClick:N,disabled:y,children:"\ud83d\udd04 Refresh"})]}),y?(0,oa.jsx)("div",{className:"loading",children:"Loading..."}):0===h.length?(0,oa.jsx)("div",{className:"no-sessions",children:(0,oa.jsx)("p",{children:"Belum ada sesi tracking aktif"})}):(0,oa.jsx)("div",{className:"sessions-list",children:h.map(e=>(0,oa.jsxs)("div",{className:"session-card ".concat((null===f||void 0===f?void 0:f.id)===e.id?"active":""),onClick:()=>(async e=>{try{_(!0),m(e),v(null),console.log("\ud83d\udd0d Loading tracking data for session:",e),d&&(d.emit("join-tracking",e.rujukan_id),console.log("\ud83d\udd0c Joined tracking room:",e.rujukan_id));const t=await fetch("http://localhost:3001/api/tracking/".concat(e.rujukan_id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const e=await t.json();console.log("\u2705 Tracking data loaded:",e.data),v(e.data),C(e.data)}else{console.error("\u274c Failed to load tracking data:",t.status,t.statusText);const e=await t.json();console.error("Error details:",e)}}catch(t){console.error("\u274c Error loading tracking data:",t)}finally{_(!1)}})(e),children:[(0,oa.jsxs)("div",{className:"session-header",children:[(0,oa.jsx)("h4",{children:e.nomor_rujukan}),(0,oa.jsx)("span",{className:"status-badge",style:{backgroundColor:P(e.status)},children:T(e.status)})]}),(0,oa.jsxs)("div",{className:"session-details",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Pasien:"})," ",e.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Dari:"})," ",e.faskes_asal_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Ke:"})," ",e.faskes_tujuan_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Petugas:"})," ",e.petugas_nama]})]}),(e.estimated_time||e.estimated_distance)&&(0,oa.jsxs)("div",{className:"session-estimates",children:[e.estimated_time&&(0,oa.jsxs)("span",{children:["\u23f1\ufe0f ",E(e.estimated_time)]}),e.estimated_distance&&"number"===typeof e.estimated_distance&&(0,oa.jsxs)("span",{children:["\ud83d\udccf ",e.estimated_distance.toFixed(1)," km"]})]})]},e.id))})]}),(0,oa.jsxs)("div",{className:"tracking-map-container",children:[y&&(0,oa.jsxs)("div",{className:"map-loading",children:[(0,oa.jsx)("div",{className:"loading-spinner"}),(0,oa.jsx)("p",{children:"Memuat data tracking..."})]}),(0,oa.jsxs)(us,{ref:w,center:x,zoom:12,style:{height:"600px",width:"100%"},children:[(0,oa.jsx)(bs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,oa.jsx)(Ds,{center:x}),k.length>0&&(0,oa.jsx)(Ps,{positions:k,color:"#4285F4",weight:5,opacity:.8}),(null===g||void 0===g||null===(e=g.route)||void 0===e||null===(t=e.origin)||void 0===t?void 0:t.lat)&&(null===g||void 0===g||null===(n=g.route)||void 0===n||null===(a=n.origin)||void 0===a?void 0:a.lng)&&!isNaN(parseFloat(g.route.origin.lat))&&!isNaN(parseFloat(g.route.origin.lng))&&(0,oa.jsx)(Ns,{position:[parseFloat(g.route.origin.lat),parseFloat(g.route.origin.lng)],icon:Ms,children:(0,oa.jsxs)(Ss,{children:[(0,oa.jsx)("strong",{children:"\ud83c\udfe5 Asal:"})," ",g.route.origin.name,(0,oa.jsx)("br",{}),"Lat: ",parseFloat(g.route.origin.lat).toFixed(6),(0,oa.jsx)("br",{}),"Lng: ",parseFloat(g.route.origin.lng).toFixed(6)]})}),(null===g||void 0===g||null===(s=g.route)||void 0===s||null===(r=s.destination)||void 0===r?void 0:r.lat)&&(null===g||void 0===g||null===(o=g.route)||void 0===o||null===(l=o.destination)||void 0===l?void 0:l.lng)&&!isNaN(parseFloat(g.route.destination.lat))&&!isNaN(parseFloat(g.route.destination.lng))&&(0,oa.jsx)(Ns,{position:[parseFloat(g.route.destination.lat),parseFloat(g.route.destination.lng)],icon:Is,children:(0,oa.jsxs)(Ss,{children:[(0,oa.jsx)("strong",{children:"\ud83c\udfe5 Tujuan:"})," ",g.route.destination.name,(0,oa.jsx)("br",{}),"Lat: ",parseFloat(g.route.destination.lat).toFixed(6),(0,oa.jsx)("br",{}),"Lng: ",parseFloat(g.route.destination.lng).toFixed(6)]})}),(null===g||void 0===g||null===(c=g.tracking)||void 0===c?void 0:c.latitude)&&(null===g||void 0===g||null===(u=g.tracking)||void 0===u?void 0:u.longitude)&&!isNaN(parseFloat(g.tracking.latitude))&&!isNaN(parseFloat(g.tracking.longitude))&&(0,oa.jsx)(Ns,{position:[parseFloat(g.tracking.latitude),parseFloat(g.tracking.longitude)],icon:zs,children:(0,oa.jsxs)(Ss,{children:[(0,oa.jsx)("strong",{children:"\ud83d\ude91 Posisi Ambulans"}),(0,oa.jsx)("br",{}),"Status: ",T(g.tracking.status),(0,oa.jsx)("br",{}),"Lat: ",parseFloat(g.tracking.latitude).toFixed(6),(0,oa.jsx)("br",{}),"Lng: ",parseFloat(g.tracking.longitude).toFixed(6)]})})]}),f&&g&&(0,oa.jsxs)("div",{className:"tracking-info-panel",children:[(0,oa.jsxs)("div",{className:"info-header",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccd Info Tracking"}),(0,oa.jsx)("span",{className:"status-badge",style:{backgroundColor:P(g.tracking.status)},children:T(g.tracking.status)})]}),(0,oa.jsxs)("div",{className:"info-content",children:[(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Nomor Rujukan:"}),(0,oa.jsx)("span",{children:g.rujukan.nomor_rujukan})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Pasien:"}),(0,oa.jsx)("span",{children:g.rujukan.nama_pasien})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Dari:"}),(0,oa.jsx)("span",{children:g.route.origin.name})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Ke:"}),(0,oa.jsx)("span",{children:g.route.destination.name})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Estimasi Waktu:"}),(0,oa.jsx)("span",{children:E(g.tracking.estimated_time)})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Jarak Tersisa:"}),(0,oa.jsx)("span",{children:g.tracking.estimated_distance&&"number"===typeof g.tracking.estimated_distance?"".concat(g.tracking.estimated_distance.toFixed(1)," km"):"-"})]}),g.tracking.speed&&"number"===typeof g.tracking.speed&&(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Kecepatan:"}),(0,oa.jsxs)("span",{children:[g.tracking.speed.toFixed(1)," km/h"]})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Update Terakhir:"}),(0,oa.jsx)("span",{children:new Date(g.tracking.updated_at).toLocaleTimeString()})]})]})]})]})]})]})})};delete os().Icon.Default.prototype._getIconUrl,os().Icon.Default.mergeOptions({iconRetinaUrl:n(249),iconUrl:n(24),shadowUrl:n(71)});const Fs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[32,32];return os().divIcon({html:'\n      <div style="\n        width: '.concat(t[0],"px; \n        height: ").concat(t[1],"px; \n        background: ").concat(e,'; \n        border: 3px solid white; \n        border-radius: 50%; \n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 12px;\n      ">\n        \ud83d\ude91\n      </div>\n    '),className:"custom-marker",iconSize:t,iconAnchor:[t[0]/2,t[1]/2],popupAnchor:[0,-t[1]/2]})},Us=e=>{let{center:t}=e;const n=is();return(0,i.useEffect)(()=>{t&&n.setView(t,n.getZoom())},[t,n]),null},Zs=e=>{let{trackingData:t,session:n}=e;const[a,s]=(0,i.useState)([t.latitude,t.longitude]),[r,o]=(0,i.useState)(t.status);(0,i.useEffect)(()=>{s([t.latitude,t.longitude]),o(t.status)},[t]);return(0,oa.jsx)(Ns,{position:a,icon:Fs((e=>{switch(e){case"menunggu":return"#3498db";case"dijemput":return"#f39c12";case"dalam_perjalanan":return"#e74c3c";case"tiba":return"#27ae60";default:return"#95a5a6"}})(r),[40,40]),children:(0,oa.jsx)(Ss,{children:(0,oa.jsxs)("div",{className:"tracking-popup",children:[(0,oa.jsxs)("h4",{children:["\ud83d\ude91 ",n.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"})," ",(e=>{switch(e){case"menunggu":return"Menunggu";case"dijemput":return"Dijemput";case"dalam_perjalanan":return"Dalam Perjalanan";case"tiba":return"Tiba";default:return"Unknown"}})(r)]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Rujukan:"})," ",n.nomor_rujukan]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Dari:"})," ",n.faskes_asal_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Ke:"})," ",n.faskes_tujuan_nama]}),t.estimated_distance&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Jarak:"})," ",Number(t.estimated_distance).toFixed(2)," km"]}),t.estimated_time&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Waktu:"})," ",t.estimated_time," menit"]}),t.speed&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Kecepatan:"})," ",Number(t.speed).toFixed(1)," km/h"]}),t.battery_level&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Baterai:"})," ",t.battery_level,"%"]})]})})})},Hs=()=>{const{socket:e}=zi(),[t,n]=(0,i.useState)([]),[a,s]=(0,i.useState)({}),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)([-6.5971,106.806]),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)({total:0,menunggu:0,dijemput:0,dalam_perjalanan:0,tiba:0}),f=(0,i.useRef)(null),m=(0,i.useCallback)(async()=>{try{o(!0);const e=await fetch("/api/tracking/sessions/active",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.json();n(t.data);const a={total:t.data.length,menunggu:t.data.filter(e=>"menunggu"===e.tracking_status).length,dijemput:t.data.filter(e=>"dijemput"===e.tracking_status).length,dalam_perjalanan:t.data.filter(e=>"dalam_perjalanan"===e.tracking_status).length,tiba:t.data.filter(e=>"tiba"===e.tracking_status).length};p(a);for(const e of t.data)await g(e.rujukan_id)}}catch(e){console.error("Error loading active sessions:",e)}finally{o(!1)}},[]),g=async e=>{try{const t=await fetch("/api/tracking/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){const n=await t.json();s(t=>(0,It.A)((0,It.A)({},t),{},{[e]:n.data.tracking}))}}catch(t){console.error("Error loading tracking data:",t)}};(0,i.useEffect)(()=>{if(e){const t=e=>{console.log("\ud83d\udce1 Real-time tracking update:",e),s(t=>(0,It.A)((0,It.A)({},t),{},{[e.rujukan_id]:e})),p(e=>(0,It.A)({},e))};return e.on("tracking-update",t),e.emit("join-admin"),()=>{e.off("tracking-update",t)}}},[e]),(0,i.useEffect)(()=>{m();const e=setInterval(m,3e4);return()=>clearInterval(e)},[m]);const v=e=>{switch(e){case"menunggu":return"#3498db";case"dijemput":return"#f39c12";case"dalam_perjalanan":return"#e74c3c";case"tiba":return"#27ae60";default:return"#95a5a6"}};return(0,oa.jsxs)("div",{className:"tracking-dashboard",children:[(0,oa.jsx)(Vi,{}),(0,oa.jsxs)("div",{className:"dashboard-header",children:[(0,oa.jsxs)("div",{className:"header-content",children:[(0,oa.jsxs)("div",{className:"header-left",children:[(0,oa.jsxs)(Ee,{to:"/dashboard",className:"back-button",children:[(0,oa.jsx)("i",{className:"back-icon",children:"\u2190"}),"Kembali ke Dashboard"]}),(0,oa.jsx)("h1",{children:"\ud83d\ude91 eSIR2.0 Tracking Dashboard"})]}),(0,oa.jsx)("div",{className:"header-actions",children:(0,oa.jsxs)("button",{className:"refresh-button",onClick:m,disabled:r,children:[(0,oa.jsx)("i",{className:"refresh-icon",children:"\ud83d\udd04"}),r?"Loading...":"Refresh"]})})]}),(0,oa.jsxs)("div",{className:"dashboard-stats",children:[(0,oa.jsxs)("div",{className:"stat-card",children:[(0,oa.jsx)("div",{className:"stat-number",children:h.total}),(0,oa.jsx)("div",{className:"stat-label",children:"Total Active"})]}),(0,oa.jsxs)("div",{className:"stat-card",style:{backgroundColor:"#3498db"},children:[(0,oa.jsx)("div",{className:"stat-number",children:h.menunggu}),(0,oa.jsx)("div",{className:"stat-label",children:"Menunggu"})]}),(0,oa.jsxs)("div",{className:"stat-card",style:{backgroundColor:"#f39c12"},children:[(0,oa.jsx)("div",{className:"stat-number",children:h.dijemput}),(0,oa.jsx)("div",{className:"stat-label",children:"Dijemput"})]}),(0,oa.jsxs)("div",{className:"stat-card",style:{backgroundColor:"#e74c3c"},children:[(0,oa.jsx)("div",{className:"stat-number",children:h.dalam_perjalanan}),(0,oa.jsx)("div",{className:"stat-label",children:"Dalam Perjalanan"})]}),(0,oa.jsxs)("div",{className:"stat-card",style:{backgroundColor:"#27ae60"},children:[(0,oa.jsx)("div",{className:"stat-number",children:h.tiba}),(0,oa.jsx)("div",{className:"stat-label",children:"Tiba"})]})]})]}),(0,oa.jsxs)("div",{className:"dashboard-content",children:[(0,oa.jsx)("div",{className:"map-container",children:(0,oa.jsxs)(us,{center:l,zoom:12,style:{height:"600px",width:"100%"},ref:f,children:[(0,oa.jsx)(bs,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.map(e=>{const t=a[e.rujukan_id];return t&&t.latitude&&t.longitude?(0,oa.jsx)(Zs,{trackingData:t,session:e},e.rujukan_id):null}),t.map(e=>{const t=a[e.rujukan_id];if(t&&t.latitude&&t.longitude){const n=[[t.latitude,t.longitude],[e.faskes_tujuan_lat||t.latitude,e.faskes_tujuan_lng||t.longitude]];return(0,oa.jsx)(Ps,{positions:n,color:"#e74c3c",weight:3,opacity:.7},"route-".concat(e.rujukan_id))}return null}),(0,oa.jsx)(Us,{center:l})]})}),(0,oa.jsxs)("div",{className:"sessions-panel",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Active Sessions"}),r?(0,oa.jsx)("div",{className:"loading",children:"Loading sessions..."}):(0,oa.jsxs)("div",{className:"sessions-list",children:[t.map(e=>{const t=a[e.rujukan_id],n=(null===u||void 0===u?void 0:u.rujukan_id)===e.rujukan_id;return(0,oa.jsxs)("div",{className:"session-card ".concat(n?"selected":""),onClick:()=>(e=>{if(d(e),a[e.rujukan_id]){const t=a[e.rujukan_id];c([t.latitude,t.longitude])}})(e),children:[(0,oa.jsxs)("div",{className:"session-header",children:[(0,oa.jsx)("div",{className:"status-indicator",style:{backgroundColor:v(e.tracking_status)}}),(0,oa.jsxs)("div",{className:"session-info",children:[(0,oa.jsx)("h4",{children:e.nama_pasien}),(0,oa.jsx)("p",{children:e.nomor_rujukan})]})]}),(0,oa.jsxs)("div",{className:"session-details",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Dari:"})," ",e.faskes_asal_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Ke:"})," ",e.faskes_tujuan_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"})," ",e.tracking_status]}),t&&(0,oa.jsxs)(oa.Fragment,{children:[t.estimated_distance&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Jarak:"})," ",Number(t.estimated_distance).toFixed(2)," km"]}),t.estimated_time&&(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Waktu:"})," ",t.estimated_time," menit"]})]})]})]},e.rujukan_id)}),0===t.length&&(0,oa.jsx)("div",{className:"no-sessions",children:(0,oa.jsx)("p",{children:"\ud83d\udced Tidak ada session tracking aktif"})})]})]})]})]})},qs=()=>{var e;const t=ne(),[n,a]=(0,i.useState)(""),[s,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!0),[_,x]=(0,i.useState)(""),[b,k]=(0,i.useState)(""),[j,w]=(0,i.useState)(!1),[N,S]=(0,i.useState)({latitude:"",longitude:""}),C=(0,i.useRef)(null),P=(0,i.useCallback)(()=>("getBattery"in navigator&&navigator.getBattery().then(e=>Math.round(100*e.level)),null),[]),T=(0,i.useCallback)(async e=>{if(n)try{const t=await fetch("http://localhost:3001/api/tracking/update-position",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_token:n,latitude:e.latitude,longitude:e.longitude,status:"dalam_perjalanan",speed:e.speed,heading:e.heading,accuracy:e.accuracy,battery_level:P()})});if(!t.ok){const e=await t.json();console.error("Error updating position:",e)}}catch(_){console.error("Error updating position:",_)}},[n,P]),E=(0,i.useCallback)(e=>{C.current=navigator.geolocation.watchPosition(e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,heading:e.coords.heading,speed:e.coords.speed?3.6*e.coords.speed:null};u(t),T(t)},e=>{console.error("Error watching position:",e),e.code===e.TIMEOUT&&console.log("\u23f0 Timeout watching position, akan mencoba lagi...")},e)},[T]),A=(0,i.useCallback)(()=>{if(!navigator.geolocation)return void x("Geolocation tidak didukung di browser ini");x("");const e=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n={enableHighAccuracy:t,timeout:t?15e3:3e4,maximumAge:t?0:6e4};console.log("\ud83d\udd04 Mencoba mendapatkan posisi GPS (".concat(t?"high accuracy":"low accuracy",")...")),navigator.geolocation.getCurrentPosition(e=>{console.log("\u2705 Posisi GPS berhasil didapatkan:",e.coords),u({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy}),T(e.coords),E(n)},n=>{console.error("\u274c Error getting position:",n);let a="";switch(n.code){case n.PERMISSION_DENIED:a="Izin lokasi ditolak. Silakan izinkan akses lokasi di browser.";break;case n.POSITION_UNAVAILABLE:a="Informasi lokasi tidak tersedia.";break;case n.TIMEOUT:if(t)return console.log("\u23f0 Timeout dengan high accuracy, mencoba low accuracy..."),x("Mencoba mendapatkan posisi dengan akurasi rendah..."),void setTimeout(()=>e(!1),1e3);a="Timeout mendapatkan posisi GPS. Pastikan GPS aktif dan coba lagi.";break;default:a="Gagal mendapatkan posisi GPS."}x(a)},n)};e(!0)},[T,E]),L=(0,i.useCallback)(async()=>{try{const e=localStorage.getItem("token");if(s){const t=await fetch("http://localhost:3001/api/tracking/session/".concat(s),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Found existing session:",e.data),a(e.data.session_token),h({nomor_rujukan:e.data.nomor_rujukan,nama_pasien:e.data.nama_pasien,faskes_asal_nama:e.data.faskes_asal_nama,faskes_tujuan_nama:e.data.faskes_tujuan_nama,status:e.data.rujukan_status}),l(!0),k("Session tracking aktif ditemukan, melanjutkan..."),A()}}}catch(_){console.error("Error checking existing session:",_)}},[s,A]);(0,i.useEffect)(()=>{R(),O()},[]),(0,i.useEffect)(()=>{s&&L()},[s,L]);const O=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("http://localhost:3001/api/tracking/sessions/active",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Active sessions:",e.data)}}catch(_){console.error("Error loading active sessions:",_)}},R=async()=>{try{y(!0),console.log("\ud83d\udd0d Loading rujukan list...");const e=localStorage.getItem("token");console.log("Token exists:",!!e);const t=await fetch("http://localhost:3001/api/rujukan",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("Response status:",t.status),t.ok){const e=await t.json();if(console.log("Rujukan API response:",e),e.success&&e.data){const t=e.data.filter(e=>["diterima","dalam_perjalanan","pending"].includes(e.status));console.log("Active rujukan found:",t.length),console.log("Active rujukan:",t),f(t)}else console.log("No data in response or API error"),f([])}else{console.error("API response not ok:",t.status);const e=await t.text();console.error("Error response:",e),f([])}}catch(_){console.error("Error loading rujukan:",_),f([])}finally{y(!1)}},z=async e=>{if(n)try{const t=c||{latitude:-6.5971,longitude:106.806,accuracy:1e3,speed:null,heading:null},a={session_token:n,latitude:t.latitude,longitude:t.longitude,status:e,speed:t.speed,heading:t.heading,accuracy:t.accuracy,battery_level:P()};console.log("\ud83d\udd04 Updating status:",e),console.log("\ud83d\udce1 Request body:",a);const i=await fetch("http://localhost:3001/api/tracking/update-position",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(console.log("\ud83d\udce1 Response status:",i.status),i.ok){const n=await i.json();console.log("\u2705 Update successful:",n),k("Status berhasil diupdate ke: ".concat(M(e))),c||u(t)}else{const e=await i.json();console.error("\u274c Error response:",e),x(e.message||"Gagal mengupdate status")}}catch(_){console.error("\u274c Error updating status:",_),x("Gagal mengupdate status")}else x("Session token tidak ditemukan")},M=e=>{switch(e){case"menunggu":return"Menunggu";case"dijemput":return"Dijemput";case"dalam_perjalanan":return"Dalam Perjalanan";case"tiba":return"Tiba";default:return e}};return(0,oa.jsx)(Gi,{children:(0,oa.jsxs)("div",{className:"ambulance-tracker",children:[(0,oa.jsx)("div",{className:"tracker-header",children:(0,oa.jsxs)("div",{className:"header-content",children:[(0,oa.jsxs)("div",{className:"header-left",children:[(0,oa.jsx)("h1",{children:"\ud83d\ude91 Ambulance Tracker"}),(0,oa.jsx)("p",{children:"Kirim posisi GPS secara real-time untuk monitoring perjalanan"})]}),(0,oa.jsx)("div",{className:"header-right",children:(0,oa.jsx)("button",{onClick:()=>t("/dashboard"),className:"back-btn",children:"\u2190 Kembali ke Dashboard"})})]})}),(0,oa.jsxs)("div",{className:"tracker-container",children:[(0,oa.jsxs)("div",{className:"tracker-sidebar",children:[(0,oa.jsxs)("div",{className:"session-controls",children:[(0,oa.jsx)("h3",{children:"\ud83c\udfaf Kontrol Session"}),o?(0,oa.jsx)("div",{className:"stop-session",children:(0,oa.jsx)("button",{onClick:()=>{C.current&&(navigator.geolocation.clearWatch(C.current),C.current=null),l(!1),a(""),u(null),h(null),k("Tracking berhasil dihentikan")},className:"stop-btn",children:"\ud83d\uded1 Hentikan Tracking"})}):(0,oa.jsx)("div",{className:"start-session",children:v?(0,oa.jsx)("div",{className:"loading-rujukan",children:(0,oa.jsx)("p",{children:"\ud83d\udd04 Memuat data rujukan..."})}):(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)("div",{className:"rujukan-info",children:(0,oa.jsxs)("div",{className:"rujukan-header",children:[(0,oa.jsxs)("p",{children:["\ud83d\udccb Ditemukan ",p.length," rujukan aktif"]}),(0,oa.jsx)("button",{onClick:R,className:"refresh-btn",title:"Refresh data rujukan",children:"\ud83d\udd04"})]})}),(0,oa.jsxs)("select",{value:s,onChange:e=>r(e.target.value),className:"rujukan-select",children:[(0,oa.jsx)("option",{value:"",children:"Pilih Rujukan"}),p.map(e=>(0,oa.jsxs)("option",{value:e.id,children:[e.nomor_rujukan," - ",e.nama_pasien," (",e.status,")"]},e.id))]}),0===p.length&&(0,oa.jsxs)("div",{className:"no-rujukan",children:[(0,oa.jsx)("p",{children:"\u274c Tidak ada rujukan aktif"}),(0,oa.jsx)("p",{children:"Buat rujukan baru di menu Rujukan"})]}),(0,oa.jsx)("button",{onClick:async()=>{if(s)try{g(!0),x("");const e=await fetch("http://localhost:3001/api/tracking/start-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({rujukan_id:s,device_id:navigator.userAgent})});if(e.ok){const t=await e.json();a(t.data.session_token),h(t.data.rujukan),l(!0),t.data.is_existing?k("Session tracking sudah aktif, melanjutkan tracking..."):k("Session tracking berhasil dimulai!"),A()}else{const t=await e.json();x(t.message||"Gagal memulai session tracking")}}catch(_){console.error("Error starting tracking session:",_),x("Terjadi kesalahan saat memulai tracking")}finally{g(!1)}else x("Pilih rujukan terlebih dahulu")},disabled:m||!s||0===p.length,className:"start-btn",children:m?"Memulai...":"\ud83d\ude80 Mulai Tracking"})]})})]}),o&&(0,oa.jsxs)("div",{className:"status-controls",children:[(0,oa.jsx)("h3",{children:"\ud83d\udcca Status Kontrol"}),(0,oa.jsxs)("div",{className:"status-buttons",children:[(0,oa.jsx)("button",{onClick:()=>z("menunggu"),className:"status-btn menunggu",children:"\u23f3 Menunggu"}),(0,oa.jsx)("button",{onClick:()=>z("dijemput"),className:"status-btn dijemput",children:"\ud83d\ude97 Dijemput"}),(0,oa.jsx)("button",{onClick:()=>z("dalam_perjalanan"),className:"status-btn dalam_perjalanan",children:"\ud83d\ude91 Dalam Perjalanan"}),(0,oa.jsx)("button",{onClick:()=>z("tiba"),className:"status-btn tiba",children:"\u2705 Tiba"})]})]}),_&&(0,oa.jsxs)("div",{className:"error-message",children:["\u274c ",_]}),b&&(0,oa.jsxs)("div",{className:"success-message",children:["\u2705 ",b]})]}),(0,oa.jsxs)("div",{className:"tracker-main",children:[(0,oa.jsxs)("div",{className:"position-display",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccd Posisi GPS"}),c?(0,oa.jsxs)("div",{className:"position-info",children:[(0,oa.jsxs)("div",{className:"position-row",children:[(0,oa.jsx)("span",{children:"Latitude:"}),(0,oa.jsx)("span",{children:c.latitude.toFixed(6)})]}),(0,oa.jsxs)("div",{className:"position-row",children:[(0,oa.jsx)("span",{children:"Longitude:"}),(0,oa.jsx)("span",{children:c.longitude.toFixed(6)})]}),(0,oa.jsxs)("div",{className:"position-row",children:[(0,oa.jsx)("span",{children:"Akurasi:"}),(0,oa.jsxs)("span",{children:[null===(e=c.accuracy)||void 0===e?void 0:e.toFixed(1)," meter"]})]}),c.speed&&(0,oa.jsxs)("div",{className:"position-row",children:[(0,oa.jsx)("span",{children:"Kecepatan:"}),(0,oa.jsxs)("span",{children:[c.speed.toFixed(1)," km/h"]})]}),c.heading&&(0,oa.jsxs)("div",{className:"position-row",children:[(0,oa.jsx)("span",{children:"Arah:"}),(0,oa.jsxs)("span",{children:[c.heading,"\xb0"]})]}),(0,oa.jsx)("div",{className:"position-actions",children:(0,oa.jsx)("button",{onClick:()=>w(!0),className:"manual-btn",children:"\ud83d\udcdd Input Manual"})})]}):(0,oa.jsxs)("div",{className:"no-position",children:[(0,oa.jsx)("p",{children:"Posisi GPS belum tersedia"}),(0,oa.jsx)("p",{children:"Pastikan GPS aktif dan izin lokasi diberikan"}),(0,oa.jsxs)("div",{className:"position-fallback",children:[(0,oa.jsx)("button",{onClick:()=>w(!0),className:"manual-btn",children:"\ud83d\udcdd Input Posisi Manual"}),(0,oa.jsx)("button",{onClick:()=>{const e={latitude:-6.5971,longitude:106.806,accuracy:1e3,speed:null,heading:null};u(e),T(e),x(""),k("Menggunakan posisi default Bogor")},className:"default-btn",children:"\ud83c\udfe0 Gunakan Posisi Default"})]})]}),j&&(0,oa.jsxs)("div",{className:"manual-input",children:[(0,oa.jsx)("h4",{children:"\ud83d\udcdd Input Posisi Manual"}),(0,oa.jsxs)("div",{className:"input-group",children:[(0,oa.jsx)("label",{children:"Latitude:"}),(0,oa.jsx)("input",{type:"number",step:"any",value:N.latitude,onChange:e=>S(t=>(0,It.A)((0,It.A)({},t),{},{latitude:e.target.value})),placeholder:"-6.5971"})]}),(0,oa.jsxs)("div",{className:"input-group",children:[(0,oa.jsx)("label",{children:"Longitude:"}),(0,oa.jsx)("input",{type:"number",step:"any",value:N.longitude,onChange:e=>S(t=>(0,It.A)((0,It.A)({},t),{},{longitude:e.target.value})),placeholder:"106.8060"})]}),(0,oa.jsxs)("div",{className:"manual-actions",children:[(0,oa.jsx)("button",{onClick:()=>{const e=parseFloat(N.latitude),t=parseFloat(N.longitude);if(isNaN(e)||isNaN(t))return void x("Latitude dan longitude harus berupa angka");if(e<-90||e>90)return void x("Latitude harus antara -90 dan 90");if(t<-180||t>180)return void x("Longitude harus antara -180 dan 180");const n={latitude:e,longitude:t,accuracy:100,speed:null,heading:null};u(n),T(n),w(!1),x(""),k("Posisi manual berhasil diupdate")},className:"submit-btn",children:"\u2705 Submit"}),(0,oa.jsx)("button",{onClick:()=>w(!1),className:"cancel-btn",children:"\u274c Batal"})]})]})]}),d&&(0,oa.jsxs)("div",{className:"tracking-info",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Info Rujukan"}),(0,oa.jsxs)("div",{className:"info-content",children:[(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Nomor Rujukan:"}),(0,oa.jsx)("span",{children:d.nomor_rujukan})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Pasien:"}),(0,oa.jsx)("span",{children:d.nama_pasien})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Dari:"}),(0,oa.jsx)("span",{children:d.faskes_asal_nama})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Ke:"}),(0,oa.jsx)("span",{children:d.faskes_tujuan_nama})]}),(0,oa.jsxs)("div",{className:"info-row",children:[(0,oa.jsx)("span",{children:"Status:"}),(0,oa.jsx)("span",{className:"status-text",children:M(d.status)})]})]})]}),(0,oa.jsxs)("div",{className:"tracking-status",children:[(0,oa.jsx)("h3",{children:"\ud83d\udd04 Status Tracking"}),(0,oa.jsx)("div",{className:"status-indicator ".concat(o?"active":"inactive"),children:o?(0,oa.jsxs)("div",{className:"active-status",children:[(0,oa.jsx)("div",{className:"pulse-dot"}),(0,oa.jsx)("span",{children:"Tracking Aktif"})]}):(0,oa.jsx)("div",{className:"inactive-status",children:(0,oa.jsx)("span",{children:"Tracking Tidak Aktif"})})})]})]})]})]})})},Ws=e=>{let{children:t}=e;const{user:n,logout:a}=ca(),i=ee();return(0,oa.jsxs)("div",{className:"driver-layout",children:[(0,oa.jsx)("header",{className:"driver-header",children:(0,oa.jsxs)("div",{className:"header-content",children:[(0,oa.jsx)("div",{className:"header-left",children:(0,oa.jsxs)(Ee,{to:"/driver",className:"logo",children:[(0,oa.jsx)("span",{className:"logo-icon",children:"\ud83d\ude91"}),(0,oa.jsx)("span",{className:"logo-text",children:"eSIR Driver"})]})}),(0,oa.jsx)("div",{className:"header-center",children:(0,oa.jsx)("nav",{className:"driver-nav",children:(0,oa.jsxs)(Ee,{to:"/driver",className:"nav-item ".concat((s="/driver",i.pathname===s?"active":"")),children:[(0,oa.jsx)("span",{className:"nav-icon",children:"\ud83c\udfe0"}),(0,oa.jsx)("span",{className:"nav-text",children:"Dashboard"})]})})}),(0,oa.jsxs)("div",{className:"header-right",children:[(0,oa.jsxs)("div",{className:"user-info",children:[(0,oa.jsx)("span",{className:"user-name",children:null===n||void 0===n?void 0:n.nama_lengkap}),(0,oa.jsx)("span",{className:"user-role",children:"Sopir Ambulans"})]}),(0,oa.jsxs)("button",{onClick:()=>{a()},className:"logout-btn",children:[(0,oa.jsx)("span",{className:"logout-icon",children:"\ud83d\udeaa"}),(0,oa.jsx)("span",{className:"logout-text",children:"Keluar"})]})]})]})}),(0,oa.jsx)("main",{className:"driver-main",children:t})]});var s},Ks=()=>{const{user:e}=ca(),{socket:t}=zi(),[n,a]=(0,i.useState)([]),[s,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)("menunggu"),[p,f]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),v=(0,i.useRef)(null),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{e&&"sopir_ambulans"!==e.role&&f("Akses ditolak. Halaman ini hanya untuk sopir ambulans.")},[e]),(0,i.useEffect)(()=>{_()},[]),(0,i.useEffect)(()=>{if(t)return t.on("tracking-update",e=>{console.log("\ud83d\udccd Real-time tracking update:",e),a(t=>t.map(t=>t.rujukan_id===e.rujukan_id?(0,It.A)((0,It.A)({},t),e):t))}),()=>{t.off("tracking-update")}},[t]);const _=async()=>{try{g(!0);const e=await fetch("".concat("http://localhost:3001/api","/tracking/sessions/active"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();t.success?a(t.data):f("Gagal mengambil data session aktif")}catch(p){console.error("Error fetching active sessions:",p),f("Terjadi kesalahan saat mengambil data")}finally{g(!1)}},x=async(e,t,n,a,i,s)=>{try{console.log("\ud83d\udd04 Updating position:",{session_token:e.session_token,latitude:t,longitude:n});const r=await fetch("".concat("http://localhost:3001/api","/tracking/update-position"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({session_token:e.session_token,latitude:t,longitude:n,status:d,speed:i||0,heading:s||null,accuracy:a||0,battery_level:null})});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const o=await r.json();o.success?console.log("\u2705 Position updated successfully"):console.error("\u274c Failed to update position:",o.message)}catch(p){console.error("\u274c Error updating position:",p),p.message.includes("404")&&console.error("\u274c Endpoint not found. Check if backend is running on port 3001")}},b=()=>{v.current&&(navigator.geolocation.clearWatch(v.current),v.current=null),y.current&&(clearInterval(y.current),y.current=null),u(!1),r(null),l(null),h("menunggu")},k=e=>{switch(e){case"menunggu":return"#f39c12";case"dijemput":return"#3498db";case"dalam_perjalanan":return"#e74c3c";case"tiba":return"#27ae60";default:return"#95a5a6"}},j=e=>{switch(e){case"menunggu":return"Menunggu";case"dijemput":return"Dijemput";case"dalam_perjalanan":return"Dalam Perjalanan";case"tiba":return"Tiba di Tujuan";default:return"Unknown"}};return p&&!e?(0,oa.jsx)(Ws,{children:(0,oa.jsx)("div",{className:"driver-dashboard",children:(0,oa.jsxs)("div",{className:"error-container",children:[(0,oa.jsx)("h2",{children:"\u274c Akses Ditolak"}),(0,oa.jsx)("p",{children:p})]})})}):(0,oa.jsx)(Ws,{children:(0,oa.jsxs)("div",{className:"driver-dashboard",children:[(0,oa.jsxs)("div",{className:"dashboard-header",children:[(0,oa.jsx)("h1",{children:"\ud83d\ude91 Dashboard Sopir Ambulans"}),(0,oa.jsxs)("div",{className:"user-info",children:[(0,oa.jsxs)("span",{children:["\ud83d\udc64 ",null===e||void 0===e?void 0:e.nama_lengkap]}),(0,oa.jsx)("span",{className:"status-indicator ".concat(c?"tracking":"idle"),children:c?"\ud83d\udfe2 Sedang Tracking":"\u26aa Tidak Tracking"})]})]}),p&&(0,oa.jsxs)("div",{className:"error-message",children:[(0,oa.jsxs)("span",{children:["\u26a0\ufe0f ",p]}),(0,oa.jsx)("button",{onClick:()=>f(null),children:"\u2715"})]}),(0,oa.jsxs)("div",{className:"dashboard-content",children:[(0,oa.jsxs)("div",{className:"sessions-panel",children:[(0,oa.jsxs)("div",{className:"panel-header",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccb Session Aktif"}),(0,oa.jsxs)("button",{onClick:_,disabled:m,children:["\ud83d\udd04"," Refresh"]})]}),(0,oa.jsx)("div",{className:"sessions-list",children:0===n.length?(0,oa.jsx)("div",{className:"no-sessions",children:(0,oa.jsx)("p",{children:"\ud83d\udced Tidak ada session aktif"})}):n.map(e=>(0,oa.jsxs)("div",{className:"session-card ".concat((null===s||void 0===s?void 0:s.id)===e.id?"selected":""),onClick:()=>!c&&r(e),children:[(0,oa.jsxs)("div",{className:"session-info",children:[(0,oa.jsxs)("h4",{children:["\ud83d\ude91 ",e.nomor_rujukan]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Pasien:"})," ",e.nama_pasien]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Dari:"})," ",e.faskes_asal_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Ke:"})," ",e.faskes_tujuan_nama]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Transportasi:"}),(0,oa.jsx)("span",{className:"transport-badge",children:"pickup"===e.transport_type?"\ud83d\ude91 RS Tujuan Menjemput":"\ud83d\ude91 Faskes Perujuk Mengantarkan"})]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Status:"}),(0,oa.jsx)("span",{className:"status-badge",style:{backgroundColor:k(e.tracking_status)},children:j(e.tracking_status)})]})]}),(0,oa.jsx)("div",{className:"session-actions",children:c?(null===s||void 0===s?void 0:s.id)===e.id?(0,oa.jsx)("button",{className:"stop-btn",onClick:b,children:"\u23f9\ufe0f Stop Tracking"}):(0,oa.jsx)("button",{disabled:!0,children:"\u23f8\ufe0f Sedang Tracking Lain"}):(0,oa.jsx)("button",{className:"start-btn",onClick:t=>{t.stopPropagation(),(async e=>{try{if(r(e),u(!0),f(null),!navigator.geolocation)return void f("Geolocation tidak didukung oleh browser ini");navigator.permissions&&navigator.permissions.query({name:"geolocation"}).then(function(e){console.log("\ud83d\udccd Geolocation permission:",e.state),"denied"!==e.state||f("Akses lokasi ditolak. Silakan izinkan akses lokasi di pengaturan browser.")}).catch(e=>{console.log("Permission API not supported:",e)}),v.current=navigator.geolocation.watchPosition(t=>{const{latitude:n,longitude:a,accuracy:i,speed:s,heading:r}=t.coords;console.log("\ud83d\udccd GPS Position received:",{latitude:n,longitude:a,accuracy:i,speed:s,heading:r}),l({latitude:n,longitude:a,accuracy:i,speed:s,heading:r}),x(e,n,a,i,s,r)},e=>{console.error("Geolocation error:",e);let t="Error GPS: ";switch(e.code){case e.PERMISSION_DENIED:t+="Akses lokasi ditolak. Silakan izinkan akses lokasi.";break;case e.POSITION_UNAVAILABLE:t+="Lokasi tidak tersedia.";break;case e.TIMEOUT:t+="Timeout mendapatkan lokasi.";break;default:t+=e.message}f(t)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:1e4}),y.current=setInterval(()=>{s&&o&&x(s,o.latitude,o.longitude,o.accuracy,o.speed,o.heading)},3e4)}catch(p){console.error("Error starting tracking:",p),f("Gagal memulai tracking")}})(e)},children:"\ud83d\ude80 Mulai Tracking"})})]},e.id))})]}),s&&(0,oa.jsxs)("div",{className:"tracking-panel",children:[(0,oa.jsxs)("div",{className:"panel-header",children:[(0,oa.jsx)("h3",{children:"\ud83d\udccd Tracking Aktif"}),(0,oa.jsxs)("span",{className:"session-token",children:["Token: ",s.session_token]})]}),(0,oa.jsxs)("div",{className:"tracking-info",children:[(0,oa.jsxs)("div",{className:"location-info",children:[(0,oa.jsx)("h4",{children:"\ud83d\udccd Lokasi Saat Ini"}),o?(0,oa.jsxs)("div",{className:"location-data",children:[(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Latitude:"})," ","number"===typeof o.latitude?o.latitude.toFixed(6):"N/A"]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Longitude:"})," ","number"===typeof o.longitude?o.longitude.toFixed(6):"N/A"]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Akurasi:"})," ","number"===typeof o.accuracy?"".concat(o.accuracy.toFixed(0),"m"):"N/A"]}),(0,oa.jsxs)("p",{children:[(0,oa.jsx)("strong",{children:"Kecepatan:"})," ","number"===typeof o.speed?"".concat((3.6*o.speed).toFixed(1)," km/h"):"N/A"]})]}):(0,oa.jsx)("p",{children:"\u23f3 Mendapatkan lokasi..."})]}),(0,oa.jsxs)("div",{className:"status-controls",children:[(0,oa.jsx)("h4",{children:"\ud83c\udf9b\ufe0f Kontrol Status"}),(0,oa.jsx)("div",{className:"status-buttons",children:["menunggu","dijemput","dalam_perjalanan","tiba"].map(e=>(0,oa.jsx)("button",{className:"status-btn ".concat(d===e?"active":""),onClick:()=>(h(e),void(s&&o&&x(s,o.latitude,o.longitude,o.accuracy,o.speed,o.heading))),style:{backgroundColor:k(e)},children:j(e)},e))})]}),(0,oa.jsxs)("div",{className:"session-details",children:[(0,oa.jsx)("h4",{children:"\ud83d\udccb Detail Session"}),(0,oa.jsxs)("div",{className:"details-grid",children:[(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Nomor Rujukan:"})," ",s.nomor_rujukan]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Nama Pasien:"})," ",s.nama_pasien]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Faskes Asal:"})," ",s.faskes_asal_nama]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Faskes Tujuan:"})," ",s.faskes_tujuan_nama]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Jenis Transportasi:"}),(0,oa.jsx)("span",{className:"transport-badge",children:"pickup"===s.transport_type?"\ud83d\ude91 RS Tujuan Menjemput":"\ud83d\ude91 Faskes Perujuk Mengantarkan"})]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Mulai Tracking:"})," ",new Date(s.started_at).toLocaleString()]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Jarak Estimasi:"})," ",s.estimated_distance&&"number"===typeof s.estimated_distance?"".concat(s.estimated_distance.toFixed(1)," km"):"N/A"]}),(0,oa.jsxs)("div",{children:[(0,oa.jsx)("strong",{children:"Waktu Estimasi:"})," ",s.estimated_time?"".concat(s.estimated_time," menit"):"N/A"]})]})]})]})]})]})]})})},Vs=()=>{const e=ne(),{getLastPage:t,setRedirecting:n}=Di(),[a,s]=(0,i.useState)(5);(0,i.useEffect)(()=>{n(!0);const a=setInterval(()=>{s(n=>{if(n<=1){clearInterval(a);const n=t();return console.log("\ud83d\udd04 Redirecting to last page:",n),e(n,{replace:!0}),0}return n-1})},1e3);return()=>{clearInterval(a),n(!1)}},[e,t,n]);return(0,oa.jsx)("div",{className:"not-found-page",children:(0,oa.jsxs)("div",{className:"not-found-container",children:[(0,oa.jsx)("div",{className:"not-found-icon",children:(0,oa.jsx)("span",{children:"\ud83d\udd0d"})}),(0,oa.jsx)("h1",{children:"404"}),(0,oa.jsx)("h2",{children:"Halaman Tidak Ditemukan"}),(0,oa.jsx)("p",{className:"not-found-description",children:"Maaf, halaman yang Anda cari tidak dapat ditemukan atau telah dipindahkan."}),(0,oa.jsx)("div",{className:"redirect-info",children:(0,oa.jsxs)("p",{children:["Anda akan dialihkan ke halaman terakhir dalam ",(0,oa.jsx)("strong",{children:a})," detik..."]})}),(0,oa.jsxs)("div",{className:"not-found-actions",children:[(0,oa.jsx)("button",{className:"btn-primary",onClick:()=>{const n=t();e(n,{replace:!0})},children:"Kembali Sekarang"}),(0,oa.jsx)("button",{className:"btn-secondary",onClick:()=>{e("/dashboard",{replace:!0})},children:"Ke Dashboard"})]}),(0,oa.jsxs)("div",{className:"help-links",children:[(0,oa.jsx)("p",{children:"Atau Anda dapat mencoba:"}),(0,oa.jsxs)("ul",{children:[(0,oa.jsx)("li",{children:(0,oa.jsx)("button",{className:"link-btn",onClick:()=>e("/rujukan"),children:"Halaman Rujukan"})}),(0,oa.jsx)("li",{children:(0,oa.jsx)("button",{className:"link-btn",onClick:()=>e("/pasien"),children:"Halaman Pasien"})}),(0,oa.jsx)("li",{children:(0,oa.jsx)("button",{className:"link-btn",onClick:()=>e("/peta"),children:"Halaman Peta"})})]})]})]})})},Gs=e=>{let{children:t}=e;const{isAuthenticated:n,loading:a}=ca(),{setLastPage:s}=Di(),r=ee();return console.log("\ud83d\udd12 ProtectedRoute - Auth status:",{isAuthenticated:n,loading:a}),(0,i.useEffect)(()=>{a||n||(console.log("\ud83d\udeab Access denied, saving current page and redirecting to login"),s(r.pathname))},[a,n,r.pathname,s]),a?(0,oa.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#666",flexDirection:"column"},children:[(0,oa.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),(0,oa.jsx)("p",{children:"Memeriksa autentikasi..."}),(0,oa.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):n?(console.log("\u2705 Access granted, rendering protected content"),t):(0,oa.jsx)(ve,{to:"/login",replace:!0})};var Js=n(167);const Qs=function(){return(0,oa.jsx)(Ui,{children:(0,oa.jsx)(ua,{children:(0,oa.jsx)(Mi,{children:(0,oa.jsx)(Ce,{children:(0,oa.jsx)(Bi,{children:(0,oa.jsxs)("div",{className:"App",children:[(0,oa.jsxs)(xe,{children:[(0,oa.jsx)(ye,{path:"/login",element:(0,oa.jsx)(Zi,{})}),(0,oa.jsx)(ye,{path:"/forgot-password",element:(0,oa.jsx)(Hi,{})}),(0,oa.jsx)(ye,{path:"/reset-password",element:(0,oa.jsx)(qi,{})}),(0,oa.jsx)(ye,{path:"/dashboard",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Ji,{})})}),(0,oa.jsx)(ye,{path:"/user-management",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Qi,{})})}),(0,oa.jsx)(ye,{path:"/pasien",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Yi,{})})}),(0,oa.jsx)(ye,{path:"/rujukan",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)($i,{})})}),(0,oa.jsx)(ye,{path:"/faskes",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(es,{})})}),(0,oa.jsx)(ye,{path:"/peta",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Es,{})})}),(0,oa.jsx)(ye,{path:"/tempat-tidur",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(As,{})})}),(0,oa.jsx)(ye,{path:"/laporan",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Ls,{})})}),(0,oa.jsx)(ye,{path:"/search",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Os,{})})}),(0,oa.jsx)(ye,{path:"/tracking",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Bs,{})})}),(0,oa.jsx)(ye,{path:"/tracking-dashboard",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Hs,{})})}),(0,oa.jsx)(ye,{path:"/ambulance-tracker",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(qs,{})})}),(0,oa.jsx)(ye,{path:"/driver",element:(0,oa.jsx)(Gs,{children:(0,oa.jsx)(Ks,{})})}),(0,oa.jsx)(ye,{path:"/",element:(0,oa.jsx)(ve,{to:"/dashboard",replace:!0})}),(0,oa.jsx)(ye,{path:"*",element:(0,oa.jsx)(Vs,{})})]}),(0,oa.jsx)(Js.default,{position:"top-right",maxToasts:5})]})})})})})})},Ys=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:s,getTTFB:r}=t;n(e),a(e),i(e),s(e),r(e)})};r.createRoot(document.getElementById("root")).render((0,oa.jsx)(i.StrictMode,{children:(0,oa.jsx)(Qs,{})})),Ys()})()})();
//# sourceMappingURL=main.7d8a1d66.js.map